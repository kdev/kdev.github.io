<!DOCTYPE html>
<html lang="en" xml:lang="en">
<head>
<!-- otrs.github.io -->
<link href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="../../../../../../documentation.css">
<script src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="../../../../../../documentation.js"></script>
<link rel="icon" type="image/png" sizes="32x32" href="../../../../../../../images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../../../../../../images/favicon-16x16.png">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/default.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>
<script>
$(document).ready(function() {

    // Hint languages to prevent false matches (php for example).
    hljs.configure({
        languages: ['perl', 'javascript', 'xml', 'html', 'css', 'json', 'yaml']
    });

    // programlistings in manuals
    $('pre.programlisting').each(function(i, block) {
        hljs.highlightBlock(block);
    });
    // code snippets in Perl API docs
    $('.pod pre').addClass('perl').each(function(i, block) {
        hljs.highlightBlock(block);
    });
});</script>
<!-- otrs.github.io -->

<title>Kernel::System::SysConfig &mdash; OTRS 8.0 API Reference Perl</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body><div class="box">
  <h1 class="t1">OTRS 8.0 API Reference Perl</h1>
  <table>
    <tr>
      <td class="label">Description</td>
      <td class="cell">manuals and libraries</td>
    </tr>
  </table>
</div>
<div class="path">
  <a href="../../index.html">OTRS 8.0 API Reference Perl</a> &gt; Perl Modules &gt;
  Kernel::System::SysConfig
</div>
<div>

</div>

<div class="pod">


<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#PUBLIC-INTERFACE">PUBLIC INTERFACE</a>
    <ul>
      <li><a href="#new">new()</a></li>
      <li><a href="#SettingGet">SettingGet()</a></li>
      <li><a href="#SettingUpdate">SettingUpdate()</a></li>
      <li><a href="#SettingLock">SettingLock()</a></li>
      <li><a href="#SettingUnlock">SettingUnlock()</a></li>
      <li><a href="#SettingLockCheck">SettingLockCheck()</a></li>
      <li><a href="#SettingEffectiveValueGet">SettingEffectiveValueGet()</a></li>
      <li><a href="#SettingRender">SettingRender()</a></li>
      <li><a href="#SettingAddItem">SettingAddItem()</a></li>
      <li><a href="#SettingsUpdatedList">SettingsUpdatedList()</a></li>
      <li><a href="#SettingEffectiveValueCheck">SettingEffectiveValueCheck()</a></li>
      <li><a href="#SettingReset">SettingReset()</a></li>
      <li><a href="#SettingDelete">SettingDelete()</a></li>
      <li><a href="#ConfigurationTranslatedGet">ConfigurationTranslatedGet()</a></li>
      <li><a href="#SettingNavigationToPath">SettingNavigationToPath()</a></li>
      <li><a href="#ConfigurationTranslatableStrings">ConfigurationTranslatableStrings()</a></li>
      <li><a href="#ConfigurationEntitiesGet">ConfigurationEntitiesGet()</a></li>
      <li><a href="#ConfigurationEntityCheck">ConfigurationEntityCheck()</a></li>
      <li><a href="#ConfigurationXML2DB">ConfigurationXML2DB()</a></li>
      <li><a href="#ConfigurationNavigationTree">ConfigurationNavigationTree()</a></li>
      <li><a href="#ConfigurationListGet">ConfigurationListGet()</a></li>
      <li><a href="#ConfigurationList">ConfigurationList()</a></li>
      <li><a href="#ConfigurationInvalidList">ConfigurationInvalidList()</a></li>
      <li><a href="#ConfigurationDeploy">ConfigurationDeploy()</a></li>
      <li><a href="#ConfigurationDeployList">ConfigurationDeployList()</a></li>
      <li><a href="#ConfigurationDeploySync-Updates-ZZZAAuto.pm-to-the-latest-deployment-found-in-the-database">ConfigurationDeploySync() Updates ZZZAAuto.pm to the latest deployment found in the database.</a></li>
      <li><a href="#ConfigurationDeployCleanup">ConfigurationDeployCleanup()</a></li>
      <li><a href="#ConfigurationDeployGet">ConfigurationDeployGet()</a></li>
      <li><a href="#ConfigurationDeployGetLast">ConfigurationDeployGetLast()</a></li>
      <li><a href="#ConfigurationDeploySettingsListGet">ConfigurationDeploySettingsListGet()</a></li>
      <li><a href="#ConfigurationIsDirtyCheck">ConfigurationIsDirtyCheck()</a></li>
      <li><a href="#ConfigurationDump">ConfigurationDump()</a></li>
      <li><a href="#ConfigurationLoad">ConfigurationLoad()</a></li>
      <li><a href="#ConfigurationDirtySettingsList">ConfigurationDirtySettingsList()</a></li>
      <li><a href="#ConfigurationLockedSettingsList">ConfigurationLockedSettingsList()</a></li>
      <li><a href="#ConfigurationSearch">ConfigurationSearch()</a></li>
      <li><a href="#ConfigurationCategoriesGet">ConfigurationCategoriesGet()</a></li>
      <li><a href="#ForbiddenValueTypesGet">ForbiddenValueTypesGet()</a></li>
      <li><a href="#ValueAttributeList">ValueAttributeList()</a></li>
      <li><a href="#SettingsSet">SettingsSet()</a></li>
      <li><a href="#OverriddenFileNameGet">OverriddenFileNameGet()</a></li>
      <li><a href="#GlobalEffectiveValueGet">GlobalEffectiveValueGet()</a></li>
    </ul>
  </li>
  <li><a href="#PRIVATE-INTERFACE">PRIVATE INTERFACE</a>
    <ul>
      <li><a href="#IsOverriddenInModule">_IsOverriddenInModule()</a></li>
      <li><a href="#FileWriteAtomic">_FileWriteAtomic()</a></li>
      <li><a href="#ConfigurationTranslatableStrings1">_ConfigurationTranslatableStrings()</a></li>
      <li><a href="#DBCleanUp">_DBCleanUp();</a></li>
      <li><a href="#NavigationTree">_NavigationTree();</a></li>
      <li><a href="#ConfigurationEntitiesGet1">_ConfigurationEntitiesGet();</a></li>
      <li><a href="#EffectiveValues2PerlFile">_EffectiveValues2PerlFile()</a></li>
      <li><a href="#SettingEffectiveValueCheck1">_SettingEffectiveValueCheck()</a></li>
      <li><a href="#SettingEffectiveValueCheckCacheSet-Sets-cache-for-EffectiveValueCheck-to-the-provided-value">_SettingEffectiveValueCheckCacheSet() Sets cache for EffectiveValueCheck to the provided value.</a></li>
      <li><a href="#GetSettingsToDeploy">_GetSettingsToDeploy()</a></li>
      <li><a href="#HandleSettingsToDeploy">_HandleSettingsToDeploy()</a></li>
      <li><a href="#SettingTranslatedGet">_SettingTranslatedGet()</a></li>
      <li><a href="#ValueTypesList">_ValueTypesList()</a></li>
      <li><a href="#DefaultSettingAddBulk">_DefaultSettingAddBulk()</a></li>
      <li><a href="#UserConfigDirectory">_UserConfigDirectory()</a></li>
    </ul>
  </li>
</ul>

<h1 id="NAME">NAME</h1>

<p>Kernel::System::SysConfig - Functions to manage system configuration settings.</p>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>All functions to manage system configuration settings.</p>

<h1 id="PUBLIC-INTERFACE">PUBLIC INTERFACE</h1>

<h2 id="new">new()</h2>

<p>Don&#39;t use the constructor directly, use the ObjectManager instead:</p>

<pre><code>    my $SysConfigObject = $Kernel::OM-&gt;Get(&#39;Kernel::System::SysConfig&#39;);</code></pre>

<h2 id="SettingGet">SettingGet()</h2>

<p>Get SysConfig setting attributes.</p>

<pre><code>    my %Setting = $SysConfigObject-&gt;SettingGet(
        Name            =&gt; &#39;Setting::Name&#39;,  # (required) Setting name
        Default         =&gt; 1,                # (optional) Returns the default setting attributes only
        ModifiedID      =&gt; &#39;123&#39;,            # (optional) Get setting value for given ModifiedID.
        Deployed        =&gt; 1,                # (optional) Get deployed setting value. Default 0.
        OverriddenInXML =&gt; 1,                # (optional) Consider changes made in perl files. Default 0.
        Translate       =&gt; 1,                # (optional) Translate translatable strings in EffectiveValue. Default 0.
        NoLog           =&gt; 1,                # (optional) Do not log error if a setting does not exist.
        NoCache         =&gt; 1,                # (optional) Do not create cache.
        UserID          =&gt; 1,                # Required only if OverriddenInXML is set.
    );</code></pre>

<p>Returns:</p>

<pre><code>    %Setting = (
        DefaultID                =&gt; 123,
        ModifiedID               =&gt; 456,         # optional
        Name                     =&gt; &quot;ProductName&quot;,
        Description              =&gt; &quot;Defines the name of the application ...&quot;,
        Navigation               =&gt; &quot;ASimple::Path::Structure&quot;,
        IsInvisible              =&gt; 1,           # 1 or 0
        IsReadonly               =&gt; 0,           # 1 or 0
        IsRequired               =&gt; 1,           # 1 or 0
        IsModified               =&gt; 1,           # 1 or 0
        IsValid                  =&gt; 1,           # 1 or 0
        HasConfigLevel           =&gt; 200,
        XMLContentRaw            =&gt; &quot;The XML structure as it is on the config file&quot;,
        XMLContentParsed         =&gt; &quot;XML parsed to Perl&quot;,
        XMLFilename              =&gt; &quot;Framework.xml&quot;,
        EffectiveValue           =&gt; &quot;Product 6&quot;,
        IsDirty                  =&gt; 1,           # 1 or 0
        ExclusiveLockGUID        =&gt; &#39;A32CHARACTERLONGSTRINGFORLOCKING&#39;,
        ExclusiveLockUserID      =&gt; 1,
        ExclusiveLockExpiryTime  =&gt; &#39;2016-05-29 11:09:04&#39;,
        CreateTime               =&gt; &quot;2016-05-29 11:04:04&quot;,
        CreateBy                 =&gt; 1,
        ChangeTime               =&gt; &quot;2016-05-29 11:04:04&quot;,
        ChangeBy                 =&gt; 1,
        DefaultValue             =&gt; &#39;Old default value&#39;,
        OverriddenFileName        =&gt; &#39;/opt/otrs/Kernel/Config/Files/ZZZ.pm&#39;,
    );</code></pre>

<h2 id="SettingUpdate">SettingUpdate()</h2>

<p>Update an existing SysConfig Setting.</p>

<pre><code>    my %Result = $SysConfigObject-&gt;SettingUpdate(
        Name                   =&gt; &#39;Setting::Name&#39;,           # (required) setting name
        IsValid                =&gt; 1,                         # (optional) 1 or 0, modified 0
        EffectiveValue         =&gt; $SettingEffectiveValue,    # (optional)
        ExclusiveLockGUID      =&gt; $LockingString,            # the GUID used to locking the setting
        UserID                 =&gt; 1,                         # (required) UserID
        NoValidation           =&gt; 1,                         # (optional) no value type validation.
    );</code></pre>

<p>Returns:</p>

<pre><code>    %Result = (
        Success =&gt; 1,        # or false in case of an error
        Error   =&gt; undef,    # error message
    );</code></pre>

<h2 id="SettingLock">SettingLock()</h2>

<p>Lock setting(s) to the particular user.</p>

<pre><code>    my $ExclusiveLockGUID = $SysConfigObject-&gt;SettingLock(
        DefaultID =&gt; 1,                     # the ID of the setting that needs to be locked
                                            #    or
        Name      =&gt; &#39;SettingName&#39;,         # the Name of the setting that needs to be locked
                                            #    or
        LockAll   =&gt; 1,                     # system locks all settings
        Force     =&gt; 1,                     # (optional) Force locking (do not check if it&#39;s already locked by another user). Default: 0.
        UserID    =&gt; 1,                     # (required)
    );</code></pre>

<p>Returns:</p>

<pre><code>    $ExclusiveLockGUID = &#39;azzHab72wIlAXDrxHexsI5aENsESxAO7&#39;;     # Setting locked

    or

    $ExclusiveLockGUID = undef;     # Not locked</code></pre>

<h2 id="SettingUnlock">SettingUnlock()</h2>

<p>Unlock particular or all Setting(s).</p>

<pre><code>    my $Success = $SysConfigObject-&gt;SettingUnlock(
        DefaultID =&gt; 1,                     # the ID of the setting that needs to be unlocked
                                            #   or
        Name      =&gt; &#39;SettingName&#39;,         # the name of the setting that needs to be locked
                                            #   or
        UnlockAll =&gt; 1,                     # unlock all settings
    );</code></pre>

<p>Returns:</p>

<pre><code>    $Success = 1;</code></pre>

<h2 id="SettingLockCheck">SettingLockCheck()</h2>

<p>Check setting lock status.</p>

<pre><code>    my %Result = $SysConfigObject-&gt;SettingLockCheck(
        DefaultID           =&gt; 1,                     # the ID of the setting that needs to be checked
        ExclusiveLockGUID   =&gt; 1,                     # lock GUID
        ExclusiveLockUserID =&gt; 1,                     # UserID
    );</code></pre>

<p>Returns:</p>

<pre><code>    %Result = (
        Locked =&gt; 1,                        # lock status;
                                            # 0 - unlocked
                                            # 1 - locked to another user
                                            # 2 - locked to provided user
        User   =&gt; {                         # User data, provided only if Locked = 1
            UserLogin =&gt; ...,
            UserFirstname =&gt; ...,
            UserLastname =&gt; ...,
            ...
        },
    );</code></pre>

<h2 id="SettingEffectiveValueGet">SettingEffectiveValueGet()</h2>

<p>Calculate effective value for a given parsed XML structure.</p>

<pre><code>    my $Result = $SysConfigObject-&gt;SettingEffectiveValueGet(
        Translate =&gt; 1,                      # (optional) Translate translatable strings. Default 0.
        Value  =&gt; [                          # (required) parsed XML structure
            {
                &#39;Item&#39; =&gt; [
                    {
                        &#39;ValueType&#39; =&gt; &#39;String&#39;,
                        &#39;Content&#39; =&gt; &#39;3600&#39;,
                        &#39;ValueRegex&#39; =&gt; &#39;&#39;
                    },
                ],
            },
            Objects =&gt; {
                Select =&gt; { ... },
                PerlModule =&gt; { ... },
                # ...
            }
        ];
    );</code></pre>

<p>Returns:</p>

<pre><code>    $Result = &#39;3600&#39;;</code></pre>

<h2 id="SettingRender">SettingRender()</h2>

<p>Wrapper for Kernel::Output::HTML::SysConfig::SettingRender() - Returns the specific HTML for the setting.</p>

<pre><code>    my $HTMLStr = $SysConfigObject-&gt;SettingRender(
        Setting   =&gt; {
            Name             =&gt; &#39;Setting Name&#39;,
            XMLContentParsed =&gt; $XMLParsedToPerl,
            EffectiveValue   =&gt; &quot;Product 6&quot;,        # or a complex structure
            DefaultValue     =&gt; &quot;Product 5&quot;,        # or a complex structure
            IsAjax           =&gt; 1,                  # (optional) is AJAX request. Default 0.
            # ...
        },
        RW =&gt; 1,                                    # (optional) Allow editing. Default 0.
    );</code></pre>

<p>Returns:</p>

<pre><code>    $HTMLStr = &#39;&lt;div class=&quot;Setting&quot;&gt;&lt;div class &quot;Field&quot;...&lt;/div&gt;&lt;/div&gt;&#39;        # or false in case of an error</code></pre>

<h2 id="SettingAddItem">SettingAddItem()</h2>

<p>Wrapper for Kernel::Output::HTML::SysConfig::SettingAddItem() - Returns response that is sent when user adds new array/hash item.</p>

<pre><code>    my %Result = $SysConfigObject-&gt;SettingAddItem(
        SettingStructure  =&gt; [],         # (required) array that contains structure
                                         #  where a new item should be inserted (can be empty)
        Setting           =&gt; {           # (required) Setting hash (from SettingGet())
            &#39;DefaultID&#39; =&gt; &#39;8905&#39;,
            &#39;DefaultValue&#39; =&gt; [ &#39;Item 1&#39;, &#39;Item 2&#39; ],
            &#39;Description&#39; =&gt; &#39;Simple array item(Min 1, Max 3).&#39;,
            &#39;Name&#39; =&gt; &#39;TestArray&#39;,
            ...
        },
        Key               =&gt; &#39;HashKey&#39;,  # (optional) hash key
        IDSuffix          =&gt; &#39;_Array3,   # (optional) suffix that will be added to all input/select fields
                                         #    (it is used in the JS on Update, during EffectiveValue calculation)
        Value             =&gt; [           # (optional) Perl structure
            {
                &#39;Array&#39; =&gt; [
                    &#39;Item&#39; =&gt; [
                        {
                        &#39;Content&#39; =&gt; &#39;Item 1&#39;,
                        },
                        ...
                    ],
                ],
            },
        ],
        AddSettingContent =&gt; 0,          # (optional) if enabled, result will be inside of div with class &quot;SettingContent&quot;
    );</code></pre>

<p>Returns:</p>

<pre><code>    %Result = (
        &#39;Item&#39; =&gt; &#39;&lt;div class=\&#39;SettingContent\&#39;&gt;
&lt;input type=\&#39;text\&#39; id=\&#39;TestArray_Array4\&#39;
        value=\&#39;Default value\&#39; name=\&#39;TestArray\&#39; class=\&#39; Entry\&#39;/&gt;&lt;/div&gt;&#39;,
    );

    or

    %Result = (
        &#39;Error&#39; =&gt; &#39;Error description&#39;,
    );</code></pre>

<h2 id="SettingsUpdatedList">SettingsUpdatedList()</h2>

<p>Checks which settings has been updated from provided Setting list and returns updated values.</p>

<pre><code>    my @List = $SysConfigObject-&gt;SettingsUpdatedList(
        Settings =&gt; [                                               # (required) List of settings that needs to be checked
            {
                SettingName           =&gt; &#39;SettingName&#39;,
                ChangeTime            =&gt; &#39;2017-01-13 11:23:07&#39;,
                IsLockedByAnotherUser =&gt; 0,
            },
            ...
        ],
        UserID =&gt; 1,                                                # (required) Current user id
    );</code></pre>

<p>Returns:</p>

<pre><code>    @List = [
        {
            ChangeTime            =&gt; &#39;2017-01-07 11:29:38&#39;,
            IsLockedByAnotherUser =&gt; 1,
            IsModified            =&gt; 1,
            SettingName           =&gt; &#39;SettingName&#39;,
        },
        ...
    ];</code></pre>

<h2 id="SettingEffectiveValueCheck">SettingEffectiveValueCheck()</h2>

<p>Check if provided EffectiveValue matches structure defined in DefaultSetting. Also returns EffectiveValue that might be changed.</p>

<pre><code>    my %Result = $SysConfigObject-&gt;SettingEffectiveValueCheck(
        EffectiveValue =&gt; &#39;open&#39;,     # (optional)
        XMLContentParsed =&gt; {         # (required)
            Value =&gt; [
                {
                    &#39;Item&#39; =&gt; [
                        {
                            &#39;Content&#39; =&gt; &quot;Scalar value&quot;,
                        },
                    ],
                },
            ],
        },
        StoreCache            =&gt; 1,               # (optional) Store result in the Cache. Default 0.
        SettingUID            =&gt; &#39;Default1234&#39;    # (required if StoreCache)
        NoValidation          =&gt; 1,               # (optional) no value type validation.
        CurrentSystemTime     =&gt; 1507894796935,   # (optional) Use provided 1507894796935, otherwise calculate
        ExpireTime            =&gt; 1507894896935,   # (optional) Use provided ExpireTime for cache, otherwise calculate
        UserID                =&gt; 1,               # (required) UserID
    );</code></pre>

<p>Returns:</p>

<pre><code>    %Result = (
        EffectiveValue =&gt; &#39;closed&#39;,    # Note that resulting effective value can be different
        Success        =&gt; 1,
        Error          =&gt; undef,
    );</code></pre>

<h2 id="SettingReset">SettingReset()</h2>

<p>Reset the modified value to the default value.</p>

<pre><code>    my $Result = $SysConfigObject-&gt;SettingReset(
        Name                  =&gt; &#39;Setting Name&#39;,                # (required) Setting name
        ExclusiveLockGUID     =&gt; $LockingString,                # (optional) the GUID used to locking the setting
        UserID                =&gt; 1,                             # (required) UserID that creates modification
    );</code></pre>

<p>Returns:</p>

<pre><code>    $Result = 1;        # or false in case of an error</code></pre>

<h2 id="SettingDelete">SettingDelete()</h2>

<p>Removes a setting and all its values from the database.</p>

<p>If the setting still exists in the XML files it will be recreated with its default value in the next configuration rebuild</p>

<pre><code>    my $Success = $SysConfigObject-&gt;SettingDelete(
        Name   =&gt; &#39;Setting Name&#39;,                # (required) Setting name
        UserID =&gt; 1,                             # (required)
    );</code></pre>

<p>Returns:</p>

<pre><code>    $Success = 1;        # or false in case of an error</code></pre>

<h2 id="ConfigurationTranslatedGet">ConfigurationTranslatedGet()</h2>

<p>Returns a hash with all settings and translated metadata.</p>

<pre><code>    my %Result = $SysConfigObject-&gt;ConfigurationTranslatedGet();</code></pre>

<p>Returns:</p>

<pre><code>    %Result = (
       &#39;ACL::CacheTTL&#39; =&gt; {
            &#39;Category&#39; =&gt; &#39;OTRS&#39;,
            &#39;IsInvisible&#39; =&gt; &#39;0&#39;,
            &#39;Metadata&#39; =&gt; &quot;ACL::CacheTTL--- &#39;3600&#39;
Cache-Zeit in Sekunden f\x{fc}r Datenbank ACL-Backends.&quot;,
        ...
    );</code></pre>

<h2 id="SettingNavigationToPath">SettingNavigationToPath()</h2>

<p>Returns path structure for given navigation group.</p>

<pre><code>    my @Path = $SysConfigObject-&gt;SettingNavigationToPath(
        Navigation =&gt; &#39;Frontend::Agent::ToolBarModule&#39;,  # (optional)
    );</code></pre>

<p>Returns:</p>

<pre><code>    @Path = (
        {
            &#39;Value&#39; =&gt; &#39;Frontend&#39;,
            &#39;Name&#39; =&gt; &#39;Frontend&#39;,
        },
        {
            &#39;Value&#39; =&gt; &#39;Frontend::Agent&#39;,
            &#39;Name&#39; =&gt; &#39;Agent&#39;,
        },
        ...
    );</code></pre>

<h2 id="ConfigurationTranslatableStrings">ConfigurationTranslatableStrings()</h2>

<p>Returns a unique list of all translatable strings from the default settings.</p>

<pre><code>    my @TranslatableStrings = $SysConfigObject-&gt;ConfigurationTranslatableStrings();</code></pre>

<h2 id="ConfigurationEntitiesGet">ConfigurationEntitiesGet()</h2>

<p>Get all entities that are referred in any enabled Setting in complete SysConfig.</p>

<pre><code>    my %Result = $SysConfigObject-&gt;ConfigurationEntitiesGet();</code></pre>

<p>Returns:</p>

<pre><code>    %Result = (
        &#39;Priority&#39; =&gt; {
            &#39;3 normal&#39; =&gt; [
                &#39;Ticket::Frontend::AgentTicketNote###PriorityDefault&#39;,
                &#39;Ticket::Frontend::AgentTicketPhone###Priority&#39;,
                ...
            ],
        },
        &#39;Queue&#39; =&gt; {
            &#39;Postmaster&#39; =&gt; [
                &#39;Ticket::Frontend::CustomerTicketMessage###QueueDefault&#39;,
            ],
            &#39;Raw&#39; =&gt; [
                &#39;PostmasterDefaultQueue&#39;,
            ],
        },
        ...
    );</code></pre>

<h2 id="ConfigurationEntityCheck">ConfigurationEntityCheck()</h2>

<p>Check if there are any enabled settings that refers to the provided Entity.</p>

<pre><code>    my @Result = $SysConfigObject-&gt;ConfigurationEntityCheck(
        EntityType  =&gt; &#39;Priority&#39;,
        EntityName  =&gt; &#39;3 normal&#39;,
    );</code></pre>

<p>Returns:</p>

<pre><code>    @Result = (
        &#39;Ticket::Frontend::AgentTicketNote###PriorityDefault&#39;,
        &#39;Ticket::Frontend::AgentTicketPhone###Priority&#39;,
        &#39;Ticket::Frontend::AgentTicketBulk###PriorityDefault&#39;,
        ...
    );</code></pre>

<h2 id="ConfigurationXML2DB">ConfigurationXML2DB()</h2>

<p>Load Settings defined in XML files to the database.</p>

<pre><code>    my $Success = $SysConfigObject-&gt;ConfigurationXML2DB(
        UserID    =&gt; 1,                  # UserID
        Directory =&gt; &#39;/some/folder&#39;,     # (optional) Provide directory where XML files are stored (default: Kernel/Config/Files/XML).
        Force     =&gt; 1,                  # (optional) Force Setting update, even if it&#39;s locked by another user. Default: 0.
        CleanUp   =&gt; 1,                  # (optional) Remove all settings that are not present in XML files. Default: 0.
    );</code></pre>

<p>Returns:</p>

<pre><code>    $Success = 1;       # or false in case of an error.</code></pre>

<h2 id="ConfigurationNavigationTree">ConfigurationNavigationTree()</h2>

<p>Returns navigation tree in the hash format.</p>

<pre><code>    my %Result = $SysConfigObject-&gt;ConfigurationNavigationTree(
        RootNavigation         =&gt; &#39;Parent&#39;,     # (optional) If provided only sub groups of the root navigation are returned.
        IsValid                =&gt; 1,            # (optional) By default, display all settings.
        Category               =&gt; &#39;OTRS&#39;    # (optional)
    );</code></pre>

<p>Returns:</p>

<pre><code>    %Result = (
        &#39;Core&#39; =&gt; {
            &#39;Core::Cache&#39; =&gt; {},
            &#39;Core::CustomerCompany&#39; =&gt; {},
            &#39;Core::CustomerUser&#39; =&gt; {},
            &#39;Core::Daemon&#39; =&gt; {
                &#39;Core::Daemon::ModuleRegistration&#39; =&gt; {},
            },
            ...
        &#39;Crypt&#39; =&gt;{
            ...
        },
        ...
    );</code></pre>

<h2 id="ConfigurationListGet">ConfigurationListGet()</h2>

<p>Returns list of settings that matches provided parameters.</p>

<pre><code>    my @List = $SysConfigObject-&gt;ConfigurationListGet(
        Navigation           =&gt; &#39;SomeNavigationGroup&#39;,  # (optional) limit to the settings that have provided navigation
        IsValid              =&gt; 1,                      # (optional) by default returns valid and invalid settings.
        Invisible            =&gt; 0,                      # (optional) Include Invisible settings. By default, not included.
        Translate            =&gt; 0,                      # (optional) Translate translatable string in EffectiveValue. Default 0.
        OverriddenInXML      =&gt; 1,                      # (optional) Consider changes made in Perl files. Default 0. Use it in modules only!
        UserID               =&gt; 1,                      # Required if OverriddenInXML is set.
    );</code></pre>

<p>Returns:</p>

<pre><code>    @List = (
        {
            DefaultID                =&gt; 123,
            ModifiedID               =&gt; 456,     # if modified
            Name                     =&gt; &quot;ProductName&quot;,
            Description              =&gt; &quot;Defines the name of the application ...&quot;,
            Navigation               =&gt; &quot;ASimple::Path::Structure&quot;,
            IsInvisible              =&gt; 1,
            IsReadonly               =&gt; 0,
            IsRequired               =&gt; 1,
            IsValid                  =&gt; 1,
            HasConfigLevel           =&gt; 200,
            XMLContentRaw            =&gt; &quot;The XML structure as it is on the config file&quot;,
            XMLContentParsed         =&gt; &quot;XML parsed to Perl&quot;,
            XMLFilename              =&gt; &quot;Daemon.xml&quot;,
            EffectiveValue           =&gt; &quot;Product 6&quot;,
            DefaultValue             =&gt; &quot;Product 5&quot;,
            IsModified               =&gt; 1,       # 1 or 0
            IsDirty                  =&gt; 1,       # 1 or 0
            ExclusiveLockGUID        =&gt; &#39;A32CHARACTERLONGSTRINGFORLOCKING&#39;,
            ExclusiveLockUserID      =&gt; 1,
            ExclusiveLockExpiryTime  =&gt; &#39;2016-05-29 11:09:04&#39;,
            CreateTime               =&gt; &quot;2016-05-29 11:04:04&quot;,
            ChangeTime               =&gt; &quot;2016-05-29 11:04:04&quot;,
            OverriddenFileName        =&gt; &#39;ZZZDefauls.pm&#39;
        },
        {
            DefaultID     =&gt; 321,
            Name          =&gt; &#39;FieldName&#39;,
            # ...
            CreateTime    =&gt; &#39;2010-09-11 10:08:00&#39;,
            ChangeTime    =&gt; &#39;2011-01-01 01:01:01&#39;,
        },
        # ...
    );</code></pre>

<h2 id="ConfigurationList">ConfigurationList()</h2>

<p>Wrapper of Kernel::System::SysConfig::DB::DefaultSettingList() - Get list of all settings.</p>

<pre><code>    my @SettingList = $SysConfigObject-&gt;ConfigurationList();</code></pre>

<p>Returns:</p>

<pre><code>    @SettingList = (
        {
            DefaultID =&gt; &#39;123&#39;,
            Name      =&gt; &#39;SettingName1&#39;,
            IsDirty   =&gt; 1,
        },
        {
            DefaultID =&gt; &#39;124&#39;,
            Name      =&gt; &#39;SettingName2&#39;,
            IsDirty   =&gt; 0
        },
        ...
    );</code></pre>

<h2 id="ConfigurationInvalidList">ConfigurationInvalidList()</h2>

<p>Returns list of enabled settings that have invalid effective value.</p>

<pre><code>    my @List = $SysConfigObject-&gt;ConfigurationInvalidList(
        CachedOnly  =&gt; 0,   # (optional) Default 0. If enabled, system will return cached value.
                            #                 If there is no cache yet, system will return empty list, but
                            #                 it will also trigger async call to generate cache.
        Undeployed  =&gt; 1,   # (optional) Default 0. Check settings that are not deployed as well.
        NoCache     =&gt; 1,   # (optional) Default 0. If enabled, system won&#39;t check the cached value.
    );</code></pre>

<p>Returns:</p>

<pre><code>    @List = ( &quot;Setting1&quot;, &quot;Setting5&quot;, ... );</code></pre>

<h2 id="ConfigurationDeploy">ConfigurationDeploy()</h2>

<p>Write configuration items from database into a perl module file.</p>

<pre><code>    my %Result = $SysConfigObject-&gt;ConfigurationDeploy(
        Comments            =&gt; &quot;Some comments&quot;,     # (optional)
        NoValidation        =&gt; 0,                   # (optional) 1 or 0, default 0, skips settings validation
        UserID              =&gt; 123,                 # if ExclusiveLockGUID is used, UserID must match the user that creates the lock
        Force               =&gt; 1,                   # (optional) proceed even if lock is set to another user
        NotDirty            =&gt; 1,                   # (optional) do not use any values from modified dirty settings
        AllSettings         =&gt; 1,                   # (optional) use dirty modified settings from all users
        DirtySettings       =&gt; [                    # (optional) use only this dirty modified settings from the current user
            &#39;SettingOne&#39;,
            &#39;SettingTwo&#39;,
        ],
    );</code></pre>

<p>Returns:</p>

<pre><code>    %Result = (
        Success =&gt; 1,           # Deployment successful.
    );

    or

    %Result = (
        Success =&gt; 0,           # Deployment failed.
        Error   =&gt; &#39;Error...&#39;,  # Error message (if available)
    );</code></pre>

<h2 id="ConfigurationDeployList">ConfigurationDeployList()</h2>

<p>Get deployment list with complete data.</p>

<pre><code>    my @List = $SysConfigObject-&gt;ConfigurationDeployList();</code></pre>

<p>Returns:</p>

<pre><code>    @List = (
        {
            DeploymentID       =&gt; 123,
            Comments           =&gt; &#39;Some Comments&#39;,
            EffectiveValueStrg =&gt; $SettingEffectiveValues,      # String with the value of all settings,
                                                                #   as seen in the Perl configuration file.
            CreateTime         =&gt; &quot;2016-05-29 11:04:04&quot;,
            CreateBy           =&gt; 123,
        },
        {
            DeploymentID       =&gt; 456,
            Comments           =&gt; &#39;Some Comments&#39;,
            EffectiveValueStrg =&gt; $SettingEffectiveValues2,     # String with the value of all settings,
                                                                #   as seen in the Perl configuration file.
            CreateTime         =&gt; &quot;2016-05-29 12:00:01&quot;,
            CreateBy           =&gt; 123,
        },
        # ...
    );</code></pre>

<h2 id="ConfigurationDeploySync-Updates-ZZZAAuto.pm-to-the-latest-deployment-found-in-the-database">ConfigurationDeploySync() Updates <code>ZZZAAuto.pm</code> to the latest deployment found in the database.</h2>

<pre><code>    my $Success = $SysConfigObject-&gt;ConfigurationDeploySync();</code></pre>

<h2 id="ConfigurationDeployCleanup">ConfigurationDeployCleanup()</h2>

<p>Cleanup old deployments from the database.</p>

<pre><code>    my $Success = $SysConfigObject-&gt;ConfigurationDeployCleanup();</code></pre>

<p>Returns:</p>

<pre><code>    $Success = 1;       # or false in case of an error</code></pre>

<h2 id="ConfigurationDeployGet">ConfigurationDeployGet()</h2>

<p>Wrapper of Kernel::System::SysConfig::DB::DeploymentGet() - Get deployment information.</p>

<pre><code>    my %Deployment = $SysConfigObject-&gt;ConfigurationDeployGet(
        DeploymentID =&gt; 123,
    );</code></pre>

<p>Returns:</p>

<pre><code>    %Deployment = (
        DeploymentID       =&gt; 123,
        Comments           =&gt; &#39;Some Comments&#39;,
        EffectiveValueStrg =&gt; $SettingEffectiveValues,      # String with the value of all settings,
                                                            #   as seen in the Perl configuration file.
        CreateTime         =&gt; &quot;2016-05-29 11:04:04&quot;,
        CreateBy           =&gt; 123,
    );</code></pre>

<h2 id="ConfigurationDeployGetLast">ConfigurationDeployGetLast()</h2>

<p>Wrapper of Kernel::System::SysConfig::DBDeploymentGetLast() - Get last deployment information.</p>

<pre><code>    my %Deployment = $SysConfigObject-&gt;ConfigurationDeployGetLast();</code></pre>

<p>Returns:</p>

<pre><code>    %Deployment = (
        DeploymentID       =&gt; 123,
        Comments           =&gt; &#39;Some Comments&#39;,
        EffectiveValueStrg =&gt; $SettingEffectiveValues,      # String with the value of all settings,
                                                            #   as seen in the Perl configuration file.
        CreateTime         =&gt; &quot;2016-05-29 11:04:04&quot;,
        CreateBy           =&gt; 123,
    );</code></pre>

<h2 id="ConfigurationDeploySettingsListGet">ConfigurationDeploySettingsListGet()</h2>

<p>Gets full modified settings information contained on a given deployment.</p>

<pre><code>    my @List = $SysConfigObject-&gt;ConfigurationDeploySettingsListGet(
        DeploymentID =&gt; 123,
    );</code></pre>

<p>Returns:</p>

<pre><code>    @List = (
        {
            DefaultID                =&gt; 123,
            ModifiedID               =&gt; 456,
            ModifiedVersionID        =&gt; 789,
            Name                     =&gt; &quot;ProductName&quot;,
            Description              =&gt; &quot;Defines the name of the application ...&quot;,
            Navigation               =&gt; &quot;ASimple::Path::Structure&quot;,
            IsInvisible              =&gt; 1,
            IsReadonly               =&gt; 0,
            IsRequired               =&gt; 1,
            IsValid                  =&gt; 1,
            HasConfigLevel           =&gt; 200,
            XMLContentRaw            =&gt; &quot;The XML structure as it is on the config file&quot;,
            XMLContentParsed         =&gt; &quot;XML parsed to Perl&quot;,
            EffectiveValue           =&gt; &quot;Product 6&quot;,
            DefaultValue             =&gt; &quot;Product 5&quot;,
            IsModified               =&gt; 1,       # 1 or 0
            IsDirty                  =&gt; 1,       # 1 or 0
            ExclusiveLockGUID        =&gt; &#39;A32CHARACTERLONGSTRINGFORLOCKING&#39;,
            ExclusiveLockUserID      =&gt; 1,
            ExclusiveLockExpiryTime  =&gt; &#39;2016-05-29 11:09:04&#39;,
            CreateTime               =&gt; &quot;2016-05-29 11:04:04&quot;,
            ChangeTime               =&gt; &quot;2016-05-29 11:04:04&quot;,
        },
        {
            DefaultID         =&gt; 321,
            ModifiedID        =&gt; 654,
            ModifiedVersionID =&gt; 987,
             Name             =&gt; &#39;FieldName&#39;,
            # ...
            CreateTime =&gt; &#39;2010-09-11 10:08:00&#39;,
            ChangeTime =&gt; &#39;2011-01-01 01:01:01&#39;,
        },
        # ...
    );</code></pre>

<h2 id="ConfigurationIsDirtyCheck">ConfigurationIsDirtyCheck()</h2>

<p>Check if there are not deployed changes on system configuration.</p>

<pre><code>    my $Result = $SysConfigObject-&gt;ConfigurationIsDirtyCheck(
        UserID =&gt; 123,      # optional, the user that changes a modified setting
    );</code></pre>

<p>Returns:</p>

<pre><code>    $Result = 1;    # or 0 if configuration is not dirty.</code></pre>

<h2 id="ConfigurationDump">ConfigurationDump()</h2>

<p>Creates a YAML file with the system configuration settings.</p>

<pre><code>    my $ConfigurationDumpYAML = $SysConfigObject-&gt;ConfigurationDump(
        OnlyValues           =&gt; 0,  # optional, default 0, dumps only the setting effective value instead of the whole setting attributes.
        SkipDefaultSettings  =&gt; 0,  # optional, default 0, do not include default settings
        SkipModifiedSettings =&gt; 0,  # optional, default 0, do not include modified settings
        DeploymentID         =&gt; 123, # optional, if it is provided the modified settings are retrieved from versions
    );</code></pre>

<p>Returns:</p>

<pre><code>    my $ConfigurationDumpYAML = &#39;---
Default:
  Setting1:
    DefaultID: 23766
    Name: Setting1
    # ...
  Setting2:
  # ...
Modified:
  Setting1
    DefaultID: 23776
    ModifiedID: 1250
    Name: Setting1
    # ...
  # ...
JDoe:
  Setting2
    DefaultID: 23777
    ModifiedID: 1251
    Name: Setting2
    # ...
  # ...
# ...</code></pre>

<p>or</p>

<pre><code>    my $ConfigurationDumpYAML = $SysConfigObject-&gt;ConfigurationDump(
        OnlyValues =&gt; 1,
    );</code></pre>

<p>Returns:</p>

<pre><code>    my $ConfigurationDumpYAML = &#39;---
Default:
  Setting1: Test
  Setting2: Test
  # ...
Modified:
  Setting1: TestUpdate
  # ...
JDoe:
  Setting2: TestUser
  # ...
# ...
&#39;;</code></pre>

<h2 id="ConfigurationLoad">ConfigurationLoad()</h2>

<p>Takes a YAML file with settings definition and try to import it into the system.</p>

<pre><code>    my $Success = $SysConfigObject-&gt;ConfigurationLoad(
        ConfigurationYAML   =&gt; $YAMLString,     # a YAML string in the format of L&lt;ConfigurationDump()&gt;
        UserID              =&gt; 123,
    );</code></pre>

<h2 id="ConfigurationDirtySettingsList">ConfigurationDirtySettingsList()</h2>

<p>Returns a list of setting names that are dirty.</p>

<pre><code>    my @Result = $SysConfigObject-&gt;ConfigurationDirtySettingsList(
        ChangeBy =&gt; 123,
    );</code></pre>

<p>Returns:</p>

<pre><code>    $Result = [&#39;SettingA&#39;, &#39;SettingB&#39;, &#39;SettingC&#39;];</code></pre>

<h2 id="ConfigurationLockedSettingsList">ConfigurationLockedSettingsList()</h2>

<p>Returns a list of setting names that are locked in general or by user.</p>

<pre><code>    my @Result = $SysConfigObject-&gt;ConfigurationLockedSettingsList(
        ExclusiveLockUserID       =&gt; 2, # Optional, ID of the user for which the default setting is locked
    );</code></pre>

<p>Returns:</p>

<pre><code>    $Result = [&#39;SettingA&#39;, &#39;SettingB&#39;, &#39;SettingC&#39;];</code></pre>

<h2 id="ConfigurationSearch">ConfigurationSearch()</h2>

<p>Returns a list of setting names.</p>

<pre><code>    my @Result = $SysConfigObject-&gt;ConfigurationSearch(
        Search           =&gt; &#39;The search string&#39;, # (optional)
        Category         =&gt; &#39;OTRS&#39;           # (optional)
        IncludeInvisible =&gt; 1,                   # (optional) Default 0.
    );</code></pre>

<p>Returns:</p>

<pre><code>    $Result = [&#39;SettingA&#39;, &#39;SettingB&#39;, &#39;SettingC&#39;];</code></pre>

<h2 id="ConfigurationCategoriesGet">ConfigurationCategoriesGet()</h2>

<p>Returns a list of categories with their filenames.</p>

<pre><code>    my %Categories = $SysConfigObject-&gt;ConfigurationCategoriesGet();</code></pre>

<p>Returns:</p>

<pre><code>    %Categories = (
        All =&gt; {
            DisplayName =&gt; &#39;All Settings&#39;,
            Files =&gt; [],
        },
        OTRS =&gt; {
            DisplayName =&gt; &#39;OTRS&#39;,
            Files       =&gt; [&#39;Calendar.xml&#39;, CloudServices.xml&#39;, &#39;Daemon.xml&#39;, &#39;FAQ.xml&#39;, &#39;Framework.xml&#39;, &#39;GenericInterface.xml&#39;, &#39;ProcessManagement.xml&#39;, &#39;Ticket.xml&#39; ],
        },
        # ...
    );</code></pre>

<h2 id="ForbiddenValueTypesGet">ForbiddenValueTypesGet()</h2>

<p>Returns a hash of forbidden value types.</p>

<pre><code>    my %ForbiddenValueTypes = $SysConfigObject-&gt;ForbiddenValueTypesGet();</code></pre>

<p>Returns:</p>

<pre><code>    %ForbiddenValueType = (
        String =&gt; [],
        Select =&gt; [&#39;Option&#39;],
        ...
    );</code></pre>

<h2 id="ValueAttributeList">ValueAttributeList()</h2>

<p>Returns a hash of forbidden value types.</p>

<pre><code>    my @ValueAttributeList = $SysConfigObject-&gt;ValueAttributeList();</code></pre>

<p>Returns:</p>

<pre><code>    @ValueAttributeList = (
        &quot;Content&quot;,
        &quot;SelectedID&quot;,
    );</code></pre>

<h2 id="SettingsSet">SettingsSet()</h2>

<p>This method locks provided settings(by force), updates them and deploys the changes (by force).</p>

<pre><code>    my $Success = $SysConfigObject-&gt;SettingsSet(
        UserID   =&gt; 1,                                      # (required) UserID
        Comments =&gt; &#39;Deployment comment&#39;,                   # (optional) Comment
        Settings =&gt; [                                       # (required) List of settings to update.
            {
                Name                   =&gt; &#39;Setting::Name&#39;,  # (required)
                EffectiveValue         =&gt; &#39;Value&#39;,          # (optional)
                IsValid                =&gt; 1,                # (optional)
            },
            ...
        ],
    );</code></pre>

<p>Returns:</p>

<pre><code>    $Success = 1;</code></pre>

<h2 id="OverriddenFileNameGet">OverriddenFileNameGet()</h2>

<p>Returns file name which overrides setting Effective value.</p>

<pre><code>    my $FileName = $SysConfigObject-&gt;OverriddenFileNameGet(
        SettingName    =&gt; &#39;Setting::Name&#39;,  # (required)
        UserID         =&gt; 1,                # (required)
        EffectiveValue =&gt; &#39;3&#39;,              # (optional) EffectiveValue stored in the DB.
    );</code></pre>

<p>Returns:</p>

<pre><code>    $FileName = &#39;ZZZUpdate.pm&#39;;</code></pre>

<h2 id="GlobalEffectiveValueGet">GlobalEffectiveValueGet()</h2>

<p>Returns global effective value for provided setting name.</p>

<pre><code>    my $EffectiveValue = $SysConfigObject-&gt;GlobalEffectiveValueGet(
        SettingName    =&gt; &#39;Setting::Name&#39;,  # (required)
    );</code></pre>

<p>Returns:</p>

<pre><code>    $EffectiveValue = &#39;test&#39;;</code></pre>

<h1 id="PRIVATE-INTERFACE">PRIVATE INTERFACE</h1>

<h2 id="IsOverriddenInModule">_IsOverriddenInModule()</h2>

<p>Helper method to check if setting is overridden in specific module.</p>

<pre><code>    my $Overridden = $SysConfigObject-&gt;_IsOverriddenInModule(
        Module               =&gt; &quot;Kernel::Config::Files::ZZZAAuto&quot;,
        SettingStructure     =&gt; [ &#39;DashboardBackend&#39;, &#39;0000-ProductNotify&#39; ],
        LoadedEffectiveValue =&gt; &#39;Value&#39;,
    );</code></pre>

<h2 id="FileWriteAtomic">_FileWriteAtomic()</h2>

<p>Writes a file in an atomic operation. This is achieved by creating a temporary file, filling and renaming it. This avoids inconsistent states when the file is updated.</p>

<pre><code>    my $Success = $SysConfigObject-&gt;_FileWriteAtomic(
        Filename =&gt; &quot;$Self-&gt;{Home}/Kernel/Config/Files/ZZZAAuto.pm&quot;,
        Content  =&gt; \$NewContent,
    );</code></pre>

<h2 id="ConfigurationTranslatableStrings1">_ConfigurationTranslatableStrings()</h2>

<p>Gathers strings marked as translatable from a setting XML parsed content and saves it on ConfigurationTranslatableStrings global variable.</p>

<pre><code>    $SysConfigObject-&gt;_ConfigurationTranslatableStrings(
        Data =&gt; $Data,      # could be SCALAR, ARRAY or HASH
    );</code></pre>

<h2 id="DBCleanUp">_DBCleanUp();</h2>

<p>Removes all settings defined in the database (including default and modified) that are not included in the settings parameter</p>

<pre><code>    my $Success = $SysConfigObject-&gt;_DBCleanUp(
        Settings =&gt; {
            &#39;ACL::CacheTTL&#39; =&gt; {
                XMLContentParsed =&gt; &#39;
                    &lt;Setting Name=&quot;SettingName&quot; Required=&quot;1&quot; Valid=&quot;1&quot;&gt;
                        &lt;Description Translatable=&quot;1&quot;&gt;Test.&lt;/Description&gt;
                        # ...
                    &lt;/Setting&gt;&#39;,
                XMLContentRaw =&gt; {
                    Description =&gt; [
                        {
                            Content      =&gt; &#39;Test.&#39;,
                            Translatable =&gt; &#39;1&#39;,
                        },
                    ],
                    Name  =&gt; &#39;Test&#39;,
                    # ...
                },
            # ...
        };
        UserID =&gt; 123,
    );</code></pre>

<p>Returns:</p>

<pre><code>    $Success = 1;       # or false in case of a failure</code></pre>

<h2 id="NavigationTree">_NavigationTree();</h2>

<p>Returns navigation as a tree (in a hash).</p>

<pre><code>    my %Result = $SysConfigObject-&gt;_NavigationTree(
        &#39;Array&#39; =&gt; [                            # Array of setting navigation items
            &#39;Core&#39;,
            &#39;Core::CustomerUser&#39;,
            &#39;Frontend&#39;,
        ],
        &#39;Tree&#39; =&gt; {                             # Result from previous recursive call
            &#39;Core&#39; =&gt; {
                &#39;Core::CustomerUser&#39; =&gt; {},
            },
        },
    );</code></pre>

<p>Returns:</p>

<pre><code>    %Result = (
        &#39;Core&#39; =&gt; {
            &#39;Core::CustomerUser&#39; =&gt; {},
        },
        &#39;Frontend&#39; =&gt; {},
    );</code></pre>

<h2 id="ConfigurationEntitiesGet1">_ConfigurationEntitiesGet();</h2>

<p>Returns hash of used entities for provided Setting value.</p>

<pre><code>    my %Result = $SysConfigObject-&gt;_ConfigurationEntitiesGet(
        &#39;Name&#39;   =&gt; &#39;Ticket::Frontend::AgentTicketPriority###Entity&#39;,   # setting name
        &#39;Result&#39; =&gt; {},                                                 # result from previous recursive call
        &#39;Value&#39;  =&gt; [                                                   # setting Value
            {
                &#39;Item&#39; =&gt; [
                    {
                        &#39;Content&#39;         =&gt; &#39;3 medium&#39;,
                        &#39;ValueEntityType&#39; =&gt; &#39;Priority&#39;,
                        &#39;ValueRegex&#39;      =&gt; &#39;&#39;,
                        &#39;ValueType&#39;       =&gt; &#39;Entity&#39;,
                    },
                ],
            },
        ],
    );</code></pre>

<p>Returns:</p>

<pre><code>    %Result = {
        &#39;Priority&#39; =&gt; {
            &#39;3 medium&#39; =&gt; [
                &#39;Ticket::Frontend::AgentTicketPriority###Entity&#39;,
            ],
        },
    };</code></pre>

<h2 id="EffectiveValues2PerlFile">_EffectiveValues2PerlFile()</h2>

<p>Converts effective values from settings into a combined perl hash ready to write into a file.</p>

<pre><code>    my $FileString = $SysConfigObject-&gt;_EffectiveValues2PerlFile(
        Settings  =&gt; [
            {
                Name           =&gt; &#39;SettingName&#39;,
                IsValid        =&gt; 1,
                EffectiveValue =&gt; $ValueStructure,
            },
            {
                Name           =&gt; &#39;AnotherSettingName&#39;,
                IsValid        =&gt; 0,
                EffectiveValue =&gt; $AnotherValueStructure,
            },
            # ...
        ],
        TargetPath =&gt; &#39;Kernel/Config/Files/ZZZAAuto.pm&#39;,
    );</code></pre>

<h2 id="SettingEffectiveValueCheck1">_SettingEffectiveValueCheck()</h2>

<p>Recursive helper for SettingEffectiveValueCheck().</p>

<pre><code>    my %Result = $SysConfigObject-&gt;_SettingEffectiveValueCheck(
        EffectiveValue =&gt; &#39;open&#39;,                           # (optional) The EffectiveValue to be checked,
                                                            #   (could be also a complex structure).
        XMLContentParsed =&gt; {                               # (required) The XMLContentParsed value from Default Setting.
            Value =&gt; [
                {
                    &#39;Item&#39; =&gt; [
                        {
                            &#39;Content&#39; =&gt; &quot;Scalar value&quot;,
                        },
                    ],
                },
            ],
        },
        NoValidation        =&gt; $Param{NoValidation},        # (optional), skip validation
        CurrentSystemTime   =&gt; 1507894796935,               # (optional) Use provided 1507894796935, otherwise calculate
        ExpireTime          =&gt; 1507894896935,               # (optional) Use provided ExpireTime for cache, otherwise calculate
        UserID              =&gt; 1,                           # (required) UserID
    );</code></pre>

<p>Returns:</p>

<pre><code>    %Result = (
        EffectiveValue =&gt; &#39;closed&#39;,    # Note that EffectiveValue can be changed.
        Success        =&gt; 1,           # or false in case of fail
        Error          =&gt; undef,       # or error string
    );</code></pre>

<h2 id="SettingEffectiveValueCheckCacheSet-Sets-cache-for-EffectiveValueCheck-to-the-provided-value">_SettingEffectiveValueCheckCacheSet() Sets cache for EffectiveValueCheck to the provided value.</h2>

<pre><code>    $SysConfigObject-&gt;_SettingEffectiveValueCheckCacheSet(
        Value =&gt; {                              (required)
            Default180920170714165331 =&gt; {
                Success =&gt; 1,
            },
            ...
        },
        NoValidation =&gt; 0,                      (optional)
    );</code></pre>

<h2 id="GetSettingsToDeploy">_GetSettingsToDeploy()</h2>

<p>Returns the correct list of settings for a deployment taking the settings from different sources:</p>

<pre><code>    NotDirty:      fetch default settings plus already deployed modified settings.
    AllSettings:   fetch default settings plus all modified settings already deployed or not.
    DirtySettings: fetch default settings plus already deployed settings plus all not deployed settings in the list.

    my @SettingList = $SysConfigObject-&gt;_GetSettingsToDeploy(
        NotDirty      =&gt; 1,                                         # optional - exclusive (1||0)
        All           =&gt; 1,                                         # optional - exclusive (1||0)
        DirtySettings =&gt; [ &#39;SettingName1&#39;, &#39;SettingName2&#39; ],        # optional - exclusive
    );

    @SettingList = (
        {
            DefaultID                =&gt; 123,
            Name                     =&gt; &quot;ProductName&quot;,
            Description              =&gt; &quot;Defines the name of the application ...&quot;,
            Navigation               =&gt; &quot;ASimple::Path::Structure&quot;,
            IsInvisible              =&gt; 1,
            IsReadonly               =&gt; 0,
            IsRequired               =&gt; 1,
            IsValid                  =&gt; 1,
            HasConfigLevel           =&gt; 200,
            XMLContentRaw            =&gt; &quot;The XML structure as it is on the config file&quot;,
            XMLContentParsed         =&gt; &quot;XML parsed to Perl&quot;,
            EffectiveValue           =&gt; &quot;Product 6&quot;,
            DefaultValue             =&gt; &quot;Product 5&quot;,
            IsModified               =&gt; 1,       # 1 or 0
            IsDirty                  =&gt; 1,       # 1 or 0
            ExclusiveLockGUID        =&gt; &#39;A32CHARACTERLONGSTRINGFORLOCKING&#39;,
            ExclusiveLockUserID      =&gt; 1,
            ExclusiveLockExpiryTime  =&gt; &#39;2016-05-29 11:09:04&#39;,
            CreateTime               =&gt; &quot;2016-05-29 11:04:04&quot;,
            ChangeTime               =&gt; &quot;2016-05-29 11:04:04&quot;,
        },
        {
            DefaultID =&gt; 321,
            Name      =&gt; &#39;FieldName&#39;,
            # ...
            CreateTime =&gt; &#39;2010-09-11 10:08:00&#39;,
            ChangeTime =&gt; &#39;2011-01-01 01:01:01&#39;,
        },
        # ...
    );</code></pre>

<h2 id="HandleSettingsToDeploy">_HandleSettingsToDeploy()</h2>

<p>Creates modified versions of dirty settings to deploy and removed the dirty flag.</p>

<pre><code>    NotDirty:      Removes dirty flag just for default settings
    AllSettings:   Create a version for all dirty settings and removed dirty flags for all default and modified settings
    DirtySettings: Create a version and remove dirty fag for the modified settings in the list, remove dirty flag for all default settings

    my $Success = $SysConfigObject-&gt;_HandleSettingsToDeploy(
        NotDirty            =&gt; 1,                                         # optional - exclusive (1||0)
        AllSettings         =&gt; 1,                                         # optional - exclusive (1||0)
        DirtySettings       =&gt; [ &#39;SettingName1&#39;, &#39;SettingName2&#39; ],        # optional - exclusive
        DeploymentTimeStamp =&gt; 2017-12-12 12:00:00&#39;
        UserID              =&gt; 123,
    );</code></pre>

<p>Returns:</p>

<pre><code>    $Success = 1;       # or false in case of a failure</code></pre>

<h2 id="SettingTranslatedGet">_SettingTranslatedGet()</h2>

<p>Helper method for ConfigurationTranslatedGet().</p>

<pre><code>    my %Result = $SysConfigObject-&gt;_SettingTranslatedGet(
        Language =&gt; &#39;de&#39;,               # (required) User language
        Name     =&gt; &#39;SettingName&#39;,      # (required) Setting name
        Silent   =&gt; 1,                  # (optional) Default 1
    );</code></pre>

<p>Returns:</p>

<pre><code>    %Result = (
       &#39;ACL::CacheTTL&#39; =&gt; {
            &#39;Category&#39; =&gt; &#39;OTRS&#39;,
            &#39;IsInvisible&#39; =&gt; &#39;0&#39;,
            &#39;Metadata&#39; =&gt; &quot;ACL::CacheTTL--- &#39;3600&#39;
Cache-Zeit in Sekunden f\x{fc}r Datenbank ACL-Backends.&quot;,
    );</code></pre>

<h2 id="ValueTypesList">_ValueTypesList()</h2>

<p>Returns a hash of forbidden value types.</p>

<pre><code>    my @ValueTypes = $SysConfigObject-&gt;_ValueTypesList();</code></pre>

<p>Returns:</p>

<pre><code>    @ValueTypes = (
        &quot;Checkbox&quot;,
        &quot;Select&quot;,
        ...
    );</code></pre>

<h2 id="DefaultSettingAddBulk">_DefaultSettingAddBulk()</h2>

<p>Helper method for ConfigurationXML2DB() - bulk insert.</p>

<pre><code>    my $Success = $SysConfigObject-&gt;_DefaultSettingAddBulk(
        Settings =&gt; {                   # (required) Hash of settings to insert
            &#39;SettingName&#39; =&gt; {

            },
            ...
        },
        SettingList =&gt; [                # (required) List of settings
            ...
        ],
        UserID =&gt; 1,                    # (required) UserID
    );</code></pre>

<h2 id="UserConfigDirectory">_UserConfigDirectory()</h2>

<p>Returns the directory where the files of the user specific settings are located.</p>

<pre><code>    my $Path = $SysConfigObject-&gt;_UserConfigDirectory();</code></pre>

</div><div class="footer">generated by <a href="http://metacpan.org/module/Pod::ProjectDocs">Pod::ProjectDocs</a></div></body></html>

