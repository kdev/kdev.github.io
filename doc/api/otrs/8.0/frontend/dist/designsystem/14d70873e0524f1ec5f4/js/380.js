(window.webpackJsonp=window.webpackJsonp||[]).push([[380],{PF9x:function(s,r,a){"use strict";var o=a("qW6t");a.n(o).a},huZh:function(s,r,a){"use strict";a.r(r);a("W1QL"),a("K/PF"),a("t91x"),a("75LO");var o=a("dz1a"),e=a("VixF"),i=a("ihrN"),t={name:"FormPasswordChange",components:{FormPassword:o.default},mixins:[e.a],props:{value:{type:Object},label:{type:String,default:"New password"},labelSrOnly:{type:Boolean,default:!0},autocomplete:{type:String,default:"new-password"},passwordPolicyRules:{type:Object,default:function(){return{}}},withConfirmation:{type:Boolean,default:!0}},data:function(){return{icons:{passwordMinSize:"remove-circle",passwordMin2UpperCharacters:"remove-circle",passwordMin2LowerCharacters:"remove-circle",passwordNeedDigit:"remove-circle"},formValidators:{},verificationFailed:"",newPasswordValue:"",passwordConfirmValue:"",localError:"",passwordConfirmedInitialized:!1}},computed:{localPasswordPolicy:function(){var s={};return Object.keys(this.passwordPolicyRules).length&&(s=this.passwordPolicyRules,this.passwordPolicyRules.PasswordMin2Lower2UpperCharacters&&(s.PasswordMin2UpperCharacters=!0,s.PasswordMin2LowerCharacters=!0)),s},localPlaceholder:function(){return this.placeholder?this.placeholder:"Enter your new password"}},watch:{passwordConfirmValue:function(){this.passwordConfirmedInitialized=!0},error:function(s){"Please enter your password again for confirmation."===s?(this.verificationFailed=s,this.localError=""):this.localError=s}},mounted:function(){this.formValidators=Object(i.a)()},methods:{validateNewPassword:function(s){var r={NewPassword:s};if(this.withConfirmation&&(r.NewPasswordConfirmation=this.passwordConfirmValue),!s)return this.localError="This field is required.",void this.$emit("input",r);if(this.localError=this.error,Object.keys(this.formValidators).length&&this.formValidators.PasswordPolicyRules){var a=this.formValidators.PasswordPolicyRules.isValid(s,this.passwordPolicyRules);this.icons.passwordMinSize=a.passwordMinSize?"check-circle-1":"remove-circle",this.icons.passwordMin2UpperCharacters=a.passwordMin2UpperCharacters?"check-circle-1":"remove-circle",this.icons.passwordMin2LowerCharacters=a.passwordMin2LowerCharacters?"check-circle-1":"remove-circle",this.icons.passwordNeedDigit=a.passwordNeedDigit?"check-circle-1":"remove-circle"}this.withConfirmation?this.validatePasswordConfirm():this.$emit("input",r)},validatePasswordConfirm:function(){var s={NewPassword:this.newPasswordValue,NewPasswordConfirmation:this.passwordConfirmValue};if(!this.passwordConfirmValue&&this.passwordConfirmedInitialized)return this.verificationFailed="This field is required.",void this.$emit("input",s);if(Object.keys(this.formValidators).length&&this.formValidators.PasswordConfirmation){var r=this.formValidators.PasswordConfirmation.validate(s);this.passwordConfirmValue&&!r?(this.passwordConfirmedInitialized=!0,this.verificationFailed="The passwords do not match."):this.verificationFailed=""}this.$emit("input",s)},onBlur:function(){this.$emit("blur")},focus:function(){this.$refs.formPassword&&this.$refs.formPassword.focus()}}},l=(a("PF9x"),a("psIG")),n=Object(l.a)(t,function(){var s=this,r=s.$createElement,a=s._self._c||r;return a("div",[a("FormPassword",{ref:"formPassword",attrs:{"auto-focus":s.autoFocus,error:s.localError,label:s.label,"label-placeholder":s.labelPlaceholder,placeholder:s.localPlaceholder,disabled:s.disabled,"label-sr-only":s.labelSrOnly,autocomplete:s.autocomplete,"hide-description":s.hideDescription,description:s._f("translate")(s.description),name:"NewPassword"},on:{input:s.validateNewPassword,blur:s.onBlur},model:{value:s.newPasswordValue,callback:function(r){s.newPasswordValue=r},expression:"newPasswordValue"}}),s._v(" "),Object.keys(s.localPasswordPolicy).length?a("b-form-group",[a("div",{staticClass:"PasswordPolicy"},[a("div",{staticClass:"PasswordPolicy__Header"},[s._v("\n                "+s._s(s._f("translate")("The password must contain at least:"))+"\n            ")]),s._v(" "),a("ul",{staticClass:"PasswordPolicy__Rules"},[s.localPasswordPolicy.PasswordMinSize?a("li",{staticClass:"mr-2"},[a("CommonIcon",{attrs:{icon:s.icons.passwordMinSize,weight:"regular"}}),s._v("\n                    "+s._s(s._f("translate")("%s characters",s.localPasswordPolicy.PasswordMinSize))+"\n                ")],1):s._e(),s._v(" "),s.localPasswordPolicy.PasswordMin2UpperCharacters?a("li",{staticClass:"mr-2"},[a("CommonIcon",{attrs:{icon:s.icons.passwordMin2UpperCharacters,weight:"regular"}}),s._v("\n                    "+s._s(s._f("translate")("2 uppercase"))+"\n                ")],1):s._e(),s._v(" "),s.localPasswordPolicy.PasswordMin2LowerCharacters?a("li",{staticClass:"mr-2"},[a("CommonIcon",{attrs:{icon:s.icons.passwordMin2LowerCharacters,weight:"regular"}}),s._v("\n                    "+s._s(s._f("translate")("2 lowercase"))+"\n                ")],1):s._e(),s._v(" "),1===parseInt(s.localPasswordPolicy.PasswordNeedDigit,10)?a("li",{staticClass:"mr-2"},[a("CommonIcon",{attrs:{icon:s.icons.passwordNeedDigit,weight:"regular"}}),s._v("\n                    "+s._s(s._f("translate")("1 digit"))+"\n                ")],1):s._e()])])]):s._e(),s._v(" "),s.withConfirmation?a("FormPassword",{attrs:{error:s.verificationFailed,label:s._f("translate")("Verify password"),placeholder:s._f("translate")("Re-enter your new password"),disabled:s.disabled,"label-sr-only":s.labelSrOnly,autocomplete:s.autocomplete,name:"NewPasswordConfirmation","b-on:blur":"onBlur"},on:{input:s.validatePasswordConfirm},model:{value:s.passwordConfirmValue,callback:function(r){s.passwordConfirmValue=r},expression:"passwordConfirmValue"}}):s._e()],1)},[],!1,null,null,null);r.default=n.exports},qW6t:function(s,r,a){}}]);