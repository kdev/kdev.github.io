<!DOCTYPE html>
<html lang="en" xml:lang="en">
<head>
<!-- otrs.github.io -->
<link href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="../../../../../../../../documentation.css">
<script src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="../../../../../../../../documentation.js"></script>
<link rel="icon" type="image/png" sizes="32x32" href="../../../../../../../../../images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../../../../../../../../images/favicon-16x16.png">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/default.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>
<script>
$(document).ready(function() {

    // Hint languages to prevent false matches (php for example).
    hljs.configure({
        languages: ['perl', 'javascript', 'xml', 'html', 'css', 'json', 'yaml']
    });

    // programlistings in manuals
    $('pre.programlisting').each(function(i, block) {
        hljs.highlightBlock(block);
    });
    // code snippets in Perl API docs
    $('.pod pre').addClass('perl').each(function(i, block) {
        hljs.highlightBlock(block);
    });
});</script>
<!-- otrs.github.io -->

<title>Kernel::GenericInterface::Operation::Ticket::Common &mdash; OTRS 7.0 API Reference Perl</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body><div class="box">
  <h1 class="t1">OTRS 7.0 API Reference Perl</h1>
  <table>
    <tr>
      <td class="label">Description</td>
      <td class="cell">manuals and libraries</td>
    </tr>
  </table>
</div>
<div class="path">
  <a href="../../../../index.html">OTRS 7.0 API Reference Perl</a> &gt; Perl Modules &gt;
  Kernel::GenericInterface::Operation::Ticket::Common
</div>
<div>

</div>

<div class="pod">


<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#PUBLIC-INTERFACE">PUBLIC INTERFACE</a>
    <ul>
      <li><a href="#Init">Init()</a></li>
      <li><a href="#ValidateQueue">ValidateQueue()</a></li>
      <li><a href="#ValidateLock">ValidateLock()</a></li>
      <li><a href="#ValidateType">ValidateType()</a></li>
      <li><a href="#ValidateCustomer">ValidateCustomer()</a></li>
      <li><a href="#ValidateService">ValidateService()</a></li>
      <li><a href="#ValidateSLA">ValidateSLA()</a></li>
      <li><a href="#ValidateState">ValidateState()</a></li>
      <li><a href="#ValidatePriority">ValidatePriority()</a></li>
      <li><a href="#ValidateOwner">ValidateOwner()</a></li>
      <li><a href="#ValidateResponsible">ValidateResponsible()</a></li>
      <li><a href="#ValidatePendingTime">ValidatePendingTime()</a></li>
      <li><a href="#ValidateAutoResponseType">ValidateAutoResponseType()</a></li>
      <li><a href="#ValidateEmailAddresses">ValidateEmailAddresses()</a></li>
      <li><a href="#ValidateArticleCommunicationChannel">ValidateArticleCommunicationChannel()</a></li>
      <li><a href="#ValidateSenderType">ValidateSenderType()</a></li>
      <li><a href="#ValidateMimeType">ValidateMimeType()</a></li>
      <li><a href="#ValidateCharset">ValidateCharset()</a></li>
      <li><a href="#ValidateHistoryType">ValidateHistoryType()</a></li>
      <li><a href="#ValidateTimeUnit">ValidateTimeUnit()</a></li>
      <li><a href="#ValidateUserID">ValidateUserID()</a></li>
      <li><a href="#ValidateDynamicFieldName">ValidateDynamicFieldName()</a></li>
      <li><a href="#ValidateDynamicFieldValue">ValidateDynamicFieldValue()</a></li>
      <li><a href="#ValidateDynamicFieldObjectType">ValidateDynamicFieldObjectType()</a></li>
      <li><a href="#SetDynamicFieldValue">SetDynamicFieldValue()</a></li>
      <li><a href="#CreateAttachment">CreateAttachment()</a></li>
      <li><a href="#CheckCreatePermissions">CheckCreatePermissions ()</a></li>
      <li><a href="#CheckAccessPermissions">CheckAccessPermissions()</a></li>
    </ul>
  </li>
</ul>

<h1 id="NAME">NAME</h1>

<p>Kernel::GenericInterface::Operation::Ticket::Common - Base class for all Ticket Operations</p>

<h1 id="PUBLIC-INTERFACE">PUBLIC INTERFACE</h1>

<h2 id="Init">Init()</h2>

<p>initialize the operation by checking the web service configuration and gather of the dynamic fields</p>

<pre><code>    my $Return = $CommonObject-&gt;Init(
        WebserviceID =&gt; 1,
    );

    $Return = {
        Success =&gt; 1,                       # or 0 in case of failure,
        ErrorMessage =&gt; &#39;Error Message&#39;,
    }</code></pre>

<h2 id="ValidateQueue">ValidateQueue()</h2>

<p>checks if the given queue or queue ID is valid.</p>

<pre><code>    my $Success = $CommonObject-&gt;ValidateQueue(
        QueueID =&gt; 123,
    );

    my $Success = $CommonObject-&gt;ValidateQueue(
        Queue   =&gt; &#39;some queue&#39;,
    );

    returns
    $Success = 1            # or 0</code></pre>

<h2 id="ValidateLock">ValidateLock()</h2>

<p>checks if the given lock or lock ID is valid.</p>

<pre><code>    my $Success = $CommonObject-&gt;ValidateLock(
        LockID =&gt; 123,
    );

    my $Success = $CommonObject-&gt;ValidateLock(
        Lock   =&gt; &#39;some lock&#39;,
    );

    returns
    $Success = 1            # or 0</code></pre>

<h2 id="ValidateType">ValidateType()</h2>

<p>checks if the given type or type ID is valid.</p>

<pre><code>    my $Success = $CommonObject-&gt;ValidateType(
        TypeID =&gt; 123,
    );

    my $Success = $CommonObject-&gt;ValidateType(
        Type   =&gt; &#39;some type&#39;,
    );

    returns
    $Success = 1            # or 0</code></pre>

<h2 id="ValidateCustomer">ValidateCustomer()</h2>

<p>checks if the given customer user or customer ID is valid.</p>

<pre><code>    my $Success = $CommonObject-&gt;ValidateCustomer(
        CustomerID =&gt; 123,
    );

    my $Success = $CommonObject-&gt;ValidateCustomer(
        CustomerUser   =&gt; &#39;some type&#39;,
    );

    returns
    $Success = 1            # or 0</code></pre>

<h2 id="ValidateService">ValidateService()</h2>

<p>checks if the given service or service ID is valid.</p>

<pre><code>    my $Success = $CommonObject-&gt;ValidateService(
        ServiceID    =&gt; 123,
        CustomerUser =&gt; &#39;Test&#39;,
    );

    my $Success = $CommonObject-&gt;ValidateService(
        Service      =&gt; &#39;some service&#39;,
        CustomerUser =&gt; &#39;Test&#39;,
    );

    returns
    $Success = 1            # or 0</code></pre>

<h2 id="ValidateSLA">ValidateSLA()</h2>

<p>checks if the given service or service ID is valid.</p>

<pre><code>    my $Success = $CommonObject-&gt;ValidateSLA(
        SLAID     =&gt; 12,
        ServiceID =&gt; 123,       # || Service =&gt; &#39;some service&#39;
    );

    my $Success = $CommonObject-&gt;ValidateService(
        SLA       =&gt; &#39;some SLA&#39;,
        ServiceID =&gt; 123,       # || Service =&gt; &#39;some service&#39;
    );

    returns
    $Success = 1            # or 0</code></pre>

<h2 id="ValidateState">ValidateState()</h2>

<p>checks if the given state or state ID is valid.</p>

<pre><code>    my $Success = $CommonObject-&gt;ValidateState(
        StateID =&gt; 123,
    );

    my $Success = $CommonObject-&gt;ValidateState(
        State   =&gt; &#39;some state&#39;,
    );

    returns
    $Success = 1            # or 0</code></pre>

<h2 id="ValidatePriority">ValidatePriority()</h2>

<p>checks if the given priority or priority ID is valid.</p>

<pre><code>    my $Success = $CommonObject-&gt;ValidatePriority(
        PriorityID =&gt; 123,
    );

    my $Success = $CommonObject-&gt;ValidatePriority(
        Priority   =&gt; &#39;some priority&#39;,
    );

    returns
    $Success = 1            # or 0</code></pre>

<h2 id="ValidateOwner">ValidateOwner()</h2>

<p>checks if the given owner or owner ID is valid.</p>

<pre><code>    my $Success = $CommonObject-&gt;ValidateOwner(
        OwnerID =&gt; 123,
    );

    my $Success = $CommonObject-&gt;ValidateOwner(
        Owner   =&gt; &#39;some user&#39;,
    );

    returns
    $Success = 1            # or 0</code></pre>

<h2 id="ValidateResponsible">ValidateResponsible()</h2>

<p>checks if the given responsible or responsible ID is valid.</p>

<pre><code>    my $Success = $CommonObject-&gt;ValidateResponsible(
        ResponsibleID =&gt; 123,
    );

    my $Success = $CommonObject-&gt;ValidateResponsible(
        Responsible   =&gt; &#39;some user&#39;,
    );

    returns
    $Success = 1            # or 0</code></pre>

<h2 id="ValidatePendingTime">ValidatePendingTime()</h2>

<p>checks if the given pending time is valid.</p>

<pre><code>    my $Success = $CommonObject-&gt;ValidatePendingTime(
        PendingTime =&gt; {
            Year   =&gt; 2011,
            Month  =&gt; 12,
            Day    =&gt; 23,
            Hour   =&gt; 15,
            Minute =&gt; 0,
        },
    );

    my $Success = $CommonObject-&gt;ValidatePendingTime(
        PendingTime =&gt; {
            Diff =&gt; 10080,
        },
    );

    returns
    $Success = 1            # or 0</code></pre>

<h2 id="ValidateAutoResponseType">ValidateAutoResponseType()</h2>

<p>checks if the given AutoResponseType is valid.</p>

<pre><code>    my $Success = $CommonObject-&gt;ValidateAutoResponseType(
        AutoResponseType =&gt; &#39;Some AutoRespobse&#39;,
    );

    returns
    $Success = 1            # or 0</code></pre>

<h2 id="ValidateEmailAddresses">ValidateEmailAddresses()</h2>

<p>Checks if the given recipient address(es) is/are valid.</p>

<pre><code>    my $Success = $CommonObject-&gt;ValidateEmailAddresses(
        Email =&gt; &#39;user@domain.com, &quot;user2&quot; &lt;user2@domain.com&gt;&#39;,
    );

    returns
    $Success = 1            # or undef</code></pre>

<h2 id="ValidateArticleCommunicationChannel">ValidateArticleCommunicationChannel()</h2>

<p>checks if provided Communication Channel is valid.</p>

<pre><code>    my $Success = $CommonObject-&gt;ValidateArticleCommunicationChannel(
        CommunicationChannel   =&gt; &#39;Internal&#39;,   # optional
                                                # or
        CommunicationChannelID =&gt; 1,            # optional
    );

    returns
    $Success = 1            # or 0</code></pre>

<h2 id="ValidateSenderType">ValidateSenderType()</h2>

<p>checks if the given SenderType or SenderType ID is valid.</p>

<pre><code>    my $Success = $CommonObject-&gt;ValidateSenderType(
        SenderTypeID =&gt; 123,
    );

    my $Success = $CommonObject-&gt;ValidateenderType(
        SenderType =&gt; &#39;some SenderType&#39;,
    );

    returns
    $Success = 1            # or 0</code></pre>

<h2 id="ValidateMimeType">ValidateMimeType()</h2>

<p>checks if the given MimeType is valid.</p>

<pre><code>    my $Success = $CommonObject-&gt;ValidateMimeType(
        MimeTypeID =&gt; &#39;some MimeType&#39;,
    );

    returns
    $Success = 1            # or 0</code></pre>

<h2 id="ValidateCharset">ValidateCharset()</h2>

<p>checks if the given Charset is valid.</p>

<pre><code>    my $Success = $CommonObject-&gt;ValidateCharset(
        Charset =&gt; &#39;some charset&#39;,
    );

    returns
    $Success = 1            # or 0</code></pre>

<h2 id="ValidateHistoryType">ValidateHistoryType()</h2>

<p>checks if the given HistoryType is valid.</p>

<pre><code>    my $Success = $CommonObject-&gt;ValidateHistoryType(
        HistoryType =&gt; &#39;some HostoryType&#39;,
    );

    returns
    $Success = 1            # or 0</code></pre>

<h2 id="ValidateTimeUnit">ValidateTimeUnit()</h2>

<p>checks if the given TimeUnit is valid.</p>

<pre><code>    my $Success = $CommonObject-&gt;ValidateTimeUnit(
        TimeUnit =&gt; 1,
    );

    returns
    $Success = 1            # or 0</code></pre>

<h2 id="ValidateUserID">ValidateUserID()</h2>

<p>checks if the given user ID is valid.</p>

<pre><code>    my $Success = $CommonObject-&gt;ValidateUserID(
        UserID =&gt; 123,
    );

    returns
    $Success = 1            # or 0</code></pre>

<h2 id="ValidateDynamicFieldName">ValidateDynamicFieldName()</h2>

<p>checks if the given dynamic field name is valid.</p>

<pre><code>    my $Success = $CommonObject-&gt;ValidateDynamicFieldName(
        Name =&gt; &#39;some name&#39;,
    );

    returns
    $Success = 1            # or 0</code></pre>

<h2 id="ValidateDynamicFieldValue">ValidateDynamicFieldValue()</h2>

<p>checks if the given dynamic field value is valid.</p>

<pre><code>    my $Success = $CommonObject-&gt;ValidateDynamicFieldValue(
        Name  =&gt; &#39;some name&#39;,
        Value =&gt; &#39;some value&#39;,          # String or Integer or DateTime format
    );

    my $Success = $CommonObject-&gt;ValidateDynamicFieldValue(
        Value =&gt; [                      # Only for fields that can handle multiple values like
            &#39;some value&#39;,               #   Multiselect
            &#39;some other value&#39;,
        ],
    );

    returns
    $Success = 1                        # or 0</code></pre>

<h2 id="ValidateDynamicFieldObjectType">ValidateDynamicFieldObjectType()</h2>

<p>checks if the given dynamic field name is valid.</p>

<pre><code>    my $Success = $CommonObject-&gt;ValidateDynamicFieldObjectType(
        Name    =&gt; &#39;some name&#39;,
        Article =&gt; 1,               # if article exists
    );

    returns
    $Success = 1            # or 0</code></pre>

<h2 id="SetDynamicFieldValue">SetDynamicFieldValue()</h2>

<p>sets the value of a dynamic field.</p>

<pre><code>    my $Result = $CommonObject-&gt;SetDynamicFieldValue(
        Name      =&gt; &#39;some name&#39;,           # the name of the dynamic field
        Value     =&gt; &#39;some value&#39;,          # String or Integer or DateTime format
        TicketID  =&gt; 123
        ArticleID =&gt; 123
        UserID    =&gt; 123,
    );

    my $Result = $CommonObject-&gt;SetDynamicFieldValue(
        Name   =&gt; &#39;some name&#39;,           # the name of the dynamic field
        Value =&gt; [
            &#39;some value&#39;,
            &#39;some other value&#39;,
        ],
        UserID =&gt; 123,
    );

    returns
    $Result = {
        Success =&gt; 1,                        # if everything is ok
    }

    $Result = {
        Success      =&gt; 0,
        ErrorMessage =&gt; &#39;Error description&#39;
    }</code></pre>

<h2 id="CreateAttachment">CreateAttachment()</h2>

<p>creates a new attachment for the given article.</p>

<pre><code>    my $Result = $CommonObject-&gt;CreateAttachment(
        TicketID   =&gt; 123,
        Attachment =&gt; $Data,                   # file content (Base64 encoded)
        ArticleID  =&gt; 456,
        UserID     =&gt; 123,
    );

    returns
    $Result = {
        Success =&gt; 1,                        # if everything is ok
    }

    $Result = {
        Success      =&gt; 0,
        ErrorMessage =&gt; &#39;Error description&#39;
    }</code></pre>

<h2 id="CheckCreatePermissions">CheckCreatePermissions ()</h2>

<p>Tests if the user have the permissions to create a ticket on a determined queue</p>

<pre><code>    my $Result = $CommonObject-&gt;CheckCreatePermissions(
        Ticket     =&gt; $TicketHashReference,
        UserID     =&gt; 123,                      # or &#39;CustomerLogin&#39;
        UserType   =&gt; &#39;Agent&#39;,                  # or &#39;Customer&#39;
    );</code></pre>

<p>returns: $Success = 1 # if everything is OK</p>

<h2 id="CheckAccessPermissions">CheckAccessPermissions()</h2>

<p>Tests if the user have access permissions over a ticket</p>

<pre><code>    my $Result = $CommonObject-&gt;CheckAccessPermissions(
        TicketID   =&gt; 123,
        UserID     =&gt; 123,                      # or &#39;CustomerLogin&#39;
        UserType   =&gt; &#39;Agent&#39;,                  # or &#39;Customer&#39;
    );</code></pre>

<p>returns: $Success = 1 # if everything is OK</p>

</div><div class="footer">generated by <a href="http://metacpan.org/module/Pod::ProjectDocs">Pod::ProjectDocs</a></div></body></html>

