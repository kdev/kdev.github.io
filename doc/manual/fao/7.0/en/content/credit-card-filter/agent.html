

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Agent Interface &mdash; OTRS Feature Add-ons Manual 7.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/otrs.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="External Interface" href="external.html" />
    <link rel="prev" title="Administrator Interface" href="admin.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          
    
    
    <a href="https://doc.otrs.com/doc" class="icon fa-rocket DocumentationOverview"> OTRS Documentation</a>

    

          
            <a href="../index.html" class="icon icon-home"> OTRS Feature Add-ons Manual
          

          
            
            <img src="../../_static/otrs-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                7.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          


        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../adjust-sort-ticket-overview.html">Adjust Sort Ticket Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced-editor.html">Advanced Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced-escalations.html">Advanced Escalations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced-generic-agent.html">Advanced Generic Agent</a></li>
<li class="toctree-l1"><a class="reference internal" href="../agent-email-interface.html">Agent Email Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../automated-faq-ticket-creator.html">Automated FAQ Ticket Creator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../automatic-start-of-processes.html">Automatic Start of Processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../brute-force-attack-protection.html">Brute Force Attack Protection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../calendar-resource-planning.html">Calendar Resource Planning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../categories-for-text-modules.html">Categories for Text Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../change-write-protection.html">Change Write Protection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ci-assignment-attribute-dynamic-field-map.html">CI Assignment Attribute Dynamic Field Map</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ci-custom-search.html">CI Custom Search</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ci-references.html">CI References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cis-in-customer-frontend.html">CIs in Customer Frontend</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../credit-card-filter.html">Credit Card Filter</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="admin.html">Administrator Interface</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Agent Interface</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#mask-credit-card">Mask Credit Card</a></li>
<li class="toctree-l3"><a class="reference internal" href="#active-credit-card-masking">Active Credit Card Masking</a></li>
<li class="toctree-l3"><a class="reference internal" href="#credit-card-warning-message">Credit Card Warning Message</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="external.html">External Interface</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../custom-contact-fields.html">Custom Contact Fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="../customer-activity-widget.html">Customer Activity Widget</a></li>
<li class="toctree-l1"><a class="reference internal" href="../customer-event-ticket-calendar.html">Customer Event Ticket Calendar</a></li>
<li class="toctree-l1"><a class="reference internal" href="../customer-frontend-link-object.html">Customer Frontend Link Object</a></li>
<li class="toctree-l1"><a class="reference internal" href="../customer-specific-services.html">Customer-specific Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dashboard-news-widget.html">Dashboard News Widget</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-privacy-protection.html">Data Privacy Protection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../delete-attachments.html">Delete Attachments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dynamic-field-attachment.html">Dynamic Field Attachment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dynamic-field-calculation.html">Dynamic Field Calculation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dynamic-field-ci.html">Dynamic Field CI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dynamic-field-database.html">Dynamic Field Database</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dynamic-field-search-booster.html">Dynamic Field Search Booster</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dynamic-field-value-import.html">Dynamic Field Value Import</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dynamic-field-web-service.html">Dynamic Field Web Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dynamic-sender-addresses.html">Dynamic Sender Addresses</a></li>
<li class="toctree-l1"><a class="reference internal" href="../escalation-suspend.html">Escalation Suspend</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extended-ticket-stats.html">Extended Ticket Stats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hide-show-dynamic-fields.html">Hide/Show Dynamic Fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="../out-of-office.html">Out of Office</a></li>
<li class="toctree-l1"><a class="reference internal" href="../process-management-article-email.html">Process Management Article Email</a></li>
<li class="toctree-l1"><a class="reference internal" href="../queue-responsible.html">Queue Responsible</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ready2adopt-itsm-processes.html">Ready2Adopt ITSM Processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ready2adopt-processes.html">Ready2Adopt Processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ready2adopt-web-services.html">Ready2Adopt Web Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../restore-pending-information.html">Restore Pending Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../restrict-customer-data-view.html">Restrict Customer Data View</a></li>
<li class="toctree-l1"><a class="reference internal" href="../service-based-queue-routing.html">Service-based Queue Routing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../service-categories.html">Service Categories</a></li>
<li class="toctree-l1"><a class="reference internal" href="../service-responsible.html">Service Responsible</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specific-ticket-notifications.html">Specific Ticket Notifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../state-preselection-response-templates.html">State Pre-selection Response Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../system-configuration-history.html">System Configuration History</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tag-cloud.html">Tag Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ticket-allocation.html">Ticket Allocation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ticket-forms.html">Ticket Forms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ticket-invoker.html">Ticket Invoker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ticket-queue-selection.html">Ticket Queue Selection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ticket-time-unit-dropdown.html">Ticket Time Unit Dropdown</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ticket-watchlist.html">Ticket Watchlist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ticket-workflow.html">Ticket Workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../time-accounting-quota.html">Time Accounting Quota</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vip-customer.html">VIP Customer</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">OTRS Feature Add-ons Manual</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../credit-card-filter.html">Credit Card Filter</a> &raquo;</li>
        
      <li>Agent Interface</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/OTRS/doc-fao/blob/master/content/credit-card-filter/agent.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="agent-interface">
<h1>Agent Interface<a class="headerlink" href="#agent-interface" title="Permalink to this headline">¶</a></h1>
<p>This package has no agent interface.</p>
<div class="section" id="mask-credit-card">
<h2>Mask Credit Card<a class="headerlink" href="#mask-credit-card" title="Permalink to this headline">¶</a></h2>
<p>This feature is a complete subsystem that allows the following:</p>
<ul class="simple">
<li>Automatically show a warning message next to a credit card number (not storable).</li>
<li>Mask credit card numbers for new tickets and articles.</li>
<li>Mask credit card numbers contained in articles already stored in the system.</li>
</ul>
<p>The credit card detection mechanism requires credit card numbers of 13, 15 or 16 digits. These credit card numbers should be at least potentially valid numerically, which means they pass the <a class="reference external" href="https://en.wikipedia.org/wiki/Luhn_algorithm">Luhn algorithm</a> test.</p>
<p>For the current version only a subgroup of all potentially valid credit card number are detected. This is the list of the credit cards numbers that are considered valid:</p>
<ul class="simple">
<li>Visa 16 digits starting with a 4.</li>
<li>Visa 13 digits starting with a 4.</li>
<li>MasterCard 16 digits starting with 51 to 55.</li>
<li>Discover 16 digits starting with 6011, 6121-29 to 6229-25, 644 to 649 or 65.</li>
<li>JCB 16 digits starting with 3088, 3096, 3112, 3158, 3337 or 3528 to 3589.</li>
<li>JCB 15 digits starting with 1800, 2100 or 2131.</li>
<li>American Express 15 digits starting with 34 or 37.</li>
</ul>
<p>For successful detection, the digits of these credit card numbers are allowed without separation or with a single separator in groups of digits as 4-4-4-4, 4-4-4-3, 4-4-4-1 or 4-6-5 (the last combination for American Express only). Allowed separators are <code class="docutils literal notranslate"><span class="pre">-</span></code>, <code class="docutils literal notranslate"><span class="pre">+</span></code>, <code class="docutils literal notranslate"><span class="pre">/</span></code>, <code class="docutils literal notranslate"><span class="pre">.</span></code> or a combination thereof.</p>
<p>Valid credit card numbers that are a subset of a bigger number are not considerate as credit card numbers. This is to avoid false positives, e.g. a serial number that contains a (not intentionally) valid credit card number. Valid credit card numbers should be enclosed by at least one non-numeric character.</p>
</div>
<div class="section" id="active-credit-card-masking">
<h2>Active Credit Card Masking<a class="headerlink" href="#active-credit-card-masking" title="Permalink to this headline">¶</a></h2>
<p>When this feature is enabled, every article will be scanned for valid credit card numbers before it is saved on the database. In case of any findings in subject or body, all but the first six and the last four digits will be replaced by a configurable masking character.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p>The behavior can be changed with the following settings in the system configuration:</p>
<ul class="last simple">
<li><code class="docutils literal notranslate"><span class="pre">OTRSCreditCardFilter::ActiveMaskEnabled</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">OTRSCreditCardFilter::MaskedCharacter</span></code></li>
</ul>
</div>
<p>For example <em>1234-5678-9012-3456</em> becomes <em>1234-56xx-xxxx-3456</em>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This procedure is permanent and irreversible!</p>
</div>
<p>To use this feature:</p>
<ol class="arabic">
<li><p class="first">Create a ticket with the following article body:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Issuing Network,Card Number
JCB 15 digit,180061388939823
JCB 15 digit,180079668437698
JCB 15 digit,180001434886883
JCB 15 digit,180044208063503
JCB 15 digit,180010497338476
JCB 15 digit,210004248524033
JCB 15 digit,210012319871803
JCB 15 digit,180094846333594
JCB 15 digit,210084424984649
JCB 15 digit,210012951351973
JCB 15 digit,210008094074787
JCB 15 digit,210081171733450
</pre></div>
</div>
</li>
<li><p class="first">Open the <em>Ticket Zoom</em> screen to see the created ticket. The body of the article will shown as:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Issuing Network,Card Number
JCB 15 digit,180061xxxxx9823
JCB 15 digit,180079xxxxx7698
JCB 15 digit,180001xxxxx6883
JCB 15 digit,180044xxxxx3503
JCB 15 digit,180010xxxxx8476
JCB 15 digit,210004xxxxx4033
JCB 15 digit,210012xxxxx1803
JCB 15 digit,180094xxxxx3594
JCB 15 digit,210084xxxxx4649
JCB 15 digit,210012xxxxx1973
JCB 15 digit,210008xxxxx4787
JCB 15 digit,210081xxxxx3450
</pre></div>
</div>
</li>
<li><p class="first">You can also try with valid credit card numbers in the subject or fetch a mail with valid credit card information using a postmaster account.</p>
</li>
</ol>
</div>
<div class="section" id="credit-card-warning-message">
<h2>Credit Card Warning Message<a class="headerlink" href="#credit-card-warning-message" title="Permalink to this headline">¶</a></h2>
<p>It is possible to display a warning message next to the credit card number.</p>
<p>To use this feature:</p>
<ol class="arabic">
<li><p class="first">Make sure that setting <code class="docutils literal notranslate"><span class="pre">OTRSCreditCardFilter::ActiveMaskEnabled</span></code> is not enabled.</p>
</li>
<li><p class="first">Make sure that setting <code class="docutils literal notranslate"><span class="pre">OTRSCreditCardFilter::WarningTextEnabled</span></code> is enabled.</p>
</li>
<li><p class="first">Define your custom message in setting <code class="docutils literal notranslate"><span class="pre">OTRSCreditCardFilter::WarningText</span></code> in the system configuration.</p>
</li>
<li><p class="first">Create a ticket with the following article body:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Issuing Network,Card Number
JCB,3528988095245935
JCB,3112606824580636
JCB,3096030869937728
JCB,3112437499296450
JCB,3096010732100407
JCB,3528461498782367
JCB,3112892137191440
JCB,3088814635323630
</pre></div>
</div>
</li>
<li><p class="first">Open the <em>Ticket Zoom</em> screen. The warning message should appear next to the credit card number.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Issuing Network,Card Number
JCB,3528988095245935 Reminder: You should not store credit card numbers in this product!
JCB,3112606824580636 Reminder: You should not store credit card numbers in this product!
JCB,3096030869937728 Reminder: You should not store credit card numbers in this product!
JCB,3112437499296450 Reminder: You should not store credit card numbers in this product!
JCB,3096010732100407 Reminder: You should not store credit card numbers in this product!
JCB,3528461498782367 Reminder: You should not store credit card numbers in this product!
JCB,3112892137191440 Reminder: You should not store credit card numbers in this product!
JCB,3088814635323630 Reminder: You should not store credit card numbers in this product!
</pre></div>
</div>
</li>
</ol>
<p>You can also try with valid credit card numbers in the subject or fetch a mail with valid credit card information using a postmaster account.</p>
</div>
</div>


           </div>
           
          </div>
          

<script>
// Start Google Analytics Tracking
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-28118796-2', 'auto');
ga('send', 'pageview');
// End Google Analytics Tracking
</script>

<footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="external.html" class="btn btn-neutral float-right" title="External Interface" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="admin.html" class="btn btn-neutral" title="Administrator Interface" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2001-2020 OTRS AG, https://otrs.com/

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>