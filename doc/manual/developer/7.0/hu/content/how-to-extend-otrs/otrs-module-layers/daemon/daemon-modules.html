

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="hu" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="hu" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>OTRS démon &mdash; OTRS Developer Manual 7.0 dokumentáció</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../../../_static/css/otrs.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Tárgymutató" href="../../../../genindex.html" />
    <link rel="search" title="Keresés" href="../../../../search.html" />
    <link rel="next" title="OTRS ütemező" href="scheduler-task-worker-modules.html" />
    <link rel="prev" title="Művelet" href="../gi-operation.html" /> 

  
  <script src="../../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          
    
    
    <a href="https://doc.otrs.com/doc" class="icon fa-rocket DocumentationOverview"> OTRS Documentation</a>

    

          
            <a href="../../../index.html" class="icon icon-home"> OTRS Developer Manual
          

          
            
            <img src="../../../../_static/otrs-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                7.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          


        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Tartalom</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../get-started.html">Kezdeti lépések</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../how-it-works.html">OTRS belsőségek - hogyan működik</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../how-to-extend-otrs.html">Hogyan bővíthető az OTRS</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../writing-otrs-application.html">Egy új OTRS előtétprogram-modul írása</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../writing-new-otrs-frontend-component.html">Egy új OTRS előtétprogram összetevő írása</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../otrs-module-layers.html">Az OTRS modulrétegek erejének használata</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../agent-auth.html">Ügyintézői hitelesítő modul</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auth-sync.html">Hitelesítés szinkronizációs modul</a></li>
<li class="toctree-l3"><a class="reference internal" href="../customer-auth.html">Ügyfél hitelesítő modul</a></li>
<li class="toctree-l3"><a class="reference internal" href="../customer-user-preferences.html">Ügyfél-felhasználó beállítások modul</a></li>
<li class="toctree-l3"><a class="reference internal" href="../queue-preferences.html">Várólista beállítások modul</a></li>
<li class="toctree-l3"><a class="reference internal" href="../service-preferences.html">Szolgáltatás beállítások modul</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sla-preferences.html">SLA beállítások modul</a></li>
<li class="toctree-l3"><a class="reference internal" href="../log.html">Naplózás modul</a></li>
<li class="toctree-l3"><a class="reference internal" href="../outputfilter.html">Kimenetszűrő</a></li>
<li class="toctree-l3"><a class="reference internal" href="../stats.html">Statisztikák modul</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ticketnumber-generator.html">Jegyszám előállító modulok</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ticketevent.html">Jegyesemény modul</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dashboard.html">Vezérlőpult modul</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notify.html">Értesítési modul</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ticket-menu.html">Jegymenü modul</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gi-transport.html">Hálózati átvitel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gi-mapping.html">Leképezés</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gi-invoker.html">Meghívó</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gi-operation.html">Művelet</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">OTRS démon</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#otrs-daemon-modules">OTRS démonmodulok</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="scheduler-task-worker-modules.html">OTRS ütemező</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dynamic-fields/dynamic-fields-overview.html">Áttekintés</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dynamic-fields/dynamic-fields-framework.html">Dinamikus mezők keretrendszer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dynamic-fields/dynamic-fields-interaction.html">Dinamikus mező kölcsönhatása az előtétprogram-modulokkal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dynamic-fields/dynamic-fields-extend-options.html">Hogyan lehet kiterjeszteni a dinamikus mezőket</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dynamic-fields/dynamic-fields-new-field.html">Egy új dinamikus mező létrehozása</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dynamic-fields/dynamic-fields-extend.html">Egy dinamikus mező funkcionalitás kiterjesztés létrehozása</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ticket-postmaster-modules.html">Jegy levelezési modul</a></li>
<li class="toctree-l3"><a class="reference internal" href="../process-management-modules.html">Folyamatkezelés</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../how-to-publish-otrs-extensions.html">Hogyan tehetők közzé az OTRS kiterjesztések</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../documentation.html">Dokumentáció</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contributing.html">Közreműködés az OTRS-ben</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../additional-resources.html">További erőforrások</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">OTRS Developer Manual</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../../how-to-extend-otrs.html">Hogyan bővíthető az OTRS</a> &raquo;</li>
        
          <li><a href="../../otrs-module-layers.html">Az OTRS modulrétegek erejének használata</a> &raquo;</li>
        
      <li>OTRS démon</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/OTRS/doc-developer/blob/rel-7_0/content/how-to-extend-otrs/otrs-module-layers/daemon/daemon-modules.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="otrs-daemon">
<h1>OTRS démon<a class="headerlink" href="#otrs-daemon" title="Hivatkozás erre a fejezetcímre">¶</a></h1>
<p>Az OTRS démon egy elkülönített folyamat, amely segít az OTRS-nek bizonyos műveleteket aszinkron módon és a webszolgáltatás folyamattól leválasztva végrehajtani, de ugyanazt az adatbázist megosztva.</p>
<div class="section" id="otrs-daemon-modules">
<h2>OTRS démonmodulok<a class="headerlink" href="#otrs-daemon-modules" title="Hivatkozás erre a fejezetcímre">¶</a></h2>
<p>A <code class="docutils literal notranslate"><span class="pre">bin/otrs.Daemon.pl</span></code> OTRS démon fő célja, hogy meghívja (démonizálja) a rendszerbeállításokban lévő összes regisztrált démonmodult.</p>
<p>Minden egyes démonmodulnak meg kell valósítania egy közös API-t annak érdekében, hogy az OTRS démon helyesen tudja meghívni, és félig állandó folyamat legyen a rendszeren. Az állandó folyamat megnövelheti a méretét és memóriahasználatát az idő múlásával, és normális esetben nem válaszolnak a beállításokban lévő változásokra. Ezért kell a démonmoduloknak megvalósítaniuk egy eldobási mechanizmust, hogy leállíthatók és újra meghívhatók legyenek időről időre, felszabadítva a rendszer erőforrásait és újraolvasva a beállításokat.</p>
<p>Egy démonmodul lehet mindenre jó megoldás bizonyos feladat végrehajtásánál, de lehet olyan eset is, amikor egy megoldás különböző démonmodulokat igényel az összetettsége miatt. Pontosan ez az eset az OTRS ütemező démonjával, amely fel van osztva számos démonmodulra, beleértve a feladatkezeléshez és a feladat-végrehajtáshoz szükséges néhány démonmodult.</p>
<p>Nem szükséges mindig új démonmodult létrehozni bizonyos feladatok végrehajtásához. Általában az OTRS ütemező démon elboldogul ezek jelentős részével – akár ha egy olyan OTRS függvényről van szó, amelyet rendszeresen végre kell hajtani (CRON-szerűen), vagy ha egy OTRS esemény aktiválta azt – az OTRS ütemezőnek képesnek kell lenni kezelnie mindenféle beállítás nélkül, vagy egy új ütemező feladatelvégző modul hozzáadásával.</p>
<div class="section" id="creating-a-new-daemon-module">
<h3>Új démonmodul létrehozása<a class="headerlink" href="#creating-a-new-daemon-module" title="Hivatkozás erre a fejezetcímre">¶</a></h3>
<p>Az összes démonmodulnak regisztrálva kell lennie a rendszerbeállításokban azért, hogy a fő OTRS démon meg tudja hívni azokat.</p>
<div class="section" id="daemon-module-registration-code-example">
<h4>Démonmodul regisztrációs kódpélda<a class="headerlink" href="#daemon-module-registration-code-example" title="Hivatkozás erre a fejezetcímre">¶</a></h4>
<div class="highlight-XML notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;Setting</span> <span class="na">Name=</span><span class="s">&quot;DaemonModules###TestDaemon&quot;</span> <span class="na">Required=</span><span class="s">&quot;1&quot;</span> <span class="na">Valid=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Description</span> <span class="na">Translatable=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>The daemon registration for the scheduler generic agent task manager.<span class="nt">&lt;/Description&gt;</span>
    <span class="nt">&lt;Navigation&gt;</span>Daemon::ModuleRegistration<span class="nt">&lt;/Navigation&gt;</span>
    <span class="nt">&lt;Value&gt;</span>
        <span class="nt">&lt;Hash&gt;</span>
            <span class="nt">&lt;Item</span> <span class="na">Key=</span><span class="s">&quot;Module&quot;</span><span class="nt">&gt;</span>Kernel::System::Daemon::DaemonModules::TestDaemon<span class="nt">&lt;/Item&gt;</span>
        <span class="nt">&lt;/Hash&gt;</span>
    <span class="nt">&lt;/Value&gt;</span>
<span class="nt">&lt;/Setting&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="daemon-module-code-example">
<h4>Démonmodul kódpélda<a class="headerlink" href="#daemon-module-code-example" title="Hivatkozás erre a fejezetcímre">¶</a></h4>
<p>A következő kód egy olyan démonmodult valósít meg, amely megjeleníti a rendszeridőt 2 másodpercenként.</p>
<div class="highlight-Perl notranslate"><div class="highlight"><pre><span></span><span class="c1"># --</span>
<span class="c1"># Copyright (C) 2001-2020 OTRS AG, https://otrs.com/</span>
<span class="c1"># --</span>
<span class="c1"># This software comes with ABSOLUTELY NO WARRANTY. For details, see</span>
<span class="c1"># the enclosed file COPYING for license information (GPL). If you</span>
<span class="c1"># did not receive this file, see https://www.gnu.org/licenses/gpl-3.0.txt.</span>
<span class="c1"># --</span>

<span class="k">package</span> <span class="nn">Kernel::System::Daemon::DaemonModules::TestDaemon</span><span class="p">;</span>

<span class="k">use</span> <span class="nn">strict</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">warnings</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">utf8</span><span class="p">;</span>

<span class="k">use</span> <span class="nn">Kernel::System::VariableCheck</span> <span class="sx">qw(:all)</span><span class="p">;</span>

<span class="k">use</span> <span class="nn">parent</span> <span class="sx">qw(Kernel::System::Daemon::BaseDaemon)</span><span class="p">;</span>

<span class="k">our</span> <span class="nv">@ObjectDependencies</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s">&#39;Kernel::Config&#39;</span><span class="p">,</span>
    <span class="s">&#39;Kernel::System::Cache&#39;</span><span class="p">,</span>
    <span class="s">&#39;Kernel::System::DB&#39;</span><span class="p">,</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Ez egy gyakori fejléc, amely megtalálható a szokásos OTRS modulokban. Az osztály/csomag neve a <code class="docutils literal notranslate"><span class="pre">package</span></code> kulcsszón keresztül van deklarálva.</p>
<p>Ebben az esetben a <code class="docutils literal notranslate"><span class="pre">BaseDaemon</span></code> osztályból származtatunk le, és az objektumkezelő függőségei be vannak állítva.</p>
<div class="highlight-Perl notranslate"><div class="highlight"><pre><span></span><span class="k">sub</span> <span class="nf">new</span> <span class="p">{</span>
    <span class="k">my</span> <span class="p">(</span> <span class="nv">$Type</span><span class="p">,</span> <span class="nv">%Param</span> <span class="p">)</span> <span class="o">=</span> <span class="nv">@_</span><span class="p">;</span>

    <span class="c1"># Allocate new hash for object.</span>
    <span class="k">my</span> <span class="nv">$Self</span> <span class="o">=</span> <span class="p">{};</span>
    <span class="nb">bless</span> <span class="nv">$Self</span><span class="p">,</span> <span class="nv">$Type</span><span class="p">;</span>

    <span class="c1"># Get objects in constructor to save performance.</span>
    <span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">ConfigObject</span><span class="p">}</span> <span class="o">=</span> <span class="nv">$</span><span class="nn">Kernel::</span><span class="nv">OM</span><span class="o">-&gt;</span><span class="n">Get</span><span class="p">(</span><span class="s">&#39;Kernel::Config&#39;</span><span class="p">);</span>
    <span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">CacheObject</span><span class="p">}</span>  <span class="o">=</span> <span class="nv">$</span><span class="nn">Kernel::</span><span class="nv">OM</span><span class="o">-&gt;</span><span class="n">Get</span><span class="p">(</span><span class="s">&#39;Kernel::System::Cache&#39;</span><span class="p">);</span>
    <span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">DBObject</span><span class="p">}</span>     <span class="o">=</span> <span class="nv">$</span><span class="nn">Kernel::</span><span class="nv">OM</span><span class="o">-&gt;</span><span class="n">Get</span><span class="p">(</span><span class="s">&#39;Kernel::System::DB&#39;</span><span class="p">);</span>

    <span class="c1"># Disable in memory cache to be clusterable.</span>
    <span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">CacheObject</span><span class="p">}</span><span class="o">-&gt;</span><span class="n">Configure</span><span class="p">(</span>
        <span class="n">CacheInMemory</span>  <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">CacheInBackend</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
    <span class="p">);</span>

    <span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">SleepPost</span><span class="p">}</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>          <span class="c1"># sleep 2 seconds after each loop</span>
    <span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">Discard</span><span class="p">}</span>   <span class="o">=</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span><span class="p">;</span>    <span class="c1"># discard every hour</span>

    <span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">DiscardCount</span><span class="p">}</span> <span class="o">=</span> <span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">Discard</span><span class="p">}</span> <span class="o">/</span> <span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">SleepPost</span><span class="p">};</span>

    <span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">Debug</span><span class="p">}</span>      <span class="o">=</span> <span class="nv">$Param</span><span class="p">{</span><span class="n">Debug</span><span class="p">};</span>
    <span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">DaemonName</span><span class="p">}</span> <span class="o">=</span> <span class="s">&#39;Daemon: TestDaemon&#39;</span><span class="p">;</span>

    <span class="k">return</span> <span class="nv">$Self</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>A <code class="docutils literal notranslate"><span class="pre">new</span></code> konstruktor hozza létre az osztály új példányát. Néhány felhasznált objektum is itt lesz létrehozva. Erősen ajánlott a memóriába történő gyorsítótárazás letiltása a démonmodulokban, különösen akkor, ha az OTRS fürtözött környezetben fut.</p>
<p>Azért, hogy ez a démonmodul minden második másodpercben végrehajtható legyen, egy alvási idő meghatározása szükséges annak megfelelően, egyébként azonnal végrehajtásra kerül, amint lehetséges.</p>
<p>A démonmodul frissítése időről időre azért szükséges, hogy meghatározható legyen, mikor kell eldobni.</p>
<p>A következő függvényeknél (<code class="docutils literal notranslate"><span class="pre">PreRun</span></code>, <code class="docutils literal notranslate"><span class="pre">Run</span></code> és <code class="docutils literal notranslate"><span class="pre">PostRun</span></code>) ha azok hamis értékkel térnek vissza, akkor a fő OTRS démon el fogja dobni az objektumot, és egy újat hoz létre, amint lehetséges.</p>
<div class="highlight-Perl notranslate"><div class="highlight"><pre><span></span><span class="k">sub</span> <span class="nf">PreRun</span> <span class="p">{</span>
    <span class="k">my</span> <span class="p">(</span> <span class="nv">$Self</span><span class="p">,</span> <span class="nv">%Param</span> <span class="p">)</span> <span class="o">=</span> <span class="nv">@_</span><span class="p">;</span>

    <span class="c1"># Check if database is on-line.</span>
    <span class="k">return</span> <span class="mi">1</span> <span class="k">if</span> <span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">DBObject</span><span class="p">}</span><span class="o">-&gt;</span><span class="n">Ping</span><span class="p">();</span>

    <span class="nb">sleep</span> <span class="mi">10</span><span class="p">;</span>

    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>A <code class="docutils literal notranslate"><span class="pre">PreRun</span></code> metódus a fő démonmodul metódusa előtt kerül végrehajtásra, és a célja néhány teszt elvégzése a valódi műfelet előtt. Ebben az esetben az adatbázis ellenőrzése készen van (mindig javasolt), egyébként 10 másodpercet alszik. Ez azért szükséges, hogy megvárja az adatbázis-kapcsolat ismételt felépítését.</p>
<div class="highlight-Perl notranslate"><div class="highlight"><pre><span></span><span class="k">sub</span> <span class="nf">Run</span> <span class="p">{</span>
    <span class="k">my</span> <span class="p">(</span> <span class="nv">$Self</span><span class="p">,</span> <span class="nv">%Param</span> <span class="p">)</span> <span class="o">=</span> <span class="nv">@_</span><span class="p">;</span>

    <span class="k">print</span> <span class="s">&quot;Current time &quot;</span> <span class="o">.</span> <span class="nb">localtime</span> <span class="o">.</span> <span class="s">&quot;\n&quot;</span><span class="p">;</span>

    <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>A <code class="docutils literal notranslate"><span class="pre">Run</span></code> metódus az, ahol a fő démonmodul kódja található. Ebben az esetben csak az aktuális időt írja ki.</p>
<div class="highlight-Perl notranslate"><div class="highlight"><pre><span></span><span class="k">sub</span> <span class="nf">PostRun</span> <span class="p">{</span>
    <span class="k">my</span> <span class="p">(</span> <span class="nv">$Self</span><span class="p">,</span> <span class="nv">%Param</span> <span class="p">)</span> <span class="o">=</span> <span class="nv">@_</span><span class="p">;</span>
    <span class="nb">sleep</span> <span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">SleepPost</span><span class="p">};</span>
    <span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">DiscardCount</span><span class="p">}</span><span class="o">--</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span> <span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">Debug</span><span class="p">}</span> <span class="p">)</span> <span class="p">{</span>
        <span class="k">print</span> <span class="s">&quot;  $Self-&gt;{DaemonName} Discard Count: $Self-&gt;{DiscardCount}\n&quot;</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="k">if</span> <span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">DiscardCount</span><span class="p">}</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>A <code class="docutils literal notranslate"><span class="pre">PostRun</span></code> metódus használható az alvások végrehajtásához (annak megakadályozásához, hogy a démonmodul túl gyakran legyen végrehajtva), valamint az objektum biztonságos eldobásának kezeléséhez is. Egyéb műveletek is elvégezhetők itt, mint például ellenőrzés vagy tisztítás.</p>
<div class="highlight-Perl notranslate"><div class="highlight"><pre><span></span><span class="k">sub</span> <span class="nf">Summary</span> <span class="p">{</span>
    <span class="k">my</span> <span class="p">(</span> <span class="nv">$Self</span><span class="p">,</span> <span class="nv">%Param</span> <span class="p">)</span> <span class="o">=</span> <span class="nv">@_</span><span class="p">;</span>

    <span class="k">my</span> <span class="nv">%Summary</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">Header</span> <span class="o">=&gt;</span> <span class="s">&#39;Test Daemon Summary:&#39;</span><span class="p">,</span>
        <span class="n">Column</span> <span class="o">=&gt;</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="n">Name</span>        <span class="o">=&gt;</span> <span class="s">&#39;SomeColumn&#39;</span><span class="p">,</span>
                <span class="n">DisplayName</span> <span class="o">=&gt;</span> <span class="s">&#39;Some Column&#39;</span><span class="p">,</span>
                <span class="n">Size</span>        <span class="o">=&gt;</span> <span class="mi">15</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="n">Name</span>        <span class="o">=&gt;</span> <span class="s">&#39;AnotherColumn&#39;</span><span class="p">,</span>
                <span class="n">DisplayName</span> <span class="o">=&gt;</span> <span class="s">&#39;Another Column&#39;</span><span class="p">,</span>
                <span class="n">Size</span>        <span class="o">=&gt;</span> <span class="mi">15</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="c1"># ...</span>
        <span class="p">],</span>
        <span class="n">Data</span> <span class="o">=&gt;</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="n">SomeColumn</span>    <span class="o">=&gt;</span> <span class="s">&#39;Some Data 1&#39;</span><span class="p">,</span>
                <span class="n">AnotherColumn</span> <span class="o">=&gt;</span> <span class="s">&#39;Another Data 1&#39;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="n">SomeColumn</span>    <span class="o">=&gt;</span> <span class="s">&#39;Some Data 2&#39;</span><span class="p">,</span>
                <span class="n">AnotherColumn</span> <span class="o">=&gt;</span> <span class="s">&#39;Another Data 2&#39;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="c1"># ...</span>
        <span class="p">],</span>
        <span class="n">NoDataMesssage</span> <span class="o">=&gt;</span> <span class="s">&#39;&#39;</span><span class="p">,</span>
    <span class="p">);</span>

    <span class="k">return</span> <span class="o">\</span><span class="nv">%Summary</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>A <code class="docutils literal notranslate"><span class="pre">Summary</span></code> metódust a <code class="docutils literal notranslate"><span class="pre">Maint::Daemon::Summary</span></code> konzolparancs hívja meg, és <code class="docutils literal notranslate"><span class="pre">Header</span></code>, <code class="docutils literal notranslate"><span class="pre">Column</span></code>, <code class="docutils literal notranslate"><span class="pre">Data</span></code> és <code class="docutils literal notranslate"><span class="pre">NoDataMessages</span></code> kulcsokat kell visszaadnia. A <code class="docutils literal notranslate"><span class="pre">Column</span></code> és a <code class="docutils literal notranslate"><span class="pre">Data</span></code> kulcsoknak tömböknek vagy kivonatoknak kell lenniük. Arra használható, hogy hasznos információkat jelenítsen meg arról, amit a démonmodul éppen csinál, vagy ami eddig történt. Ez a metódus elhagyható.</p>
<div class="highlight-Perl notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span><span class="p">;</span>
</pre></div>
</div>
<p>Fájl vége.</p>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          

<script>
// Start Google Analytics Tracking
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-28118796-2', 'auto');
ga('send', 'pageview');
// End Google Analytics Tracking
</script>

<footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="scheduler-task-worker-modules.html" class="btn btn-neutral float-right" title="OTRS ütemező" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../gi-operation.html" class="btn btn-neutral" title="Művelet" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2001-2020 OTRS AG, https://otrs.com/

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../../_static/translations.js"></script>
    

  

  <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>