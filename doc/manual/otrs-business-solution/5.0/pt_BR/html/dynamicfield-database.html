<html><head>
<!-- otrs.github.io -->
<link href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="../../../../../documentation.css">
<script src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="../../../../../documentation.js"></script>
<link rel="icon" type="image/png" sizes="32x32" href="../../../../../../images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../../../../../images/favicon-16x16.png">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/default.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>
<script>
$(document).ready(function() {

    // Hint languages to prevent false matches (php for example).
    hljs.configure({
        languages: ['perl', 'javascript', 'xml', 'html', 'css', 'json', 'yaml']
    });

    // programlistings in manuals
    $('pre.programlisting').each(function(i, block) {
        hljs.highlightBlock(block);
    });
    // code snippets in Perl API docs
    $('.pod pre').addClass('perl').each(function(i, block) {
        hljs.highlightBlock(block);
    });
});</script>
<!-- otrs.github.io -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Os Campos dinâmicos "Banco de dados"</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="OTRS Business Solution™ 5 Manual"><link rel="up" href="otrs-business-solution-features.html" title="Chapter 3. Características da OTRS Business Solution™"><link rel="prev" href="dynamicfield-contact-with-data.html" title='O campo dinâmico"Contado com dados"'><link rel="next" href="import-example-process.html" title="Import ready-to-run process"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Os Campos dinâmicos "Banco de dados"</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="dynamicfield-contact-with-data.html">Prev</a> </td><th width="60%" align="center">Chapter 3. Características da <span class="bold"><strong>OTRS Business Solution</strong></span>™</th><td width="20%" align="right"> <a accesskey="n" href="import-example-process.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a name="dynamicfield-database"></a>Os Campos dinâmicos "Banco de dados"</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="dynamicfield-database.html#id-1.4.4.3">Descrição</a></span></dt><dt><span class="section"><a href="dynamicfield-database.html#id-1.4.4.4">Configuração</a></span></dt><dd><dl><dt><span class="section"><a href="dynamicfield-database.html#id-1.4.4.4.3">Adicionando no campo dinâmico um 'Banco de dados' </a></span></dt><dt><span class="section"><a href="dynamicfield-database.html#id-1.4.4.4.4">Configuração externa da fonte de dados</a></span></dt><dt><span class="section"><a href="dynamicfield-database.html#id-1.4.4.4.5">Configuração da tela</a></span></dt><dt><span class="section"><a href="dynamicfield-database.html#id-1.4.4.4.6">Armazenamento de dados históricos</a></span></dt><dt><span class="section"><a href="dynamicfield-database.html#id-1.4.4.4.7">Configurações Sysconfig</a></span></dt></dl></dd><dt><span class="section"><a href="dynamicfield-database.html#id-1.4.4.5">Aplicação</a></span></dt><dd><dl><dt><span class="section"><a href="dynamicfield-database.html#id-1.4.4.5.3">Pesquisando e salvando os conjuntos de dados - Preenchimento automático</a></span></dt><dt><span class="section"><a href="dynamicfield-database.html#id-1.4.4.5.4">Pesquisando e salvando os conjuntos de dados - Pesquisa detalhada</a></span></dt></dl></dd></dl></div><p>
        Este recurso implementa um campo dinâmico do tipo "Banco de dados".
    </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="id-1.4.4.3"></a>Descrição</h3></div></div></div><p>
            Este recurso implementa um tipo de campo dinâmico genérico, que oferece a
possibilidade de recolher dados a partir do banco de dados externos. Tais
conjuntos de dados conectados pode ser pesquisado e filtrado utilizando
máscaras adicionais.
        </p><p>
            encontrado e marcado o conjunto de dados relacionados, podem ser salvas para
o ticket particular através do campo dinâmico.
        </p><p>
            'Banco de dados' campos dinâmicos podem ser criados da mesma forma padrão
como são criados os campos dinâmicos.
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="id-1.4.4.4"></a>Configuração</h3></div></div></div><p>
            A seguinte lista de opções de configuração podem ser utilizadas para este
recurso.
        </p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.4.4.4.3"></a>Adicionando no campo dinâmico um 'Banco de dados' </h4></div></div></div><p>
                Este recurso implementa uma interface de configuração para criar campos
dinâmicos do tipo 'Banco de dados'.
            </p><p>
                'Banco de dados' podem ser criados no  campos dinâmicos da mesma forma
padrão como são criados os campos dinâmicos . Para esse interruptor
administrador → Ticket Settings → Visualizar os campos dinâmicos. Nesta
máscara você pode selecionar o campo do 'Banco de dados' a partir da caixa
suspensa no ticket do lado esquerdo. Atualmente não é possível utilizar o
'Banco de dados' no campo dinâmico no contexto do artigo.
            </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                        Configuração "Nome - Geral":
                    </p><p>
                        Os campos dinâmicos do tipo 'Banco de dados' precisa de um nome exclusivo
também, apenas como outro campo dinâmico. Esse nome deve conter somente
valores alfanuméricos. Esse nome será utilizado para tratamento interno do
campo dinâmico, mas não será exibida.
                    </p></li><li class="listitem"><p>
                        Configuração "Etiqueta - Geral":
                    </p><p>
                        A etiqueta pode ser definida individualmente e pode conter espaços em branco
etc. Ele será utilizado como etiqueta do campo nas diferentes visualizações.
                    </p></li><li class="listitem"><p>
                        Configuração "Campo de ordem - Geral":
                    </p><p>
                        A ordem do campo permite que um administrador altere a ordem do campo
dinâmico criado. Se mudar esta configuração obterá a ordem do campo geral
que será ajustada e outros campos dinâmicos serão removidos para uma posição
de volta.
                    </p></li><li class="listitem"><p>
                        Configuração "Validade - Geral":
                    </p><p>
                        Para utilizar o campo dinâmico configurado no OTRS 'observar' e ser definido
como válido. Se campo for definido como 'invalido' desaparecerá a partir de
todos os pontos de vista serão perdidos os dados não configurado.
                    </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.4.4.4.4"></a>Configuração externa da fonte de dados</h4></div></div></div><p>
                Antes um banco de dados externo pode ser pesquisado os resultados que serão
salvos no ticket, através de um campo dinâmico, as credenciais devem ser
armazenadas na configuração do campo dinâmico.  </p><div class="figure"><a name="id-1.4.4.4.4.2.1"></a><p class="title"><b>Figure 3.13. Tela do administrador do banco de dados DynamicField</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/dynamicfield-database/AdminOverview.png" alt="Tela do administrador do banco de dados DynamicField"></div></div></div></div><p><br class="figure-break">
            </p><p>
                Tipo: O tipo de banco de dados desejado pode ser selecionado aqui. O campo
suporta o padrão OTRS de tipos de banco de dados:MySQL, Oracle, PostgreSQL
ou MSSQL.
            </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                        SID: Esta opção somente é disponível para conexões Oracle e será mostrada ou
ocultada automaticamente.  Dentro desta opção de introduzir tem o SID de sua
conexão Oracle.
                    </p></li><li class="listitem"><p>
                        Driver: Esta opção somente esta disponível para conexões ODBC e será
mostrado ou ocultado automaticamente. Dentro desta opção você deve entrar no
hostsystem configurado anteriormente o drive ODBC para se conectar ao banco
de dados  desejado MSSQL.
                    </p></li><li class="listitem"><p>
                        Servidor: O Banco de dados do host (hostname ou IP-Address).
                    </p></li><li class="listitem"><p>
                        Porta: A porta do servidor do Banco de dados.
                    </p></li><li class="listitem"><p>
                        Banco de dados: Define o alvo desejado no Banco de dados DBMS. Esse banco de
dados será utilizado para consultas.
                    </p></li><li class="listitem"><p>
                        Visualizar/tabela: Essa tabela ou modo de exibição será utilizada para
consultas.
                    </p></li><li class="listitem"><p>
                        Usuário: O nome do utilitário para conexão do Banco de dados.
                    </p></li><li class="listitem"><p>
                        Senha: Utilize a senha para conexão com o banco de dados.
                    </p></li><li class="listitem"><p>
                        Identificador: Esta caixa de seleção será automaticamente preenchida através
de "Valores possíveis (descrição abaixo)". Este campo corresponde ao valor
que irá ser armazenado no campo dinâmico.
                    </p></li><li class="listitem"><p>
                        Multi Seleção: Se este campo for selecionado, será possível armazenar mais
de um valor para o campo dinâmico. Esses valores serão armazenados separados
por vírgulas.
                    </p></li><li class="listitem"><p>
                        CacheTTL: Este valor define  em segundos o período de validade do cache do
banco de dados. Consultas iguais ao banco de dados serão respondidas através
do cache(do sistema de arquivo local), ao invés de consultar o bando de
dados novamente.
                    </p></li><li class="listitem"><p>
                        Prefixo de busca: Este valor será colocado na frente de cada termo de busca
enquanto estiver usando o preenchimento automático para procurar o banco de
dados. Os caracteres curinga são também suportados. O prefixo de pesquisa
será ignorado durante a busca detalhada, mas ainda é possível utilizar
caracteres universais nas máscaras.
                    </p></li><li class="listitem"><p>
                        Sufixo de busca: Este valor será colocado no final de cada termo de busca
enquanto estiver usando o preenchimento automático para procurar o banco de
dados. São suportados também os caracteres curinga. O sufixo pesquisa será
ignorado durante a busca detalhada, mas ainda é possível utilizar caracteres
universais nas máscaras.
                    </p></li><li class="listitem"><p>
                        Resultado-Limite: O valor integral preenchido define a quantidade máxima
permitida de resultados durante uma busca na base de dados. Isto inclui
tanto a busca de preenchimento automático quanto a busca detalhada.
                    </p></li><li class="listitem"><p>
                        Caso sensitivo: Se este campo estiver selecionado, em casos de sensibilidade
produzirá efeitos nas pesquisas.
                    </p></li><li class="listitem"><p>
                        Possíveis valores: Como já explicado os possíveis valores preencherão o
campo identificador automaticamente que, por seguinte,  define o valor que
será armazenado no campo dinâmico. Possíveis valores podem ser criados
tantos quantos necessários (ou ao menos tão quantas colunas de tabela o
banco de dados possui). Os possíveis valores definem as colunas de banco de
dados a serem buscados. É possível definir um nome de coluna, uma descrição
(apelido) que o campo deveria ter,  o tipo de dado necessário e se o campo
deveria ser uma busca ou lista.
                    </p></li><li class="listitem"><p>
                        Nome: O nome exato da coluna do banco de dados que será solicitado através
de consultas do banco de dados.
                    </p></li><li class="listitem"><p>
                        Descrição: A etiqueta do campo que será exibida na pesquisa detalhada.
                    </p></li><li class="listitem"><p>
                        Datatype: Tipo de dados que será armazenado no campo dinâmico. Valores
possíveis: TEXTO, NÚMERO INTEIRO ou DATA.
                    </p></li><li class="listitem"><p>
                        Filter: With the filter field, it is possible to choose a ticket attribute
or a dynamic field as a filter for the related column. If the dynamic field
is bound to a related ticket, the attributes will be used for the filter
mechanism, otherwise the filters will be ignored.  If filter will be
configured to a table column, only search results matching to the search
term and the related ticket attribute on exactly the configured column will
be displayed.
                    </p></li><li class="listitem"><p>
                        Searchfield: Indica-se um capo que devem ser incluídas na solicitação de
pesquisa.
                    </p></li><li class="listitem"><p>
                        Listfield: Indica-se um campo que deve ser exibido os resultados.
                    </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.4.4.4.5"></a>Configuração da tela</h4></div></div></div><p>
                Campos dinâmicos do tipo 'Banco de dados' será ativado para várias máscaras
em que eles devem ser exibidos com outros tipo de campos dinâmicos.
            </p><p>
                Isso pode ser feito pelo administrador → Administração do Sistema →
SysConfig, em que o "Ticket" deve ser selecionado no lado esquerdo.
            </p><p>
                Para cada área de interface (Frontend), em que o campo dinâmico do tipo
'Banco de dados' deve ser exibido, o administrador configura para aplicar as
suas necessidades. Exemplos
                </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                            Frontend::Agent::Ticket::ViewZoom exibição de zoom para  ticket.
                        </p></li><li class="listitem"><p>
                            Frontend::Agent::Ticket::ViewPhoneNew para novo telefone dos tickets.
                        </p></li><li class="listitem"><p>
                            Frontend::Agent::Ticket::ViewEmailNew para novo e-mail e tickets.
                        </p></li><li class="listitem"><p>
                            In each of these view configurations is an entry called
"Ticket::Frontend::AgentTicket*###DynamicField".  This configuration defines
which dynamic field(s) should get displayed in this view. To add a dynamic
field, the internal name of the field has to be filled in the 'Key'
field. The field 'Value' can take the values 0 (deactivated), 1 (active) and
2 (active and mandatory).
                        </p></li></ul></div><p>
            </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.4.4.4.6"></a>Armazenamento de dados históricos</h4></div></div></div><p>
                This feature offers a functionality to store historical data. For this to
work it´s necessary to activate and set SysConfig options, as visibly in the
following screenshot: </p><div class="figure"><a name="id-1.4.4.4.6.2.1"></a><p class="title"><b>Figure 3.14. Banco de dados DynamicField - Configuração de dados históricos</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/dynamicfield-database/SysConfigStoreHistoricalData.png" alt="Banco de dados DynamicField - Configuração de dados históricos"></div></div></div></div><p><br class="figure-break">
            </p><p>
                In the configuration option for the "SourceDynamicField" it´s needed to fill
in the already created dynamic (Database) field name, which will be used to
gather the historical data. In the related option "TargetDynamicField" the
field(s) "Key" have to be filled with the table columns of the connected
external database, which will be readout.  For every column the related
target dynamic field has to be configured in the field "content". The
gathered data will be saved in these dynamic fields.
            </p><p>
                If the configuration is ready and active, the configured fields will be
readout from the external database, since the source field gets a new value
via the configured masks. The data will be searched by it´s stored
identifier via an event module and the found values will be stored in the
target dynamic fields.
            </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.4.4.4.7"></a>Configurações Sysconfig</h4></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">AutoComplete::Agent###DynamicFieldDatabaseSearch</span></dt><dd><p>Grupo: Framework, Subgroup: Frontend::Agent</p><p>
                            Define as opções de configuração para o recurso de preenchimento automático.
                        </p></dd><dt><span class="term">Ticket::EventModulePost###950-StoreHistoricalData</span></dt><dd><p>Grupo: Ticket, Subgroup: Core::Ticket</p><p>
                            Atualizações de campos dinâmicos, se os configurados serão atualizados.
                        </p></dd><dt><span class="term">DynamicFieldDatabase::StoreHistoricalData###1-SourceDynamicField1</span></dt><dd><p>Grupo: OTRSBusiness, Subgrupo: Core</p><p>
                            Define a fonte no campo dinâmico para o armazenamento de dados históricos.
                        </p></dd><dt><span class="term">DynamicFieldDatabase::StoreHistoricalData###2-TargetDynamicFields1</span></dt><dd><p>Grupo: OTRSBusiness, Subgrupo: Core</p><p>
                            Define o alvo do campo dinâmico para o armazenamento dos dados históricos.
                        </p></dd><dt><span class="term">DynamicFieldDatabase::StoreHistoricalData###3-SourceDynamicField2</span></dt><dd><p>Grupo: OTRSBusiness, Subgrupo: Core</p><p>
                            Define a fonte no campo dinâmico para o armazenamento de dados históricos.
                        </p></dd><dt><span class="term">DynamicFieldDatabase::StoreHistoricalData###4-TargetDynamicFields2</span></dt><dd><p>Grupo: OTRSBusiness, Subgrupo: Core</p><p>
                            Define o alvo do campo dinâmico para o armazenamento dos dados históricos.
                        </p></dd></dl></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="id-1.4.4.5"></a>Aplicação</h3></div></div></div><p>
            utilizar um exemplar do seguinte  banco de dados DynamicField:
        </p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.4.4.5.3"></a>Pesquisando e salvando os conjuntos de dados - Preenchimento automático</h4></div></div></div><p>
                After the created dynamic fields are activated in the well known masks (like
ViewPhoneNew, ViewEmailNew) a new text field appears with the name, the
dynamic field got in the configuration.  In this field it is possible to
input searchterms and therefore execute a search over all configured
database fields.  Otherwise do a click on the link 'Detailed search' and
start a detailed search in which the fields to search in are selected
explicitly.  </p><div class="figure"><a name="id-1.4.4.5.3.2.1"></a><p class="title"><b>Figure 3.15. Banco de dados DynamicField - campo de teste</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/dynamicfield-database/SearchFieldEmpty.png" alt="Banco de dados DynamicField - campo de teste"></div></div></div></div><p><br class="figure-break">
            </p><p>
                Desde os termos de pesquisa são digitados no campo do texto, uma pesquisa no
banco de dados será iniciada e configurado as colunas  durante o resultado
será exibido através de um preenchimento automático do campo do texto abaixo
. O mais exato termo de pesquisa e mais exato será o resultado (menos
resultado de entradas).  </p><div class="figure"><a name="id-1.4.4.5.3.3.1"></a><p class="title"><b>Figure 3.16. DynamicField Database - Autocomplete feature</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/dynamicfield-database/SearchFieldAutoCompletion.png" alt="DynamicField Database - Autocomplete feature"></div></div></div></div><p><br class="figure-break">
            </p><p>
                Se o desejado valor será exibido nos resultados, pode ser selecionada
através de um clique com o mouse ou através do teclado e por conseguinte ser
adicionado os resultados nos campos dinâmicos.  </p><div class="figure"><a name="id-1.4.4.5.3.4.1"></a><p class="title"><b>Figure 3.17. Banco de dados DynamicField - Itens selecionados</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/dynamicfield-database/SearchFieldSelected.png" alt="Banco de dados DynamicField - Itens selecionados"></div></div></div></div><p><br class="figure-break">
            </p><p>
                Via the link 'Details' a popup screen can be accessed, which offers detailed
information about the whole result row.  This information includes the line
headers and the data. This information can be used to get an overview about
the rest (of the not configured) columns or to compare data.
            </p><p>
                Adicionado o resultado, o mesmo pode ser removido através do botão de
entrada menos.
            </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.4.4.5.4"></a>Pesquisando e salvando os conjuntos de dados - Pesquisa detalhada</h4></div></div></div><p>
                O link 'pesquisa detalhada' abre uma nova caixa de diálogo modal, para
iniciar uma nova pesquisa no banco de dados. Nessa máscara é possível
selecionar os campos para pesquisa explicitamente.  </p><div class="figure"><a name="id-1.4.4.5.4.2.1"></a><p class="title"><b>Figure 3.18. Banco de dados do DynamicField - Pesquisa detalhada</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/dynamicfield-database/DetailedSearchMask.png" alt="Banco de dados do DynamicField - Pesquisa detalhada"></div></div></div></div><p><br class="figure-break">
            </p><p>
                By default the first available field is activated, but it´s also possible to
remove available fields or add additional ones. Only activated and filled
fields are considered for the search. Wildcard characters '*' are allowed in
every single field.
            </p><p>
                The database search will be executed via the button "Start search" and the
results will be tabular displayed.  If the search was successful, the
results will be listed and one of the entries can be selected via a mouse
click. The value will be added to the list of saved values afterwards.
</p><div class="figure"><a name="id-1.4.4.5.4.4.1"></a><p class="title"><b>Figure 3.19. Banco de dados do DynamicField - Resultado da pesquisa detalhada</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/dynamicfield-database/DetailedSearchResult.png" alt="Banco de dados do DynamicField - Resultado da pesquisa detalhada"></div></div></div></div><p><br class="figure-break">
            </p><p>
                Utilizando independente o preenchimento automático ou a pesquisa detalhada,
pode apenas  cada resultado selecionado. Se um agente tentar selecionar um
valor várias vezes, uma mensagem de aviso será exibida.
            </p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="dynamicfield-contact-with-data.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="otrs-business-solution-features.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="import-example-process.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">O campo dinâmico"Contado com dados" </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Import ready-to-run process</td></tr></table></div></body></html>
