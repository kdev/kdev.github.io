

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Agents &mdash; OTRS Administration Manual 8.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/otrs.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Agents ↔ Groups" href="agents-groups.html" />
    <link rel="prev" title="Users, Groups &amp; Roles" href="../users-groups-roles.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          
    
    
    <a href="https://doc.otrs.com/doc" class="icon fa-rocket DocumentationOverview"> OTRS Documentation</a>

    

          
            <a href="../index.html" class="icon icon-home"> OTRS Administration Manual
          

          
            
            <img src="../../_static/otrs-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                8.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          


        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ticket-settings.html">Ticket Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../communication-notifications.html">Communication &amp; Notifications</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../users-groups-roles.html">Users, Groups &amp; Roles</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Agents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#manage-agents">Manage Agents</a></li>
<li class="toctree-l3"><a class="reference internal" href="#agent-settings">Agent Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#agent-back-end-sources">Agent Back End Sources</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#agent-authentication-back-end">Agent Authentication Back End</a></li>
<li class="toctree-l4"><a class="reference internal" href="#agent-synchronization-back-end">Agent Synchronization Back End</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#agent-configuration-options">Agent Configuration Options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="agents-groups.html">Agents ↔ Groups</a></li>
<li class="toctree-l2"><a class="reference internal" href="agents-roles.html">Agents ↔ Roles</a></li>
<li class="toctree-l2"><a class="reference internal" href="customers.html">Customers</a></li>
<li class="toctree-l2"><a class="reference internal" href="customers-groups.html">Customers ↔ Groups</a></li>
<li class="toctree-l2"><a class="reference internal" href="customer-users.html">Customer Users</a></li>
<li class="toctree-l2"><a class="reference internal" href="customer-users-customers.html">Customer Users ↔ Customers</a></li>
<li class="toctree-l2"><a class="reference internal" href="customer-users-groups.html">Customer Users ↔ Groups</a></li>
<li class="toctree-l2"><a class="reference internal" href="customer-users-services.html">Customer Users ↔ Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="groups.html">Groups</a></li>
<li class="toctree-l2"><a class="reference internal" href="roles.html">Roles</a></li>
<li class="toctree-l2"><a class="reference internal" href="roles-groups.html">Roles ↔ Groups</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../processes-automation.html">Processes &amp; Automation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../agent-interface.html">Agent Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../external-interface.html">External Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../otrs-group-services.html">OTRS Group Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chat.html">Chat</a></li>
<li class="toctree-l1"><a class="reference internal" href="../administration.html">Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">OTRS Administration Manual</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../users-groups-roles.html">Users, Groups &amp; Roles</a> &raquo;</li>
        
      <li>Agents</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/OTRS/doc-admin/blob/rel-8_0/content/users-groups-roles/agents.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="agents">
<h1>Agents<a class="headerlink" href="#agents" title="Permalink to this headline">¶</a></h1>
<p>Agent and access management for your service desk should be easy. Flexibility in adding, editing, invalidating access and a quick overview of which permissions a user has will help you maintain a clean permissions system and record of your setup in OTRS.</p>
<p>OTRS aids you giving you the power to manage agents within OTRS across multiple back ends. OTRS can use up-to ten back end sources, even marking some as read-only. Managing user settings centrally, an administrator can quickly invalidate a compromised account or set an account to out-of-office in case of an unexpected illness.</p>
<p>Use this screen to add agents to the system. A fresh OTRS installation contains an agent with administrator privileges by default. The agent management screen is available in the <em>Agents</em> module of the <em>Users, Groups &amp; Roles</em> group.</p>
<div class="figure" id="id1">
<img alt="Agent Management Screen" src="../../_images/agent-management.png" />
<p class="caption"><span class="caption-text">Agent Management Screen</span></p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The superuser account username is <em>root&#64;localhost</em>. Don’t use the superuser account to work with OTRS! Create new agents and work with these accounts instead. One of the adverse effects is that <a class="reference internal" href="../processes-automation/access-control-lists.html"><span class="doc">Access Control Lists (ACL)</span></a> will not have an effect on this user.</p>
</div>
<div class="section" id="manage-agents">
<h2>Manage Agents<a class="headerlink" href="#manage-agents" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Adding or editing an agent is possible only by using database back end. Using explicitly external directory services like LDAP and, based on configuration, some databases are read-only. Personal preferences like out-of-office can still be set.</p>
</div>
<p>To add an agent:</p>
<ol class="arabic simple">
<li>Click on the <em>Add Agent</em> button in the left sidebar.</li>
<li>Fill in the required fields.</li>
<li>Click on the <em>Save</em> button.</li>
</ol>
<div class="figure" id="id2">
<img alt="Add Agent Screen" src="../../_images/agent-add.png" />
<p class="caption"><span class="caption-text">Add Agent Screen</span></p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Agents can not be deleted from the system. They can only be deactivated by setting the <em>Validity</em> option to <em>invalid</em> or <em>invalid-temporarily</em>.</p>
</div>
<p>To edit an agent:</p>
<ol class="arabic simple">
<li>Click on an agent in the list of agents.</li>
<li>Modify the fields.</li>
<li>Click on the <em>Save</em> or <em>Save and finish</em> button.</li>
</ol>
<div class="figure" id="id3">
<img alt="Edit Agent Screen" src="../../_images/agent-edit.png" />
<p class="caption"><span class="caption-text">Edit Agent Screen</span></p>
</div>
<p>It is also possible to edit the agent personal preferences. To do this, click on the <em>Edit personal preferences for this agent</em> button in the left sidebar of the <em>Edit Agent</em> screen.</p>
<p>To find an agent:</p>
<ol class="arabic simple">
<li>Enter a search term to the search box in the left sidebar.</li>
<li>Click on the magnifying glass icon in the right part of the field or hit an <code class="docutils literal notranslate"><span class="pre">Enter</span></code>.</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If several agents are added to the system, use the search box to find a particular agent. Only the first 1000 agents are listed by default.</p>
</div>
<p>The agent permissions can be controlled by adding an agent to <a class="reference internal" href="groups.html"><span class="doc">Groups</span></a> or <a class="reference internal" href="roles.html"><span class="doc">Roles</span></a>. This can result a complex matrix of permissions. The effective permissions for an agent can be checked in the bottom of the <em>Edit Agent</em> screen. If roles (recommended) are used, this screen will reflect the combined permissions as dictated by the roles.</p>
<div class="figure" id="id4">
<img alt="Effective Permissions for Agent Widget" src="../../_images/agent-effective-permission.png" />
<p class="caption"><span class="caption-text">Effective Permissions for Agent Widget</span></p>
</div>
</div>
<div class="section" id="agent-settings">
<h2>Agent Settings<a class="headerlink" href="#agent-settings" title="Permalink to this headline">¶</a></h2>
<p>The following settings are available when adding or editing this resource. The fields marked with an asterisk are mandatory.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">These are the default fields available for the internal database table.</p>
</div>
<dl class="docutils">
<dt>Title or salutation</dt>
<dd>Some name prefix can be added here like <em>Mr.</em>, <em>Dr.</em>, <em>Jr.</em>, etc.</dd>
<dt>Firstname *</dt>
<dd>The first name of the agent.</dd>
<dt>Lastname *</dt>
<dd><p class="first">The last name of the agent.</p>
<div class="last admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">The agent display name can be set via the system configuration setting <code class="docutils literal notranslate"><span class="pre">FirstnameLastnameOrder</span></code>.</p>
</div>
</dd>
<dt>Username *</dt>
<dd>The username of the agent to login to the system.</dd>
<dt>Password</dt>
<dd>The password of the agent. This will be auto-generated if left empty.</dd>
<dt>Email *</dt>
<dd><p class="first">The email address of the agent.</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The email syntax and validity of an available MX record could prevent you from submitting this form. For some systems it may be acceptable to turn off these checks. See the <a class="reference internal" href="#agent-configuration-options"><span class="std std-ref">Agent Configuration Options</span></a>.</p>
</div>
</dd>
<dt>Mobile</dt>
<dd>The mobile phone number of the agent.</dd>
<dt>Validity *</dt>
<dd>Set the validity of this resource. Each resource can be used in OTRS only, if this field is set to <em>valid</em>. Setting this field to <em>invalid</em> or <em>invalid-temporarily</em> will disable the use of the resource.</dd>
</dl>
</div>
<div class="section" id="agent-back-end-sources">
<h2>Agent Back End Sources<a class="headerlink" href="#agent-back-end-sources" title="Permalink to this headline">¶</a></h2>
<p>Agents can be read and synchronized from an Active Directory® or LDAP server.</p>
<p>In case of using <em>On-Premise</em> system or <em>((OTRS)) Community Edition</em>, you may use the following section to configure your system.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The following configurations are taken care of by the <em>Customer Solution Team</em> in <strong>OTRS</strong>. Please contact the <em>Customer Solution Team</em> via <a class="reference external" href="mailto:support&#37;&#52;&#48;otrs&#46;com">support<span>&#64;</span>otrs<span>&#46;</span>com</a> or in the <a class="reference external" href="https://portal.otrs.com/">OTRS Portal</a>.</p>
</div>
<div class="section" id="agent-authentication-back-end">
<h3>Agent Authentication Back End<a class="headerlink" href="#agent-authentication-back-end" title="Permalink to this headline">¶</a></h3>
<p>The users table houses your agent data per default. You may attach a directory server (LDAP/Active Directory) to your installation for authentication. To achieve this copy the following block from the <code class="docutils literal notranslate"><span class="pre">Defaults.pm</span></code> and paste it into the <code class="docutils literal notranslate"><span class="pre">Config.pm</span></code>.</p>
<div class="highlight-perl notranslate"><div class="highlight"><pre><span></span><span class="c1"># This is an example configuration for an LDAP auth. backend.</span>
<span class="c1"># (take care that Net::LDAP is installed!)</span>
<span class="c1">#    $Self-&gt;{AuthModule} = &#39;Kernel::System::Auth::LDAP&#39;;</span>
<span class="c1">#    $Self-&gt;{&#39;AuthModule::LDAP::Host&#39;} = &#39;ldap.example.com&#39;;</span>
<span class="c1">#    $Self-&gt;{&#39;AuthModule::LDAP::BaseDN&#39;} = &#39;dc=example,dc=com&#39;;</span>
<span class="c1">#    $Self-&gt;{&#39;AuthModule::LDAP::UID&#39;} = &#39;uid&#39;;</span>

<span class="c1"># Check if the user is allowed to auth in a posixGroup</span>
<span class="c1"># (e. g. user needs to be in a group xyz to use otrs)</span>
<span class="c1">#    $Self-&gt;{&#39;AuthModule::LDAP::GroupDN&#39;} = &#39;cn=otrsallow,ou=posixGroups,dc=example,dc=com&#39;;</span>
<span class="c1">#    $Self-&gt;{&#39;AuthModule::LDAP::AccessAttr&#39;} = &#39;memberUid&#39;;</span>
<span class="c1"># for ldap posixGroups objectclass (just uid)</span>
<span class="c1">#    $Self-&gt;{&#39;AuthModule::LDAP::UserAttr&#39;} = &#39;UID&#39;;</span>
<span class="c1"># for non ldap posixGroups objectclass (with full user dn)</span>
<span class="c1">#    $Self-&gt;{&#39;AuthModule::LDAP::UserAttr&#39;} = &#39;DN&#39;;</span>

<span class="c1"># The following is valid but would only be necessary if the</span>
<span class="c1"># anonymous user do NOT have permission to read from the LDAP tree</span>
<span class="c1">#    $Self-&gt;{&#39;AuthModule::LDAP::SearchUserDN&#39;} = &#39;&#39;;</span>
<span class="c1">#    $Self-&gt;{&#39;AuthModule::LDAP::SearchUserPw&#39;} = &#39;&#39;;</span>

<span class="c1"># in case you want to add always one filter to each ldap query, use</span>
<span class="c1"># this option. e. g. AlwaysFilter =&gt; &#39;(mail=*)&#39; or AlwaysFilter =&gt; &#39;(objectclass=user)&#39;</span>
<span class="c1"># or if you want to filter with a locigal OR-Expression, like AlwaysFilter =&gt; &#39;(|(mail=*abc.com)(mail=*xyz.com))&#39;</span>
<span class="c1">#    $Self-&gt;{&#39;AuthModule::LDAP::AlwaysFilter&#39;} = &#39;&#39;;</span>

<span class="c1"># in case you want to add a suffix to each login name, then</span>
<span class="c1"># you can use this option. e. g. user just want to use user but</span>
<span class="c1"># in your ldap directory exists user@domain.</span>
<span class="c1">#    $Self-&gt;{&#39;AuthModule::LDAP::UserSuffix&#39;} = &#39;@domain.com&#39;;</span>

<span class="c1"># In case you want to convert all given usernames to lower letters you</span>
<span class="c1"># should activate this option. It might be helpful if databases are</span>
<span class="c1"># in use that do not distinguish selects for upper and lower case letters</span>
<span class="c1"># (Oracle, postgresql). User might be synched twice, if this option</span>
<span class="c1"># is not in use.</span>
<span class="c1">#    $Self-&gt;{&#39;AuthModule::LDAP::UserLowerCase&#39;} = 0;</span>

<span class="c1"># In case you need to use OTRS in iso-charset, you can define this</span>
<span class="c1"># by using this option (converts utf-8 data from LDAP to iso).</span>
<span class="c1">#    $Self-&gt;{&#39;AuthModule::LDAP::Charset&#39;} = &#39;iso-8859-1&#39;;</span>

<span class="c1"># Net::LDAP new params (if needed - for more info see perldoc Net::LDAP)</span>
<span class="c1">#    $Self-&gt;{&#39;AuthModule::LDAP::Params&#39;} = {</span>
<span class="c1">#        port    =&gt; 389,</span>
<span class="c1">#        timeout =&gt; 120,</span>
<span class="c1">#        async   =&gt; 0,</span>
<span class="c1">#        version =&gt; 3,</span>
<span class="c1">#    };</span>

<span class="c1"># Die if backend can&#39;t work, e. g. can&#39;t connect to server.</span>
<span class="c1">#    $Self-&gt;{&#39;AuthModule::LDAP::Die&#39;} = 1;</span>

<span class="n">You</span> <span class="n">should</span> <span class="n">uncomment</span> <span class="n">the</span> <span class="n">following</span> <span class="n">settings</span> <span class="n">as</span> <span class="n">a</span> <span class="n">minimum</span><span class="o">.</span>
</pre></div>
</div>
<p>The minimum required to connect to a directory server is:</p>
<div class="highlight-perl notranslate"><div class="highlight"><pre><span></span><span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">AuthModule</span><span class="p">}</span> <span class="o">=</span> <span class="s">&#39;Kernel::System::Auth::LDAP&#39;</span><span class="p">;</span>
<span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="s">&#39;AuthModule::LDAP::Host&#39;</span><span class="p">}</span> <span class="o">=</span> <span class="s">&#39;ldap.example.com&#39;</span><span class="p">;</span>
<span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="s">&#39;AuthModule::LDAP::BaseDN&#39;</span><span class="p">}</span> <span class="o">=</span> <span class="s">&#39;dc=example,dc=com&#39;</span><span class="p">;</span>
<span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="s">&#39;AuthModule::LDAP::UID&#39;</span><span class="p">}</span> <span class="o">=</span> <span class="s">&#39;uid&#39;</span><span class="p">;</span>
</pre></div>
</div>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">Host</span></code></dt>
<dd>The DNS name or IP of your directory server.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">BaseDN</span></code></dt>
<dd>The starting point in your directory tree.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">UID</span></code></dt>
<dd><p class="first">The attribute used for login and identification.</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is <code class="docutils literal notranslate"><span class="pre">sAMAccountName</span></code> for an Active Directory.</p>
</div>
</dd>
</dl>
<p>To use multiple back ends, add an additional section of the example code to the <code class="docutils literal notranslate"><span class="pre">Config.pm</span></code>. Please make sure to add a numeric value [1-9] to all settings to indicate which settings belong to which back end.</p>
<div class="highlight-perl notranslate"><div class="highlight"><pre><span></span><span class="c1">### Backend One</span>
<span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">AuthModule</span><span class="p">}</span> <span class="o">=</span> <span class="s">&#39;Kernel::System::Auth::LDAP&#39;</span><span class="p">;</span>
<span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="s">&#39;AuthModule::LDAP::Host&#39;</span><span class="p">}</span> <span class="o">=</span> <span class="s">&#39;ldap.example.com&#39;</span><span class="p">;</span>
<span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="s">&#39;AuthModule::LDAP::BaseDN&#39;</span><span class="p">}</span> <span class="o">=</span> <span class="s">&#39;dc=example,dc=com&#39;</span><span class="p">;</span>
<span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="s">&#39;AuthModule::LDAP::UID&#39;</span><span class="p">}</span> <span class="o">=</span> <span class="s">&#39;uid&#39;</span><span class="p">;</span>

<span class="c1">### Backend Two</span>
<span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">AuthModule1</span><span class="p">}</span> <span class="o">=</span> <span class="s">&#39;Kernel::System::Auth::LDAP&#39;</span><span class="p">;</span>
<span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="s">&#39;AuthModule::LDAP::Host1&#39;</span><span class="p">}</span> <span class="o">=</span> <span class="s">&#39;ldap.example.com&#39;</span><span class="p">;</span>
<span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="s">&#39;AuthModule::LDAP::BaseDN1&#39;</span><span class="p">}</span> <span class="o">=</span> <span class="s">&#39;dc=example,dc=com&#39;</span><span class="p">;</span>
<span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="s">&#39;AuthModule::LDAP::UID1&#39;</span><span class="p">}</span> <span class="o">=</span> <span class="s">&#39;uid&#39;</span><span class="p">;</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">All back ends will are used in succession. The UID must be unique to all back ends, otherwise some side effects may occur.</p>
</div>
<p>To synchronize with a specific directory server (see <a class="reference internal" href="#agent-user-data"><span class="std std-ref">Agent User Data</span></a> below), you must add the appropriate setting to your <a class="reference internal" href="#agent-authentication-back-end"><span class="std std-ref">Agent Authentication Back End</span></a>. To achieve this copy the following block from the <code class="docutils literal notranslate"><span class="pre">Defaults.pm</span></code> and paste it into the <code class="docutils literal notranslate"><span class="pre">Config.pm</span></code>.</p>
<div class="highlight-perl notranslate"><div class="highlight"><pre><span></span><span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="s">&#39;AuthModule::UseSyncBackend&#39;</span><span class="p">}</span> <span class="o">=</span> <span class="s">&#39;AuthSyncBackend&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p>To use multiple back ends, add an additional section of the example code to the <code class="docutils literal notranslate"><span class="pre">Config.pm</span></code>. Please make sure to add a numeric value [1-9] to all settings to indicate which settings belong to which back end.</p>
<div class="highlight-perl notranslate"><div class="highlight"><pre><span></span><span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="s">&#39;AuthModule::UseSyncBackend1&#39;</span><span class="p">}</span> <span class="o">=</span> <span class="s">&#39;AuthSyncBackend1&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p>Reuse of an <a class="reference internal" href="#agent-synchronization-back-end"><span class="std std-ref">Agent Synchronization Back End</span></a> is also possible.</p>
<div class="highlight-perl notranslate"><div class="highlight"><pre><span></span><span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="s">&#39;AuthModule::UseSyncBackend1&#39;</span><span class="p">}</span> <span class="o">=</span> <span class="s">&#39;AuthSyncBackend&#39;</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="agent-synchronization-back-end">
<h3>Agent Synchronization Back End<a class="headerlink" href="#agent-synchronization-back-end" title="Permalink to this headline">¶</a></h3>
<p>It is advisable to synchronize the agent data so that agents need not be manually added to the users table prior to authorization. Additionally, groups and roles can be added automatically using security objects of the directory server.</p>
<div class="section" id="agent-user-data">
<h4>Agent User Data<a class="headerlink" href="#agent-user-data" title="Permalink to this headline">¶</a></h4>
<p>Syncing user data upon login. To achieve this copy the following block from the <code class="docutils literal notranslate"><span class="pre">Defaults.pm</span></code> and paste it into the <code class="docutils literal notranslate"><span class="pre">Config.pm</span></code>.</p>
<div class="highlight-perl notranslate"><div class="highlight"><pre><span></span><span class="c1"># This is an example configuration for an LDAP auth sync. backend.</span>
<span class="c1"># (take care that Net::LDAP is installed!)</span>
<span class="c1">#    $Self-&gt;{AuthSyncModule} = &#39;Kernel::System::Auth::Sync::LDAP&#39;;</span>
<span class="c1">#    $Self-&gt;{&#39;AuthSyncModule::LDAP::Host&#39;} = &#39;ldap.example.com&#39;;</span>
<span class="c1">#    $Self-&gt;{&#39;AuthSyncModule::LDAP::BaseDN&#39;} = &#39;dc=example,dc=com&#39;;</span>
<span class="c1">#    $Self-&gt;{&#39;AuthSyncModule::LDAP::UID&#39;} = &#39;uid&#39;;</span>

<span class="c1"># The following is valid but would only be necessary if the</span>
<span class="c1"># anonymous user do NOT have permission to read from the LDAP tree</span>
<span class="c1">#    $Self-&gt;{&#39;AuthSyncModule::LDAP::SearchUserDN&#39;} = &#39;&#39;;</span>
<span class="c1">#    $Self-&gt;{&#39;AuthSyncModule::LDAP::SearchUserPw&#39;} = &#39;&#39;;</span>

<span class="c1"># in case you want to add always one filter to each ldap query, use</span>
<span class="c1"># this option. e. g. AlwaysFilter =&gt; &#39;(mail=*)&#39; or AlwaysFilter =&gt; &#39;(objectclass=user)&#39;</span>
<span class="c1"># or if you want to filter with a logical OR-Expression, like AlwaysFilter =&gt; &#39;(|(mail=*abc.com)(mail=*xyz.com))&#39;</span>
<span class="c1">#    $Self-&gt;{&#39;AuthSyncModule::LDAP::AlwaysFilter&#39;} = &#39;&#39;;</span>

<span class="c1"># AuthSyncModule::LDAP::UserSyncMap</span>
<span class="c1"># (map if agent should create/synced from LDAP to DB after successful login)</span>
<span class="c1"># you may specify LDAP-Fields as either</span>
<span class="c1">#  * list, which will check each field. first existing will be picked ( [&quot;givenName&quot;,&quot;cn&quot;,&quot;_empty&quot;] )</span>
<span class="c1">#  * name of an LDAP-Field (may return empty strings) (&quot;givenName&quot;)</span>
<span class="c1">#  * fixed strings, prefixed with an underscore: &quot;_test&quot;, which will always return this fixed string</span>
<span class="c1">#    $Self-&gt;{&#39;AuthSyncModule::LDAP::UserSyncMap&#39;} = {</span>
<span class="c1">#        # DB -&gt; LDAP</span>
<span class="c1">#        UserFirstname =&gt; &#39;givenName&#39;,</span>
<span class="c1">#        UserLastname  =&gt; &#39;sn&#39;,</span>
<span class="c1">#        UserEmail     =&gt; &#39;mail&#39;,</span>
<span class="c1">#    };</span>
</pre></div>
</div>
<p>The minimum required to connect to a directory server is:</p>
<div class="highlight-perl notranslate"><div class="highlight"><pre><span></span><span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">AuthSyncModule</span><span class="p">}</span> <span class="o">=</span> <span class="s">&#39;Kernel::System::Auth::Sync::LDAP&#39;</span><span class="p">;</span>
<span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="s">&#39;AuthSyncModule::LDAP::Host&#39;</span><span class="p">}</span> <span class="o">=</span> <span class="s">&#39;ldap.example.com&#39;</span><span class="p">;</span>
<span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="s">&#39;AuthSyncModule::LDAP::BaseDN&#39;</span><span class="p">}</span> <span class="o">=</span> <span class="s">&#39;dc=example,dc=com&#39;</span><span class="p">;</span>
<span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="s">&#39;AuthSyncModule::LDAP::UID&#39;</span><span class="p">}</span> <span class="o">=</span> <span class="s">&#39;uid&#39;</span><span class="p">;</span>
</pre></div>
</div>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">Host</span></code></dt>
<dd>The DNS name or IP of your directory server.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">BaseDN</span></code></dt>
<dd>The starting point in your directory tree.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">UID</span></code></dt>
<dd><p class="first">The attribute used for login and identification.</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is <code class="docutils literal notranslate"><span class="pre">sAMAccountName</span></code> for an Active Directory.</p>
</div>
</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Multiple <a class="reference internal" href="#agent-synchronization-back-end"><span class="std std-ref">Agent Synchronization Back End</span></a> blocks can be used. Please make sure to add a numeric value [1-9] to all settings to indicate which settings belong to which back end. Each <code class="docutils literal notranslate"><span class="pre">AuthSyncModule</span></code> must be explicitly used in an <a class="reference internal" href="#agent-authentication-back-end"><span class="std std-ref">Agent Authentication Back End</span></a>.</p>
</div>
</div>
<div class="section" id="agent-group-data">
<h4>Agent Group Data<a class="headerlink" href="#agent-group-data" title="Permalink to this headline">¶</a></h4>
<p>It is possible to use security objects to synchronize users to OTRS groups. To achieve this copy the following block from the <code class="docutils literal notranslate"><span class="pre">Defaults.pm</span></code> and paste it into the <code class="docutils literal notranslate"><span class="pre">Config.pm</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><a class="reference internal" href="groups.html"><span class="doc">Groups</span></a> must be available in OTRS to use this feature.</p>
</div>
</div>
<div class="section" id="agent-role-data">
<h4>Agent Role Data<a class="headerlink" href="#agent-role-data" title="Permalink to this headline">¶</a></h4>
<p>It is possible to use security objects to synchronize users to OTRS roles. To achieve this copy the following block from the <code class="docutils literal notranslate"><span class="pre">Defaults.pm</span></code> and paste it into the <code class="docutils literal notranslate"><span class="pre">Config.pm</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><a class="reference internal" href="roles.html"><span class="doc">Roles</span></a> must be available in OTRS to use this feature.</p>
</div>
</div>
</div>
</div>
<div class="section" id="agent-configuration-options">
<h2>Agent Configuration Options<a class="headerlink" href="#agent-configuration-options" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          

<script>
// Start Google Analytics Tracking
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-28118796-2', 'auto');
ga('send', 'pageview');
// End Google Analytics Tracking
</script>

<footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="agents-groups.html" class="btn btn-neutral float-right" title="Agents ↔ Groups" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../users-groups-roles.html" class="btn btn-neutral" title="Users, Groups &amp; Roles" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2001-2020 OTRS AG, https://otrs.com/

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>