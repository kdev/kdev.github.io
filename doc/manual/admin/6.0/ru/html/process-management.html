<html><head>
<!-- otrs.github.io -->
<link href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="../../../../../documentation.css">
<script src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="../../../../../documentation.js"></script>
<link rel="icon" type="image/png" sizes="32x32" href="../../../../../../images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../../../../../images/favicon-16x16.png">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/default.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>
<script>
$(document).ready(function() {

    // Hint languages to prevent false matches (php for example).
    hljs.configure({
        languages: ['perl', 'javascript', 'xml', 'html', 'css', 'json', 'yaml']
    });

    // programlistings in manuals
    $('pre.programlisting').each(function(i, block) {
        hljs.highlightBlock(block);
    });
    // code snippets in Perl API docs
    $('.pod pre').addClass('perl').each(function(i, block) {
        hljs.highlightBlock(block);
    });
});</script>
<!-- otrs.github.io -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Управление Процессами</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="OTRS 6 - Руководство Администратора"><link rel="up" href="customization.html" title="Chapter 5. Настройка"><link rel="prev" href="customization.html" title="Chapter 5. Настройка"><link rel="next" href="translation.html" title="Локализация интерфейса OTRS"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Управление Процессами</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="customization.html">Prev</a> </td><th width="60%" align="center">Chapter 5. Настройка</th><td width="20%" align="right"> <a accesskey="n" href="translation.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a name="process-management"></a>Управление Процессами</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="process-management.html#id-1.7.3.2">Введение</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.3">Пример процесса</a></span></dt><dd><dl><dt><span class="section"><a href="process-management.html#id-1.7.3.3.3">Запись спроса</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.3.4">Утверждение менеджером</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.3.5">Обрабатывается отделом закупок</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.3.6">Обрабатывается почтовым отделом</a></span></dt></dl></dd><dt><span class="section"><a href="process-management.html#id-1.7.3.4">Выполнение примера</a></span></dt><dd><dl><dt><span class="section"><a href="process-management.html#id-1.7.3.4.15">Процесс (в качестве контейнера)</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.4.16">Диалоги Действий</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.4.17">Переходы</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.4.18">Действия Перехода</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.4.19">Деятельность</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.4.20">Схема процесса заказа книги</a></span></dt></dl></dd><dt><span class="section"><a href="process-management.html#id-1.7.3.5">Эталонная последовательность настройки процесса</a></span></dt><dd><dl><dt><span class="section"><a href="process-management.html#id-1.7.3.5.2">Процесс</a></span></dt><dd><dl><dt><span class="section"><a href="process-management.html#id-1.7.3.5.2.3">Настройка Процесса</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.2.4">Название</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.2.5">CreateTime</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.2.6">CreateBy</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.2.7">ChangeTime</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.2.8">ChangeBy</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.2.9">State</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.2.10">StartActivity</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.2.11">StartActivityDialog</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.2.12">Путь</a></span></dt></dl></dd><dt><span class="section"><a href="process-management.html#id-1.7.3.5.3">Активность</a></span></dt><dd><dl><dt><span class="section"><a href="process-management.html#id-1.7.3.5.3.3">Настройка Активности</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.3.4">Название</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.3.5">CreateTime</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.3.6">CreateBy</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.3.7">ChangeTime</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.3.8">ChangeBy</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.3.9">ActivityDialog</a></span></dt></dl></dd><dt><span class="section"><a href="process-management.html#id-1.7.3.5.4">ActivityDialog</a></span></dt><dd><dl><dt><span class="section"><a href="process-management.html#id-1.7.3.5.4.3">Настройка ActivityDialog/Далога Активности</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.4.4">Название</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.4.5">CreateTime</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.4.6">CreateBy</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.4.7">ChangeTime</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.4.8">ChangeBy</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.4.9">Поля</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.4.10">Порядок полей</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.4.11">Текст подсказки для кнопки</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.4.12">Текст надписи на кнопке</a></span></dt></dl></dd><dt><span class="section"><a href="process-management.html#id-1.7.3.5.5">Переход</a></span></dt><dd><dl><dt><span class="section"><a href="process-management.html#id-1.7.3.5.5.3">Конфигурирование Перехода</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.5.4">Название</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.5.5">CreateTime</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.5.6">CreateBy</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.5.7">ChangeTime</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.5.8">ChangeBy</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.5.9">Условие</a></span></dt></dl></dd><dt><span class="section"><a href="process-management.html#id-1.7.3.5.6">Действия Перехода</a></span></dt><dd><dl><dt><span class="section"><a href="process-management.html#id-1.7.3.5.6.3">Настройка Действий Перехода</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.6.4">Название</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.6.5">Модуль</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.6.6">Config</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.6.7">Повторное использование модулей Действий Переходов.</a></span></dt><dt><span class="section"><a href="process-management.html#available-transition-actions">Доступные Действия Перехода</a></span></dt></dl></dd><dt><span class="section"><a href="process-management.html#process-management-acl">Списки Контроля Доступа (ACLs)</a></span></dt><dd><dl><dt><span class="section"><a href="process-management.html#id-1.7.3.5.7.3">Настройка ACL</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.7.4">001-ACL-ProcessProperties</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.7.5">Процесс</a></span></dt><dt><span class="section"><a href="process-management.html#id-1.7.3.5.7.6">Possible/PossibleNot Activity Dialog/Диалог Активности</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="process-management.html#id-1.7.3.6">Import Ready2Adopt process</a></span></dt><dd><dl><dt><span class="section"><a href="process-management.html#id-1.7.3.6.2">Импорт</a></span></dt></dl></dd></dl></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="id-1.7.3.2"></a>Введение</h3></div></div></div><p>
            Эта функция в OTRS Позволяет поделировать процессы (потоки работ/задач) в
системе управления заявками. ГОсновная идея заключается в том, чтобы задать
повторяющиеся процессы и делегировать части работы различным сотрудникам, а
также управлять продолжением работы по процессу, в зависимости от
определенных условий.
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="id-1.7.3.3"></a>Пример процесса</h3></div></div></div><p>
            Давайте рассмотрим некий пример чтобы все было более наглядно и понятно. Мы
будем рассматривать процесс покупки книги:
        </p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.7.3.3.3"></a>Запись спроса</h4></div></div></div><p>
                Прежде чем заказ будет размещен, запрос на литературу работником будет
записан. Следующая книга нужна в нашем примере:
            </p><p>
                </p><pre class="screen">
Title: Prozessmanagement für Dummies
Autor: Thilo Knuppertz
ISBN: 3527703713
                </pre><p>
            </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.7.3.3.4"></a>Утверждение менеджером</h4></div></div></div><p>
                Начальник отдела где работает работник должен решить что делать с заказом. В
случае отказа, причина отказа должна быть записана старшим по должности. В
случае одобрения заказ передается в отдел закупок.
            </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.7.3.3.5"></a>Обрабатывается отделом закупок</h4></div></div></div><p>
                Закупка, в данном случае, состоит в том, чтобы найти, где книга может быть
заказана на лучших условиях. Если ее нет на рынке, это должно быть записано
в заказе. В случае успешного размещения заказа, закупщик записывает
поставщика, цену и дату поставки.
            </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.7.3.3.6"></a>Обрабатывается почтовым отделом</h4></div></div></div><p>
                Посылка будет доставлена в компанию. Отдел приемки, проверяет посылку и
записывает дату приема. Теперь работник - заявитель будет извещен, что его
заказ прибыл и готов к выдаче.
            </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="id-1.7.3.4"></a>Выполнение примера</h3></div></div></div><p>
            If we assume that a ticket acts in this work-flow like an accompanying
document that can receive change notes, we already have a clear picture of
process tickets.
        </p><p>
            Проанализировав предыдущий пример мы можем выделить следующие пункты:
        </p><p>
            </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                        Возможности регистрации данных, назовем их <span class="emphasis"><em>Activity
Dialogs/Диалоги Активности</em></span>,
                    </p></li><li class="listitem"><p>
                        Проверки, которые могут автоматически реагировать на изменение данных,
назовем <span class="emphasis"><em>Переходы</em></span>,
                    </p></li><li class="listitem"><p>
                        изменения, которые могут быть применены для обработки заявки после успешного
перехода обработки заявки, назовем их <span class="emphasis"><em>Transition
Actions</em></span>.
                    </p></li></ul></div><p>
        </p><p>
            Также нам необходим дополнительный элемент, который не так очевиден:
        </p><p>
            </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                        Возможность предложить, чтобы более чем один Диалог Активности/Activity
Dialog был доступен. В нашем примере это необходимо, когда менеджер должен
иметь выбор между "Approve/Утвердить" and "Deny/Запретить". Назовем это
<span class="emphasis"><em>Activity/Активность</em></span>.
                    </p></li></ul></div><p>
        </p><p>
            Теперь, введя понятия  Activities/Активность, Activity Dialogs/Диалоги
Активности, Transitions/Переходы и Transition Actions/Действия перехода, мы
имеем все необходимые инструменты для построения отдельных этапов нашего
примера. Что мы еще не определили, так это область в которой для каждого
потока работ/ work-flow был бы задан порядок шагов. Назовем это
<span class="emphasis"><em>Process/Процесс</em></span>. Чтобы иметь возможность ссылаться на
все эти сущности/понятия позже, дадим им краткие имена/аббревиатуры в
скобках. Эти обозначения основаны на внутреннем механизме идентификации,
называемом  EntityIDs.
        </p><p>
            EntityIDs согласовываются с одной или двумя буквами (в зависимости от части
процесса), а затем порядковый номер, например:
            </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Процесс: 'P1', 'P2' ... 'Pn'.</p></li><li class="listitem"><p>Деятельность: 'A1', 'A2' ... 'An'.</p></li><li class="listitem"><p>Диалог Активности: 'AD1', 'AD2' ... 'ADn'.</p></li><li class="listitem"><p>Переход: 'T1', 'T2' ... 'Tn'.</p></li><li class="listitem"><p>Переход действий: 'TA1', 'TA2' ... 'TAn'.</p></li></ul></div><p>
        </p><p>
           Перед созданием процесса и его частей необходимо подготовить систему. Нужно
определить некоторые Очереди, Клиентов и Динамические Поля, а также
установить некоторые опции в файле  SysConfig.
        </p><p>
            Создать следующие Очереди:
            </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Управление</p></li><li class="listitem"><p>Сотрудники</p></li><li class="listitem"><p>Покупка</p></li><li class="listitem"><p>Почтовое отделение</p></li></ul></div><p>
        </p><p>
            Создает следующих Пользователей:
            </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Менеджер</p></li><li class="listitem"><p>Сотрудник</p></li></ul></div><p>
        </p><p>
            Создать следующие Динамически Поля:
            </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Название</p><div class="informaltable"><table class="informaltable" border="1"><colgroup><col><col></colgroup><tbody><tr><td align="left">Метка</td><td align="left">Название</td></tr><tr><td align="left">Type</td><td align="left">Text</td></tr><tr><td align="left">Объект</td><td align="left">Заявк</td></tr></tbody></table></div></li><li class="listitem"><p>Автор</p><div class="informaltable"><table class="informaltable" border="1"><colgroup><col><col></colgroup><tbody><tr><td align="left">Метка</td><td align="left">Автор</td></tr><tr><td align="left">Type</td><td align="left">Text</td></tr><tr><td align="left">Объект</td><td align="left">Заявк</td></tr></tbody></table></div></li><li class="listitem"><p>ISBN</p><div class="informaltable"><table class="informaltable" border="1"><colgroup><col><col></colgroup><tbody><tr><td align="left">Метка</td><td align="left">ISBN</td></tr><tr><td align="left">Type</td><td align="left">Text</td></tr><tr><td align="left">Объект</td><td align="left">Заявк</td></tr></tbody></table></div></li><li class="listitem"><p>Состояние</p><div class="informaltable"><table class="informaltable" border="1"><colgroup><col><col></colgroup><tbody><tr><td align="left">Метка</td><td align="left">Состояние</td></tr><tr><td align="left">Type</td><td align="left">Dropdown</td></tr><tr><td align="left">Объект</td><td align="left">Заявк</td></tr><tr><td align="left">Возможные значения</td><td align="left">
                                        <div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>Утверждение</p></li><li class="listitem"><p>Отказано в утверждении</p></li><li class="listitem"><p>Утвержденный</p></li><li class="listitem"><p>Заказ отменен</p></li><li class="listitem"><p>Заказ размещен</p></li><li class="listitem"><p>Посылка получена</p></li></ul></div>
                                    </td></tr></tbody></table></div><p>
                        Примечание: Используйте именно эти возможные значения для "Ключ" и
"Значение" при создании динамических полей.
                    </p></li><li class="listitem"><p>Поставщик</p><div class="informaltable"><table class="informaltable" border="1"><colgroup><col><col></colgroup><tbody><tr><td align="left">Метка</td><td align="left">Поставщик</td></tr><tr><td align="left">Type</td><td align="left">Text</td></tr><tr><td align="left">Объект</td><td align="left">Заявк</td></tr></tbody></table></div></li><li class="listitem"><p>Цена</p><div class="informaltable"><table class="informaltable" border="1"><colgroup><col><col></colgroup><tbody><tr><td align="left">Метка</td><td align="left">Цена</td></tr><tr><td align="left">Type</td><td align="left">Text</td></tr><tr><td align="left">Объект</td><td align="left">Заявк</td></tr></tbody></table></div></li><li class="listitem"><p>DeliveryDate</p><div class="informaltable"><table class="informaltable" border="1"><colgroup><col><col></colgroup><tbody><tr><td align="left">Метка</td><td align="left">Дата доставки</td></tr><tr><td align="left">Type</td><td align="left">Date</td></tr><tr><td align="left">Объект</td><td align="left">Заявк</td></tr></tbody></table></div></li><li class="listitem"><p>DateOfReceipt</p><div class="informaltable"><table class="informaltable" border="1"><colgroup><col><col></colgroup><tbody><tr><td align="left">Метка</td><td align="left">Дата получения</td></tr><tr><td align="left">Type</td><td align="left">Date</td></tr><tr><td align="left">Объект</td><td align="left">Заявк</td></tr></tbody></table></div></li></ul></div><p>
        </p><p>
            Устанавливает следующие параметры SysConfig:
            </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>'Ticket::Responsible': Yes</p></li><li class="listitem"><p>
                        'Ticket::Frontend::AgentTicketZoom###ProcessWidgetDynamicFieldGroups':
                    </p><div class="informaltable"><table class="informaltable" border="1"><colgroup><col><col></colgroup><thead><tr><th align="left"><span class="emphasis"><em>Ключ:</em></span></th><th align="left"><span class="emphasis"><em>Содержание:</em></span></th></tr></thead><tbody><tr><td align="left">Книга</td><td align="left">Название, Автор, ISBN</td></tr><tr><td align="left">Общий</td><td align="left">Состояние</td></tr><tr><td align="left">Заказ</td><td align="left">Цена, Поставщик, Дада доставки</td></tr><tr><td align="left">Отгрузка</td><td align="left">DateOfReceipt</td></tr></tbody></table></div></li><li class="listitem"><p>
                        'Ticket::Frontend::AgentTicketZoom###ProcessWidgetDynamicField':
                    </p><div class="informaltable"><table class="informaltable" border="1"><colgroup><col><col></colgroup><thead><tr><th align="left"><span class="emphasis"><em>Ключ:</em></span></th><th align="left"><span class="emphasis"><em>Содержание:</em></span></th></tr></thead><tbody><tr><td align="left">Автор</td><td align="left">1</td></tr><tr><td align="left">DateOfReceipt</td><td align="left">1</td></tr><tr><td align="left">DeliveryDate</td><td align="left">1</td></tr><tr><td align="left">ISBN</td><td align="left">1</td></tr><tr><td align="left">Цена</td><td align="left">1</td></tr><tr><td align="left">Состояние</td><td align="left">1</td></tr><tr><td align="left">Поставщик</td><td align="left">1</td></tr><tr><td align="left">Название</td><td align="left">1</td></tr></tbody></table></div></li></ul></div><p>
        </p><p>
             Теперь давайте перейдем к описанию реального процесса. На следующем шаге мы
определим конкретные объекты, которые нам необходимы.
        </p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.7.3.4.15"></a>Процесс (в качестве контейнера)</h4></div></div></div><p>
                Для создания нового процесса необходимо перейти к пункту Управление
процессами на панели Администратора, после нажатия на который мы попадем на
экран Обзора процессов. После создания процесса мы получим возможность
создания всех его объектов (всех составляющих процесса).
            </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
                    Деятельности, Диалоги Активности, Переходы и Действия переходов определенные
в одном процессе будут доступны для всех процессов системы.
                </p></div><p>
                </p><div class="figure"><a name="id-1.7.3.4.15.4.1"></a><p class="title"><b>Figure 5.7. Страница Администратора OTRS - Администрирование системы</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/customization/pm-admin-sysadmin.png" alt="Страница Администратора OTRS - Администрирование системы"></div></div></div></div><p><br class="figure-break">
            </p><p>
                Нажмите на действие "Создать Новый Процесс" в окне Действий.
            </p><p>
                </p><div class="figure"><a name="id-1.7.3.4.15.6.1"></a><p class="title"><b>Figure 5.8. Создать Новую кнопку Процесса</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/customization/pm-newprocess-button.png" alt="Создать Новую кнопку Процесса"></div></div></div></div><p><br class="figure-break">
            </p><p>
                Заполняем информацию о процессе, указываем Название Процесса и его Описание,
а статус оставим со значением "inactive", пока не закончим все
задачи. Сохраняем процесс.
            </p><p>
                </p><div class="figure"><a name="id-1.7.3.4.15.8.1"></a><p class="title"><b>Figure 5.9. Добавить новый процесс</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/customization/pm-newprocess-info.png" alt="Добавить новый процесс"></div></div></div></div><p><br class="figure-break">
            </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.7.3.4.16"></a>Диалоги Действий</h4></div></div></div><p>
                    Кликните по имени процесса в окне Обзора процессов, затем в списке
"Доступные элементы процесса" нажмите на "Диалоги Активности" (это действие
распахнет список опций для диалогов активности и сожмет другие списки, к
нему не относящиеся, напоминает эффект гармошки), затем нажмите на "Создать
новый Диалог Активности".
                </p><p>
                    </p><div class="figure"><a name="id-1.7.3.4.16.3.1"></a><p class="title"><b>Figure 5.10. Кнопка создания нового Диалога Активности</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/customization/pm-accordion-new-activitydialog.png" alt="Кнопка создания нового Диалога Активности"></div></div></div></div><p><br class="figure-break">
                </p><p>
                    In the opened popup screen fill the "Activity dialog Name" as well as the
"Description (short)" fields, for this example we will leave all other
fields as the default, to assign fields to the Activity Dialog simple drag
the required field from the "Available Fields" pool and drop into the
"Assigned Fields" pool.  The order in the "Assigned Fields" pool is the
order as the fields will have in the screen, to modify the order simply drag
and drop the field within the pool to rearrange it in the correct place.
                </p><p>
                    </p><div class="figure"><a name="id-1.7.3.4.16.5.1"></a><p class="title"><b>Figure 5.11. Добавить новый Диалог Активности</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/customization/pm-edit-activitydialog.png" alt="Добавить новый Диалог Активности"></div></div></div></div><p><br class="figure-break">
                </p><p>
                    As soon as the fields are dropped into the "Assigned Fields" pool another
popup screen is shown with some details about the field, we will leave the
default options and only for Article fields we should make sure that the
CommunicationChannel field is set to "Internal" and that the
IsVisibleForCustomer is not active.
                </p><p>
                    </p><div class="figure"><a name="id-1.7.3.4.16.7.1"></a><p class="title"><b>Figure 5.12. Редактировать элементы поля (Article)</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/customization/pm-edit-field-article.png" alt="Редактировать элементы поля (Article)"></div></div></div></div><p><br class="figure-break">
                </p><p>
                    Если все поля привязаны, нажмите на кнопку отправить в главном всплывающем
окне чтобы изменения вступили в силу.
                </p><p>
                    В этом примере мы будем использовать поля типа Article для комментариев,
другой способ состоит в том, чтобы создать динамическое поле типа
TextArea. Оставшиеся из упомянутых полей в строках ниже это динамические
поля которые мы задали ранее.
                </p><p>
                    Обратите вниманиче что на этой странице все Динамические Поля имеют префикс
"DynamicField_" как в "DynamicField_Title", не путайте с полем "Title",
которое является заголовком/темой Заявки.
                </p><p>
                    Создать следующие Диалоги Активности:
                </p><p>
                </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>"Запись спроса" (AD1)</p><p>
                            Диалог Активности, который содержит все требуемые поля для хранения данных о
заказе (Название, Автор и ISBN) и поле Состояние/Status с возможностью
выбора "Утверждение".
                        </p></li><li class="listitem"><p>"Отказать" (AD2)</p><p>
                            Диалог Активности с полем комментария и полем статуса с опцией "Отказать".
                        </p></li><li class="listitem"><p>"Утвержден" (AD3)</p><p>
                             Здесь нам просто нужно поле статуса с опцией "Approved/Утверждено".
                        </p></li><li class="listitem"><p>"Заказ отменен" (AD4)</p><p>
                            An activity dialog which makes it possible for purchasing to reject an
impossible order (book out of stock). Here we also need a comment field and
the Status field with the option "Order denied".
                        </p></li><li class="listitem"><p>"Заказ размещен" (AD5)</p><p>
                            An activity dialog with the fields Supplier, Price and Delivery date for
purchasing and the Status field with the option "Order placed".
                        </p></li><li class="listitem"><p>"Поставка получена" (AD6)</p><p>
                            An activity for the mail room with a field for the Date of receipt and the
Status field with the option "Shipment received".
                        </p></li></ul></div><p>
                </p><p>
                    To restrict the Status field for each activity dialog we need to add some
ACLs in the <code class="filename">Kernel/Config.pm</code> or to a new Perl file
located in <code class="filename">Kernel/Config/Files</code>.
                </p><p>
                    </p><pre class="screen">
    $Self-&gt;{TicketAcl}-&gt;{'P1-AD1-1'} = {
        Properties =&gt; {
            Process =&gt; {
                ActivityDialogEntityID =&gt; ['AD1'],
            },
        },
        Possible =&gt; {
            Ticket =&gt; {
                DynamicField_Status =&gt; ['Approval'],
            },
        },
    };

    $Self-&gt;{TicketAcl}-&gt;{'P1-AD2-1'} = {
        Properties =&gt; {
            Process =&gt; {
                ActivityDialogEntityID =&gt; ['AD2'],
            },
        },
        Possible =&gt; {
            Ticket =&gt; {
                DynamicField_Status =&gt; ['Approval denied'],
            },
        },
    };

    $Self-&gt;{TicketAcl}-&gt;{'P1-AD3-1'} = {
        Properties =&gt; {
            Process =&gt; {
                ActivityDialogEntityID =&gt; ['AD3'],
            },
        },
        Possible =&gt; {
            Ticket =&gt; {
                DynamicField_Status =&gt; ['Approved'],
            },
        },
    };

    $Self-&gt;{TicketAcl}-&gt;{'P1-AD4-1'} = {
        Properties =&gt; {
            Process =&gt; {
                ActivityDialogEntityID =&gt; ['AD4'],
            },
        },
        Possible =&gt; {
            Ticket =&gt; {
                DynamicField_Status =&gt; ['Order denied'],
            },
        },
    };

    $Self-&gt;{TicketAcl}-&gt;{'P1-AD5-1'} = {
        Properties =&gt; {
            Process =&gt; {
                ActivityDialogEntityID =&gt; ['AD5'],
            },
        },
        Possible =&gt; {
            Ticket =&gt; {
                DynamicField_Status =&gt; ['Order placed'],
            },
        },
    };

    $Self-&gt;{TicketAcl}-&gt;{'P1-AD6-1'} = {
        Properties =&gt; {
            Process =&gt; {
                ActivityDialogEntityID =&gt; ['AD6'],
            },
        },
        Possible =&gt; {
            Ticket =&gt; {
                DynamicField_Status =&gt; ['Shipment received'],
            },
        },
    };
                    </pre><p>
                </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.7.3.4.17"></a>Переходы</h4></div></div></div><p>
                    В "Доступные Элементы Процесса" щелкните "Переходы", а затем кликните на
"Создать новый переход".
                </p><p>
                    </p><div class="figure"><a name="id-1.7.3.4.17.3.1"></a><p class="title"><b>Figure 5.13. Создать Новую кнопку Перехода</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/customization/pm-accordion-new-transition.png" alt="Создать Новую кнопку Перехода"></div></div></div></div><p><br class="figure-break">
                </p><p>
                    В открывшемся всплывающем окне заполните "Transition Name/Имя Перехода",
затем, в условиях, для этого примера мы будем использовать только одно
условие и только одно поле, для обоих мы оставим Type of Linking/Тип
связывания "and/И", а также будем использовать тип значения поля для
сравнения - "String".
                </p><p>
                    </p><div class="figure"><a name="id-1.7.3.4.17.5.1"></a><p class="title"><b>Figure 5.14. Добавить новый Переход</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/customization/pm-edit-transition.png" alt="Добавить новый Переход"></div></div></div></div><p><br class="figure-break">
                </p><p>
                    Когда все условия установлены, нажмите кнопку Отправить, чтобы сохнанить
изменения.
                </p><p>
                    Создать следующие Переходы:
                </p><p>
                </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>"Утверждение" (T1)</p><p>
                            Переход, который проверяет, установлен ли статус поля в "Approval".
                        </p></li><li class="listitem"><p>"Отказано в утверждении" (T2)</p><p>
                            Переход проверяющий установку статуса поля в значение "Approval denied".
                        </p></li><li class="listitem"><p>"Утвержден" (T3)</p><p>
                            Переход, проверяющий установку статуса поля в значение "Approved".
                        </p></li><li class="listitem"><p>"Заказ отменен" (T4)</p><p>
                            Переход проверяющий установку статуса поля в значение "Order denied".
                        </p></li><li class="listitem"><p>"Заказ размещен" (T5)</p><p>
                            Переход проверяющий установку статуса поля в значение "Order denied".
                        </p></li><li class="listitem"><p>"Поставка получена" (T6)</p><p>
                            Переход, который проверяет установлено ли поле статуса в значение "Shipment
received".
                        </p></li></ul></div><p>
                </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.7.3.4.18"></a>Действия Перехода</h4></div></div></div><p>
                    Кликните на "Действия Переходов " в меню "Доступные элементы процесса", а
затем кликните "Создать Новое Действие Перехода".
                </p><p>
                    </p><div class="figure"><a name="id-1.7.3.4.18.3.1"></a><p class="title"><b>Figure 5.15. Кнопка создания нового Действие Перехода</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/customization/pm-accordion-new-transitionaction.png" alt="Кнопка создания нового Действие Перехода"></div></div></div></div><p><br class="figure-break">
                </p><p>
                    In the opened popup screen fill the "Transition Action Name", and the
"Transition Action module" then add the required and optional parameter
names and values.
                </p><p>
                    All the Transition Action Modules are located in
<code class="filename">Kernel/System/ProcessManagement/TransitionAction</code> and
the following is the list of bundled Transition Actions included in this
release:
                </p><p>
                    </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>DynamicFieldSet</p></li><li class="listitem"><p>TicketArticleCreate</p></li><li class="listitem"><p>TicketCreate</p></li><li class="listitem"><p>TicketCustomerSet</p></li><li class="listitem"><p>TicketLockSet</p></li><li class="listitem"><p>TicketOwnerSet</p></li><li class="listitem"><p>TicketQueueSet</p></li><li class="listitem"><p>TicketResponsibleSet</p></li><li class="listitem"><p>TicketServiceSet</p></li><li class="listitem"><p>TicketSLASet</p></li><li class="listitem"><p>TicketStateSet</p></li><li class="listitem"><p>TicketTitleSet</p></li><li class="listitem"><p>TicketTypeSet</p></li></ul></div><p>
                </p><p>
                    Каждый модуль имеет свои собственные и другие параметры, пожалуйста
просмотрите документацию к этому модулю  <a class="link" href="process-management.html#available-transition-actions" title="Доступные Действия Перехода">module documentation</a>, чтобы
узнать все обязательные и опциональные параметры.
                </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
                        Начиная с OTRS 4.0.1, параметры теперь необязательно имеют фиксированные
значения, но, вместо этого, они могут наследовать их из оригинальной заявки
используя формат:  &lt;OTRS_Ticket_property&gt;.
                    </p><p>
                        Начиная с версии OTRS 4.0.6, поддерживается формат
&lt;OTRS_TICKET_property&gt;, старый формат тоже может использоваться, но не
рекомендуется, так как будет отменен в будущих версиях.
                    </p></div><p>
                    </p><div class="figure"><a name="id-1.7.3.4.18.9.1"></a><p class="title"><b>Figure 5.16. Добавить новый Переход</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/customization/pm-edit-transitionaction.png" alt="Добавить новый Переход"></div></div></div></div><p><br class="figure-break">
                </p><p>
                    Как только все параметры и значения установлены, нажмите кнопку отправить
чтобы изменения вступили в силу.
                </p><p>
                    Создать следующие Переходы:
                </p><p>
                </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>"Переместить обработку Заявки в очередь 'Менеджмент' " (TA1)</p><p>
                            This action is supposed to be executed when the Transition "Approval" (T1)
applied.
                        </p></li><li class="listitem"><p>"Изменяет ответственного за заявку на 'manager'" (TA2)</p><p>
                            Будет выполнено когд применен Переход "Approval" (T1).
                        </p></li><li class="listitem"><p>"Перемещает процесс обработки заявки в очередь 'Employees'" (TA3)</p><p>Будет выполнено когда:</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>
                                Применение Перехода "Отказано в утверждении" (T2)
                            </p></li><li class="listitem"><p>
                                Применение Перехода "Order denied" (T4)
                            </p></li><li class="listitem"><p>
                                Применение Перехода "Поставка получена" (T6)
                            </p></li></ul></div></li><li class="listitem"><p>"Изменить ответственного за заявку на 'Employee'" (TA4)</p><p>Будет выполнено когда:</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>
                                Применение Перехода "Отказано в утверждении" (T2)
                            </p></li><li class="listitem"><p>
                                Применение Перехода "Order denied" (T4)
                            </p></li><li class="listitem"><p>
                                Применение Перехода "Поставка получена" (T6)
                            </p></li></ul></div></li><li class="listitem"><p>"Перемещает обработку Заявки в очередь 'Purchasing' " (TA5)</p><p>Будет выполнено когда применен Переход "Утверждено" (T3).</p></li><li class="listitem"><p>"Перемесить процессную заявку в очередь "Post office" " (TA6)</p><p>Будет выполнено когда применен Переход "Заказ размещен" (T5).</p></li><li class="listitem"><p>"Закрыть Заявку со статусом успешно" (TA7)</p><p>Будет выполнено когда:</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>
                                Применен переход "Поставка получена" (T6)
                            </p></li></ul></div></li><li class="listitem"><p>"Закрыть заявку со статусом не успешно" (TA8)</p><p>Будет выполнено когда:</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>
                                Применение Перехода "Отказано в утверждении" (T2)
                            </p></li><li class="listitem"><p>
                                Применение Перехода "Order denied" (T4)
                            </p></li></ul></div></li></ul></div><p>
                </p><p>
                    Как можно видеть, есть места, где одинаковые Transition Actions/Действия
Перехода будут выполняться. Таким образом было бы логично сделать возможным
связывать Transition Actions свободно с Transitions/Переходами, для их
повторного использования.
                </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.7.3.4.19"></a>Деятельность</h4></div></div></div><p>
                Мы выбрали такой подход чтобы рассматривать Деятельности в качестве корзины,
которая может хранить однин или больше Диалогов Деятельности. Нам нужны эти
действия в нашем примере:
            </p><p>
                Кликните на "Деятельности" в меню "Доступные Элементы Процесса", а затем
кликните на "Создать новую Деятельность".
            </p><p>
                </p><div class="figure"><a name="id-1.7.3.4.19.4.1"></a><p class="title"><b>Figure 5.17. Создать Новую кнопку Деятельности</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/customization/pm-accordion-new-activity.png" alt="Создать Новую кнопку Деятельности"></div></div></div></div><p><br class="figure-break">
            </p><p>
                In the opened popup screen fill the "Activity Name", then drag the required
Activity Dialogs from the "Available Activity Dialogs" pool, and drop them
into to the "Assigned Activity Dialogs" pool. This dialogs will be presented
(in the ticket zoom screen) in the same order as it is defined on this
screen translating from top to bottom, from left to right.
            </p><p>
                This order is specially important in the first Activity, since the first
Activity Dialog for this activity is the only one that is presented when the
process starts.
            </p><p>
                Создать следующие Деятельности:
            </p><p>
                </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>"Recording the demand/Запись запроса" (A1) </p><p>Содержит Activity Dialog/Диалог Активности "Recording the demandЗапись
запроса" (AD1)</p></li><li class="listitem"><p>"Approval/Утверждение" (A2)</p><p>
                            Содержит Диалоги Активности "Отказано в одобрении" (AD2) а также "Утвержден"
(AD3)
                        </p></li><li class="listitem"><p>"Заказ" (A3)</p><p>
                            Содержит Диалоги Активности "Заказ отклонен" (AD4) а также "Заказ размещен"
(AD5)
                        </p></li><li class="listitem"><p>"Входящие" (A4)</p><p>Содержит Activity Dialog/Диалог Активности "Shipment received/Посылка
получена" (AD6)</p></li><li class="listitem"><p>"Process complete/Процесс завершен" (A5): Это Activity/Действие без
возможных Activity Dialogs/Диалогов Активности. Оно должно быть вставлено
после  "Approval denied/Не утверждено", "Order denied/Заказ отвергнут" или
"Shipment received/Посылка получена" и указывает на окончание процесса.
                        </p></li></ul></div><p>
            </p><p>
                Теперь мы можем видеть, что Деятельность точно определяет сосотояние
процесса Заявки. После успешного Перехода Заявка перемещается из одного вида
деятельности в другой.
            </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.7.3.4.20"></a>Схема процесса заказа книги</h4></div></div></div><p>
                Let us conclude our example with the last missing piece in the puzzle, the
Process as the a flow describer. In our case this is the whole ordering
work-flow. Other processes could be office supply ordering or completely
different processes.
            </p><p>
                Процесс имеет начальную точку, состоящую из стартового Activity/Действия и
стартового Activity Dialog/Диалога активности. Для любого нового заказа
книги, начальный Activity Dialog/Диалог активности (первый диалог для
первого Действия) является первым отображаемым экраном. Если он завершен и
сохранен, будет создаваться новая процессная заявка, которая далее будет
выполняться в соответствии с заданным потоком работ/work-flow.
            </p><p>
                Процесс также содержит указания, как процессная заявка будет продвигаться
внутри Процесса. Назовем это "Path/Схема". Она состоит из начального
Activity/Действия, одного или более Transitions/Переходов (возможно, с
Transition Actions/Действиями переходов) и других Activities/Действий.
            </p><p>
                Предполагая, что эти Активности/Activities уже назначены их
Диалогам/Activity Dialogs, перетащите Активность из "гармошки" (в левой
части экрана) и поместите на область схемы (ниже информации о
процессе). Заметьте, что стрелка от начала процесса (зеленый кружок) к
Активности будет проложена автоматически. (Это первая Активность и ее первый
Диалог будет первым экраном, который будет показан при старте Процесса).
            </p><p>
                </p><div class="figure"><a name="id-1.7.3.4.20.6.1"></a><p class="title"><b>Figure 5.18. Перетащите первую Активность на полотно схемы.</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/customization/pm-canvas-drag-activity.png" alt="Перетащите первую Активность на полотно схемы."></div></div></div></div><p><br class="figure-break">
            </p><p>
                Next, drag another Activity into the canvas too. Now we will have two
Activities in the canvas. The first one is connected to the start point and
the second has no connections. You can hover the mouse over each activity to
reveal their own Activity Dialogs.
            </p><p>
                </p><div class="figure"><a name="id-1.7.3.4.20.8.1"></a><p class="title"><b>Figure 5.19. Перетащите вторую Активность на полотно схемы.</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/customization/pm-canvas-drag-activity2.png" alt="Перетащите вторую Активность на полотно схемы."></div></div></div></div><p><br class="figure-break">
            </p><p>
                Then let's create the "Path" (connection) between this two Activities, for
this we will use the Transitions. Click on Transitions in the accordion drag
a Transition and drop it inside the first Activity. Notice that the Activity
changes its color indicating that the Transition is attached. As soon as the
Transition is dropped the end point of the Transition arrow will be placed
next to the process start point. Drag the Transition arrow end point and
drop it inside the other Activity to create the connection between the
Activities.
            </p><p>
                </p><div class="figure"><a name="id-1.7.3.4.20.10.1"></a><p class="title"><b>Figure 5.20. Перетащите Transition/Переход на полотно схемы.</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/customization/pm-canvas-drag-transition.png" alt="Перетащите Transition/Переход на полотно схемы."></div></div></div></div><p><br class="figure-break">
            </p><p>
                Теперь, когда "Path/Последовательность" Действий задана - необходимо
назначить Действия Переходов/Transition Actions для
Переходов/Transition. Двойной щелчок по имени Перехода (на схеме) откроет
новое дополнительное окно.
            </p><p>
                </p><div class="figure"><a name="id-1.7.3.4.20.12.1"></a><p class="title"><b>Figure 5.21. Связать Активности используя Переходы</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/customization/pm-canvas-drag-transition2.png" alt="Связать Активности используя Переходы"></div></div></div></div><p><br class="figure-break">
            </p><p>
                Захватите мышью требуемые Активности Перехода из списка Доступных
Активностей Перехода и перетащите в список Назначенных Активностей Перехода
и затем нажмите кнопку Отправить.
            </p><p>
                </p><div class="figure"><a name="id-1.7.3.4.20.14.1"></a><p class="title"><b>Figure 5.22. Назначить Действия Перехода</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/customization/pm-edit-path.png" alt="Назначить Действия Перехода"></div></div></div></div><p><br class="figure-break">
            </p><p>
                Затем, вернитесь к главному окну редактирования Процесса и нажмите кнопку
Сохранить под схемой и сохраните все сделанные изменения.
            </p><p>
                Complete the "path" adding the following Activities, Transitions and
Transition Actions:
            </p><p>Запись спроса до значения "Approval"</p><p>
                </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Начальная точка: Activity: Запись запроса  (A1)</p></li><li class="listitem"><p>Возможный Переход: Утверждение (T1)</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>
                                    Если условие этой Активности выполнено, заявка будет перемещена к Activity:
Утверждение (A2)
                                </p></li><li class="listitem"><p>
                                    Кроме того выполнится следующее TransitionActions/Действия Перехода:
                                </p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem"><p>
                                            "Переместить обработку Заявки в очередь 'Менеджмент' " (TA1)
                                        </p></li><li class="listitem"><p>"Изменяет ответственного за заявку на 'manager'" (TA2)</p></li></ul></div></li></ul></div></li></ul></div><p>
            </p><p>
                The Activity: "Recording the demand" (A1) is a defined step of the process
ticket, where there is the possibility for the Transition: "Approval"
(T1). If this applies, the ticket will move to the next Activity: "Approval"
(A2), and the Transition Actions: "Move the process ticket into the
'Management' queue" (TA1) and "Change ticket responsible to 'manager'" (TA2)
are executed. In the Activity: "Approval" (A2), the Activity Dialogs:
"Approval denied" (AD2) and "Approved" (AD3) are available.
            </p><p>Утверждение</p><p>
                </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Начальная точка: Activity/Активность "Approval/Утверждение" (A2)</p></li><li class="listitem"><p>Возможные Транзакции:</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>"Отказано в утверждении" (T2)</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem"><p>
                                            Если верно, процесс заявки перейдет к Activity: "Процесс завершен" (A5).
                                        </p></li><li class="listitem"><p>
                                            Кроме того выполнится следующее TransitionActions/Действия Перехода:
                                        </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                                                "Перемещает процесс обработки заявки в очередь 'Employees'" (TA3)
                                            </p></li><li class="listitem"><p>
                                                "Изменить ответственного за заявку на 'Employee'" (TA4)
                                             </p></li><li class="listitem"><p>
                                                "Закрыть заявку со статусом не успешно" (TA8)
                                             </p></li></ul></div></li></ul></div></li><li class="listitem"><p>"Утвержден" (T3)</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem"><p>
                                            Если верно, процессная заявка перейдет к Activity/Действию: "Order/Заказ"
(A3).
                                        </p></li><li class="listitem"><p>
                                                Дополнительно, следующие Transition Action/Действия Перехода будут
выполнены:
                                            </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                                                    "Перемещает обработку Заявки в очередь 'Purchasing' " (TA5)
                                                </p></li></ul></div></li></ul></div></li></ul></div></li></ul></div><p>
            </p><p>
                Можно видеть, что текущая Activity/Активность, которая определяет шаг
процессной заявки имеет одну или более возможностей для Transition/Перехода,
который, в свою очередь, имеет одну единственную целевую Activity/Активность
(и, возможно, одно или более Transition Actions/Действие Перехода).
            </p><p>Заказ</p><p>
                </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Начальная точка: Activity/Активность "Order/Заказ" (A3)</p></li><li class="listitem"><p>Возможные Транзакции:</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>"Заказ отменен" (T4)</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem"><p>
                                            Если верно, процесс заявки перейдет к Activity: "Процесс завершен" (A5).
                                        </p></li><li class="listitem"><p>
                                            Кроме того выполнится следующее TransitionActions/Действия Перехода:
                                        </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                                                "Перемещает процесс обработки заявки в очередь 'Employees'" (TA3)
                                            </p></li><li class="listitem"><p>
                                                "Установить ответственного за заявку в 'Employee'" (TA4)
                                             </p></li><li class="listitem"><p>
                                                "Закрыть заявку со статусом не успешно" (TA8)
                                             </p></li></ul></div></li></ul></div></li><li class="listitem"><p>"Заказ размещен" (T5)</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem"><p>
                                            Если верно, процесс заявки перейдет к Activity: "Поступление" (A4).
                                        </p></li><li class="listitem"><p>
                                                Дополнительно, следующие Transition Action/Действия Перехода будут
выполнены:
                                            </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                                                    "Перемесить процессную заявку в очередь "Post office" " (TA6)
                                                </p></li></ul></div></li></ul></div></li></ul></div></li></ul></div><p>
            </p><p>Входящие</p><p>
                </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Начальная точка: Activity/Действие: "Incoming/Поступление" (A4).</p></li><li class="listitem"><p>Возможные Транзакции:</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>"Поставка получена" (T6)</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem"><p>
                                            Если верно, процесс заявки перейдет к Activity: "Процесс завершен" (A5).
                                        </p></li><li class="listitem"><p>
                                            Кроме того выполнится следующее TransitionActions/Действия Перехода:
                                        </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                                                "Перемещает процесс обработки заявки в очередь 'Employees'" (TA3)
                                            </p></li><li class="listitem"><p>
                                                "Установить ответственного за заявку в 'Employee'" (TA4)
                                             </p></li><li class="listitem"><p>
                                                "Закрыть Заявку со статусом успешно" (TA7)
                                             </p></li></ul></div></li></ul></div></li></ul></div></li></ul></div><p>
            </p><p>
                Полный путь к Процессу покупкпи книги будет иметь следующий вид:
            </p><p>
                </p><div class="figure"><a name="id-1.7.3.4.20.28.1"></a><p class="title"><b>Figure 5.23. Законченная/полная схема процесса заказа книги.</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/customization/pm-edit-process.png" alt="Законченная/полная схема процесса заказа книги."></div></div></div></div><p><br class="figure-break">
            </p><p>
                After you finish the process path please click on "Save" button in the lower
part of the canvas and then click on "Synchronize All Processes"
button. This will gather all processes information form the Database and
create a cache file (in Perl language). This cache file is actually the
processes configuration that the system will use to create or use process
tickets.
            </p><p>
                Все изменения сделанные в Процессе (в интерфейсе админа) потребуют
пересинхронизации файла кэша, чтобы изменения были отражены в системе.
            </p><p>
                Также, возможно импортировать процесс целиком из YAML файла, но обязательно
до этого создать все динамические поля, пользователей, очереди и
пр. необходимые для каждого процесса.
            </p><p>
                Обратите внимание, что если процесс требует использования ACL, они также
должны быть созданы вручную.
            </p><p>
                Ниже приведен полный текст YAML файла для процесса заказа книги из примера:
            </p><p>
                </p><pre class="screen">
---
Activities:
  A1:
    ActivityDialogs:
      - AD1
    ChangeTime: 2012-11-23 14:49:22
    Config:
      ActivityDialog:
        1: AD1
    CreateTime: 2012-11-23 11:49:38
    EntityID: A1
    ID: 151
    Name: Recording the demand
  A2:
    ActivityDialogs:
      - AD2
      - AD3
    ChangeTime: 2012-12-13 00:55:12
    Config:
      ActivityDialog:
        1: AD2
        2: AD3
    CreateTime: 2012-11-23 11:50:11
    EntityID: A2
    ID: 152
    Name: Approval
  A3:
    ActivityDialogs:
      - AD4
      - AD5
    ChangeTime: 2012-11-23 18:12:14
    Config:
      ActivityDialog:
        1: AD4
        2: AD5
    CreateTime: 2012-11-23 11:50:35
    EntityID: A3
    ID: 153
    Name: Order
  A4:
    ActivityDialogs:
      - AD6
    ChangeTime: 2012-11-23 18:12:35
    Config:
      ActivityDialog:
        1: AD6
    CreateTime: 2012-11-23 11:51:00
    EntityID: A4
    ID: 154
    Name: Incoming
  A5:
    ActivityDialogs: []
    ChangeTime: 2012-11-23 11:51:33
    Config: {}
    CreateTime: 2012-11-23 11:51:33
    EntityID: A5
    ID: 155
    Name: Process complete
ActivityDialogs:
  AD1:
    ChangeTime: 2012-12-06 02:16:21
    Config:
      DescriptionLong: ''
      DescriptionShort: Recoding the demand
      FieldOrder:
        - DynamicField_Author
        - DynamicField_ISBN
        - DynamicField_Title
        - DynamicField_Status
      Fields:
        DynamicField_Author:
          DefaultValue: ''
          DescriptionLong: ''
          DescriptionShort: ''
          Display: 1
        DynamicField_ISBN:
          DefaultValue: ''
          DescriptionLong: ''
          DescriptionShort: ''
          Display: 1
        DynamicField_Status:
          DefaultValue: ''
          DescriptionLong: ''
          DescriptionShort: ''
          Display: 1
        DynamicField_Title:
          DefaultValue: ''
          DescriptionLong: ''
          DescriptionShort: ''
          Display: 1
      Interface:
        - AgentInterface
      Permission: ''
      RequiredLock: 0
      SubmitAdviceText: ''
      SubmitButtonText: ''
    CreateTime: 2012-11-23 14:34:43
    EntityID: AD1
    ID: 154
    Name: Recording the demand
  AD2:
    ChangeTime: 2012-11-23 14:57:41
    Config:
      DescriptionLong: ''
      DescriptionShort: Approval denied
      FieldOrder:
        - Article
        - DynamicField_Status
      Fields:
        Article:
          Config:
            CommunicationChannel:  'Internal'
            IsVisibleForCustomer: '0'
          DefaultValue: ''
          DescriptionLong: ''
          DescriptionShort: ''
          Display: 1
        DynamicField_Status:
          DefaultValue: ''
          DescriptionLong: ''
          DescriptionShort: ''
          Display: 1
      Interface:
        - AgentInterface
      Permission: ''
      RequiredLock: 0
      SubmitAdviceText: ''
      SubmitButtonText: Deny Request
    CreateTime: 2012-11-23 14:36:39
    EntityID: AD2
    ID: 155
    Name: Approval denied
  AD3:
    ChangeTime: 2012-12-14 03:14:23
    Config:
      DescriptionLong: ''
      DescriptionShort: Approved
      FieldOrder:
        - DynamicField_Status
      Fields:
        DynamicField_Status:
          DefaultValue: ''
          DescriptionLong: ''
          DescriptionShort: ''
          Display: 1
      Interface:
        - AgentInterface
      Permission: ''
      RequiredLock: 0
      SubmitAdviceText: ''
      SubmitButtonText: Approve Request
    CreateTime: 2012-11-23 14:37:35
    EntityID: AD3
    ID: 156
    Name: Approved
  AD4:
    ChangeTime: 2012-11-23 14:58:52
    Config:
      DescriptionLong: ''
      DescriptionShort: Order rejected
      FieldOrder:
        - Article
        - DynamicField_Status
      Fields:
        Article:
          Config:
            CommunicationChannel:  'Internal'
            IsVisibleForCustomer: '0'
          DefaultValue: ''
          DescriptionLong: ''
          DescriptionShort: ''
          Display: 1
        DynamicField_Status:
          DefaultValue: ''
          DescriptionLong: ''
          DescriptionShort: ''
          Display: 1
      Interface:
        - AgentInterface
      Permission: ''
      RequiredLock: 0
      SubmitAdviceText: ''
      SubmitButtonText: Reject Order
    CreateTime: 2012-11-23 14:38:48
    EntityID: AD4
    ID: 157
    Name: Order rejected
  AD5:
    ChangeTime: 2012-12-06 02:20:12
    Config:
      DescriptionLong: ''
      DescriptionShort: Order placed
      FieldOrder:
        - DynamicField_DeliveryDate
        - DynamicField_Price
        - DynamicField_Supplier
        - DynamicField_Status
      Fields:
        DynamicField_DeliveryDate:
          DefaultValue: ''
          DescriptionLong: ''
          DescriptionShort: ''
          Display: 1
        DynamicField_Price:
          DefaultValue: ''
          DescriptionLong: ''
          DescriptionShort: ''
          Display: 1
        DynamicField_Status:
          DefaultValue: ''
          DescriptionLong: ''
          DescriptionShort: ''
          Display: 1
        DynamicField_Supplier:
          DefaultValue: ''
          DescriptionLong: ''
          DescriptionShort: ''
          Display: 1
      Interface:
        - AgentInterface
      Permission: ''
      RequiredLock: 0
      SubmitAdviceText: ''
      SubmitButtonText: Place Order
    CreateTime: 2012-11-23 14:41:28
    EntityID: AD5
    ID: 158
    Name: Order placed
  AD6:
    ChangeTime: 2012-11-23 14:42:43
    Config:
      DescriptionLong: ''
      DescriptionShort: Shipment received
      FieldOrder:
        - DynamicField_DateOfReceipt
        - DynamicField_Status
      Fields:
        DynamicField_DateOfReceipt:
          DefaultValue: ''
          DescriptionLong: ''
          DescriptionShort: ''
          Display: 1
        DynamicField_Status:
          DefaultValue: ''
          DescriptionLong: ''
          DescriptionShort: ''
          Display: 1
      Interface:
        - AgentInterface
      Permission: ''
      RequiredLock: 0
      SubmitAdviceText: ''
      SubmitButtonText: ''
    CreateTime: 2012-11-23 14:42:43
    EntityID: AD6
    ID: 159
    Name: Shipment received
Process:
  Activities:
    - A1
    - A2
    - A3
    - A4
    - A5
  ChangeTime: 2012-12-06 02:31:59
  Config:
    Description: The process to order a book
    Path:
      A1:
        T1:
          ActivityEntityID: A2
          TransitionAction:
            - TA2
            - TA1
      A2:
        T2:
          ActivityEntityID: A5
          TransitionAction:
            - TA3
            - TA4
            - TA8
        T3:
          ActivityEntityID: A3
          TransitionAction:
            - TA5
      A3:
        T4:
          ActivityEntityID: A5
          TransitionAction:
            - TA3
            - TA4
            - TA8
        T5:
          ActivityEntityID: A4
          TransitionAction:
            - TA6
      A4:
        T6:
          ActivityEntityID: A5
          TransitionAction:
            - TA3
            - TA4
            - TA7
      A5: {}
    StartActivity: A1
    StartActivityDialog: AD1
  CreateTime: 2012-11-23 11:45:12
  EntityID: P1
  ID: 94
  Layout:
    A1:
      left: 172
      top: 63
    A2:
      left: 402
      top: 156
    A3:
      left: 649
      top: 255
    A4:
      left: 774
      top: 391
    A5:
      left: 194
      top: 410
  Name: Book ordering
  State: Active
  StateEntityID: S1
  TransitionActions:
    - TA1
    - TA2
    - TA3
    - TA4
    - TA8
    - TA5
    - TA3
    - TA4
    - TA8
    - TA6
    - TA3
    - TA4
    - TA7
  Transitions:
    - T1
    - T2
    - T3
    - T4
    - T5
    - T6
TransitionActions:
  TA1:
    ChangeTime: 2012-11-23 16:01:37
    Config:
      Config:
        Queue: Management
      Module: Kernel::System::ProcessManagement::TransitionAction::TicketQueueSet
    CreateTime: 2012-11-23 15:50:59
    EntityID: TA1
    ID: 61
    Name: Move the process ticket into the "Management" queue
  TA2:
    ChangeTime: 2012-11-23 16:02:12
    Config:
      Config:
        Responsible: manager
      Module: Kernel::System::ProcessManagement::TransitionAction::TicketResponsibleSet
    CreateTime: 2012-11-23 15:58:22
    EntityID: TA2
    ID: 62
    Name: Change ticket responsible to "manager"
  TA3:
    ChangeTime: 2012-11-24 14:27:02
    Config:
      Config:
        Queue: Employees
      Module: Kernel::System::ProcessManagement::TransitionAction::TicketQueueSet
    CreateTime: 2012-11-23 16:02:54
    EntityID: TA3
    ID: 63
    Name: Move the process ticket into the "Employees" queue
  TA4:
    ChangeTime: 2012-11-23 16:04:06
    Config:
      Config:
        Responsible: Employee
      Module: Kernel::System::ProcessManagement::TransitionAction::TicketResponsibleSet
    CreateTime: 2012-11-23 16:04:06
    EntityID: TA4
    ID: 64
    Name: Change ticket responsible to "Employee"
  TA5:
    ChangeTime: 2012-12-06 02:18:34
    Config:
      Config:
        Queue: Purchasing
      Module: Kernel::System::ProcessManagement::TransitionAction::TicketQueueSet
    CreateTime: 2012-11-23 16:04:54
    EntityID: TA5
    ID: 65
    Name: Move process ticket into the "Purchasing" queue
  TA6:
    ChangeTime: 2012-12-06 02:18:48
    Config:
      Config:
        Queue: Post office
      Module: Kernel::System::ProcessManagement::TransitionAction::TicketQueueSet
    CreateTime: 2012-11-23 16:06:20
    EntityID: TA6
    ID: 66
    Name: Move process ticket into the "Post office" queue
  TA7:
    ChangeTime: 2012-12-06 02:29:55
    Config:
      Config:
        State: closed successful
      Module: Kernel::System::ProcessManagement::TransitionAction::TicketStateSet
    CreateTime: 2012-12-06 02:29:27
    EntityID: TA7
    ID: 67
    Name: Close ticket successfully
  TA8:
    ChangeTime: 2012-12-06 02:31:12
    Config:
      Config:
        State: closed unsuccessful
      Module: Kernel::System::ProcessManagement::TransitionAction::TicketStateSet
    CreateTime: 2012-12-06 02:31:12
    EntityID: TA8
    ID: 68
    Name: Close ticket unsuccessfully
Transitions:
  T1:
    ChangeTime: 2012-11-23 15:12:20
    Config:
      Condition:
        1:
          Fields:
            DynamicField_Status:
              Match: Approval
              Type: String
          Type: and
      ConditionLinking: and
    CreateTime: 2012-11-23 11:53:52
    EntityID: T1
    ID: 94
    Name: Approval
  T2:
    ChangeTime: 2012-11-23 15:12:50
    Config:
      Condition:
        1:
          Fields:
            DynamicField_Status:
              Match: Approval denied
              Type: String
          Type: and
      ConditionLinking: and
    CreateTime: 2012-11-23 11:54:26
    EntityID: T2
    ID: 95
    Name: Approval denied
  T3:
    ChangeTime: 2012-11-23 15:13:29
    Config:
      Condition:
        1:
          Fields:
            DynamicField_Status:
              Match: Approved
              Type: String
          Type: and
      ConditionLinking: and
    CreateTime: 2012-11-23 11:54:54
    EntityID: T3
    ID: 96
    Name: Approved
  T4:
    ChangeTime: 2012-11-23 15:14:08
    Config:
      Condition:
        1:
          Fields:
            DynamicField_Status:
              Match: Order denied
              Type: String
          Type: and
      ConditionLinking: and
    CreateTime: 2012-11-23 11:55:25
    EntityID: T4
    ID: 97
    Name: Order denied
  T5:
    ChangeTime: 2012-11-23 18:30:33
    Config:
      Condition:
        1:
          Fields:
            DynamicField_Status:
              Match: Order placed
              Type: String
          Type: and
      ConditionLinking: and
    CreateTime: 2012-11-23 11:56:15
    EntityID: T5
    ID: 98
    Name: Order placed
  T6:
    ChangeTime: 2012-11-23 15:15:30
    Config:
      Condition:
        1:
          Fields:
            DynamicField_Status:
              Match: Shipment received
              Type: String
          Type: and
      ConditionLinking: and
    CreateTime: 2012-11-23 11:56:48
    EntityID: T6
    ID: 99
    Name: Shipment received

                </pre><p>
            </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="id-1.7.3.5"></a>Эталонная последовательность настройки процесса</h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.7.3.5.2"></a>Процесс</h4></div></div></div><p>
                Процесс моделирует путь прохождения задач процесса. Путевыми точками на этом
пути могут быть Активности или Переходы, мы расскажем об этом позже.
            </p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.2.3"></a>Настройка Процесса</h5></div></div></div><p>
                    The Process configuration can be done in the file
<code class="filename">Kernel/Config.pm</code> but it is strongly recommended to
create new files like
<code class="filename">Kernel/Config/Files/MyProcess.pm</code>. Notice that the GUI
generates the file
<code class="filename">Kernel/Config/File/ZZZProcessManagement</code> please avoid to
use that filename, otherwise it will be overwritten when you sync
processes.  Let's see an example process configuration (from process cache
file):
                </p><p>
                    </p><pre class="screen">
$Self-&gt;{'Process'} = {
    'P1' =&gt; {
        Name                =&gt; 'Book order',
        CreateTime          =&gt; '16-02-2012 13:37:00',
        CreateBy            =&gt; '1',
        ChangeTime          =&gt; '17-02-2012 13:37:00',
        ChangeBy            =&gt; '1',
        State               =&gt; 'Active',
        StartActivity       =&gt; 'A1',
        StartActivityDialog =&gt; 'AD1',
        Path =&gt; {
            'A1' =&gt; {
                'T1' =&gt; {
                    ActivityEntityID =&gt; 'A2',
                },
            },
            'A2' =&gt; {
                'T2' =&gt;  {
                    ActivityEntityID =&gt; 'A3',
                },
            },
        },
    },
    'P2' =&gt; {
        Name                =&gt; 'IT order',
        CreateTime          =&gt; '26-02-2012 13:37:00',
        CreateBy            =&gt; '1',
        ChangeTime          =&gt; '27-02-2012 13:37:00',
        ChangeBy            =&gt; '1',
        State               =&gt; 'Active',
        StartActivity       =&gt; 'A2',
        StartActivityDialog =&gt; 'AD2',
        Path =&gt; {
            'A2' =&gt; {
                'T3' =&gt; {
                    ActivityEntityID =&gt; 'A4',
                },
            },
        },
    }
};
                    </pre><p>
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.2.4"></a>Название</h5></div></div></div><p>
                    Имя Процесса, оно может быть выбрано агентом при создании новой процессной
заявки.
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.2.5"></a>CreateTime</h5></div></div></div><p>
                    Время, когда процесс был создан.
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.2.6"></a>CreateBy</h5></div></div></div><p>
                    UID пользователя, создавшего этот Процесс
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.2.7"></a>ChangeTime</h5></div></div></div><p>
                    Время, когда процесс был изменен.
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.2.8"></a>ChangeBy</h5></div></div></div><p>
                    UID пользователя, который вносил последние изменения в процесс.
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.2.9"></a>State</h5></div></div></div><p>
                    Задает состояние процесса. Возможные значения:
                    </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                                'Active' / Активный - все процессы, которые могут быть использованы в новых
процессных заявках.
                            </p></li><li class="listitem"><p>
                                'FadeAway' / Исчезающие - это процессы, которые нельзя выбрать более для
новых заявок, но существующие заявки могут продолжать их использовать.
                            </p></li><li class="listitem"><p>
                                'Inactive' / Неактивные - деактивированные процессы. Они не могут быть более
использованы ни в новых, ни в существующих заявках.
                            </p></li></ul></div><p>
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.2.10"></a>StartActivity</h5></div></div></div><p>
                    При создании новой процессной заявки, StartActivity / Начальная Активность
должна быть задана.Как только заявка будет создана, эта Активность будет
инициирована и использована как начальная точка для первых проверок
переходов.
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.2.11"></a>StartActivityDialog</h5></div></div></div><p>
                    Для новой процессной заявки должен быть задан StartActivityDialog/Начальный
Диалог Активности. Он будет показан при создании новой процессной заявки
(после выбора процесс). В этот момент заявка еще не существует, она будет
создана после выполнения StartActivityDialog.
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.2.12"></a>Путь</h5></div></div></div><p>
                    Схема отображает структуру Активностей и возможных Переходов между ними для
текущего процесса. А также Действия Переходов/Transition Actions возможные
при переходах. Она показывает пути выполнения процессной заявки. Например:
                </p><p>
                    </p><pre class="screen">
'A1' =&gt; {
    'T1' =&gt; {
        ActivityEntityID =&gt; 'A2',
    },
    'T2' =&gt; {
        ActivityEntityID =&gt; 'A3',
    },
    'T3' =&gt; {
        ActivityEntityID =&gt; 'A4',
        TransitionAction =&gt; ['TA1', 'TA2'],
    },
},
                    </pre><p>
                </p><p>
                    If a process ticket is in Activity <code class="literal">A1</code>, it has three
possible ways to get to another Activity. In the Transitions
<code class="literal">T1</code> to <code class="literal">T3</code>, conditions are defined, that
a process ticket must fulfill to move (transit) to another Activity.
                </p><p>
                    If in this case all the values of the process ticket and its dynamic fields
that are needed for the Transition <code class="literal">T2</code> are correct, the
ticket will be moved from Activity <code class="literal">A1</code> to
<code class="literal">A3</code>. After an ActivityDialog is submitted, or any other
change is made to a ticket, it will be checked for possible Transitions from
the current Activity. If multiple Transitions are possible, the first one
will be used (based on numerical sorting of the TransitionIDs).
                </p><p>
                    Дополнительно, имеется возможность назначить Действия Переходов при
конфигурации Процесса. Это модули, которые будут выполняться после успешного
Перехода. Они должны быть заданы в виде массива/таблицы, как в примере,
подробности этого мы обсудим позже.
                </p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.7.3.5.3"></a>Активность</h4></div></div></div><p>
                An Activity contains one or more Activity Dialogs and models a
<code class="literal">step</code> in the process. All Activity Dialogs of the current
Activity are displayed in the ticket zoom and can be used until the
conditions of a Transition are fulfilled.
            </p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.3.3"></a>Настройка Активности</h5></div></div></div><p>
                Давайте рассмотрим пример конфигурации активности:
            </p><p>
                </p><pre class="screen">
$Self-&gt;{'Process::Activity'} =
{
    'A1' =&gt; {
        Name       =&gt; 'Activity 1 optional',
        CreateTime =&gt; '16-02-2012 13:37:00',
        CreateBy   =&gt; '1',
        ChangeTime =&gt; '17-02-2012 13:37:00',
        ChangeBy   =&gt; '1',
        ActivityDialog =&gt; {
            1 =&gt; 'AD1',
        },
    },
    'A2' =&gt; {
        Name       =&gt; 'Activity 2 optional',
        CreateTime =&gt; '16-02-2012 13:37:00',
        CreateBy   =&gt; '1',
        ChangeTime =&gt; '17-02-2012 13:37:00',
        ChangeBy   =&gt; '1',
        ActivityDialog =&gt; {
            1 =&gt; 'AD5',
            2 =&gt; 'AD6',
            3 =&gt; 'AD1',
        },
    },
};
                </pre><p>
            </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.3.4"></a>Название</h5></div></div></div><p>
                    Название активности.
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.3.5"></a>CreateTime</h5></div></div></div><p>
                    Время создания.
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.3.6"></a>CreateBy</h5></div></div></div><p>
                    UID пользователя, создавшего эту Активность.
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.3.7"></a>ChangeTime</h5></div></div></div><p>
                    Время последнего изменения.
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.3.8"></a>ChangeBy</h5></div></div></div><p>
                    UID пользователя, последним изменявшего эту Активность.
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.3.9"></a>ActivityDialog</h5></div></div></div><p>
                    Activity Dialog contains the list of Activity Dialogs which are available in
this Activity. All Activity Dialogs of the current Activity are displayed in
the ticket zoom. Their order is set by the order in the configuration, here
<code class="literal">AD5</code> is shown before <code class="literal">AD6</code> and
<code class="literal">AD1</code>.
                </p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.7.3.5.4"></a>ActivityDialog</h4></div></div></div><p>
                Диалог Активности это обычный экран и может быть использован в различных
Активностях.
            </p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.4.3"></a>Настройка ActivityDialog/Далога Активности</h5></div></div></div><p>
                    Давайте рассмотрим пример конфигурации:
                </p><p>
                    </p><pre class="screen">
$Self-&gt;{'Process::ActivityDialog'} = {
    'AD1' =&gt; {
        Name             =&gt; 'ActivityDialog 1 optional',
        DescriptionShort =&gt; 'Basic info',
        DescriptionLong  =&gt; 'Please insert the necessesary basic information for IT orders',
        CreateTime       =&gt; '28-02-2012 13:37:00',
        CreateBy         =&gt; '1',
        ChangeTime       =&gt; '29-02-2012 13:37:00',
        ChangeBy         =&gt; '1',
        Fields =&gt; {
            PriorityID =&gt; {
                DescriptionShort =&gt; 'Priority ID',
                DescriptionLong  =&gt; 'Enter the priority here',
                Display          =&gt; 2,
            },
        },
        FieldOrder       =&gt; [ 'PriorityID' ],
        SubmitAdviceText =&gt; 'Note: If you submit the form...',
        SubmitButtonText =&gt; 'Send request',
    },
    'AD2' =&gt; {
        Name             =&gt; 'ActivityDialog 2 optional',
        DescriptionShort =&gt; 'Basic info',
        DescriptionLong  =&gt; 'Please insert the necessesary basic information for Book orders',
        CreateTime       =&gt; '28-02-2012 13:37:00',
        CreateBy         =&gt; '1',
        ChangeTime       =&gt; '29-02-2012 13:37:00',
        ChangeBy         =&gt; '1',
        Fields =&gt; {
            StateID =&gt; {
                DescriptionShort =&gt; 'State ID',
                DescriptionLong  =&gt; 'Enter the state here',
                Display          =&gt; 2,
                DefaultValue     =&gt; '2',
            },
            Queue =&gt; {
                DescriptionShort =&gt; 'Queue ID',
                DescriptionLong  =&gt; 'Enter the queue here',
                Display          =&gt; 2,
                DefaultValue     =&gt; 'Raw',
            },
            Title =&gt; {
                DescriptionShort =&gt; 'Title',
                DescriptionLong  =&gt; 'Enter the title here',
                Display          =&gt; 1,
                DefaultValue     =&gt; 'Default Title',
            },
            DynamicField_Anzahl =&gt; {
                DescriptionShort =&gt; 'Amount',
                DescriptionLong  =&gt; 'Enter the amount here',
                Display          =&gt; 2,
                DefaultValue     =&gt; '4',
            },
        },
        FieldOrder       =&gt; [ 'DynamicField_Anzahl', 'StateID', 'Queue', 'Title' ],
        SubmitAdviceText =&gt; 'Note: If you submit the form...',
        SubmitButtonText =&gt; 'Send request',
    },
};
                    </pre><p>
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.4.4"></a>Название</h5></div></div></div><p>
                    Имя Диалога Активности.
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.4.5"></a>CreateTime</h5></div></div></div><p>
                    Время создания.
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.4.6"></a>CreateBy</h5></div></div></div><p>
                    UID пользователя, создавшего этот Диалог Активности.
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.4.7"></a>ChangeTime</h5></div></div></div><p>
                    Время последнего изменения.
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.4.8"></a>ChangeBy</h5></div></div></div><p>
                    UID пользователя, последним изменявшего этот Диалог Активности.
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.4.9"></a>Поля</h5></div></div></div><p>
                    Содержит все поля, которые могут быть отображены в этом Диалоге
Активности. Следующие поля могут быть использованы в данный момент:
                </p><p>
                    </p><pre class="screen">
    Title
    State
    StateID
    Priority
    PriorityID
    Lock
    LockID
    Queue
    QueueID
    Customer
    CustomerID
    CustomerNo
    CustomerUserID
    Owner
    OwnerID
    Type
    TypeID
    SLA
    SLAID
    Service
    ServiceID
    Responsible
    ResponsibleID
    PendingTime
    DynamicField_$FieldName  # for all dynamic fields
                    </pre><p>
                </p><p>
                    Пример настройки отдельного поля:
                </p><p>
                    </p><pre class="screen">
StateID =&gt; {
    DescriptionShort =&gt; 'State ID',
    DescriptionLong  =&gt; 'Enter the state here',
    Display          =&gt; 2,
    DefaultValue     =&gt; '2',
},
                    </pre><p>
                </p><p>
                    The field <code class="literal">Article</code> is a special case. If it is present in
a <code class="literal">Fields</code> configuration, the Activity Dialog will contain
a complete Richtext editor with subject field and attachment handling. The
entered text will then be added to the ticket as an article. Let's see an
example Article field configuration:
                </p><p>
                    </p><pre class="screen">
Article =&gt; {
    DescriptionShort =&gt; 'Please insert your comment here.',
    DescriptionLong =&gt; '',
    Display         =&gt; 1,
    Config          =&gt; {
        CommunicationChannel =&gt; 'Internal'
        IsVisibleForCustomer =&gt; '0'
        LabelSubject =&gt; '',
        LabelBody    =&gt; '',
    },
},
                    </pre><p>
                </p><p>
                    Рассмотрим опции конфигурации полей:
                </p><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="id-1.7.3.5.4.9.9"></a>Краткое описание</h6></div></div></div><p>
                        Необязательное краткое описание, которое может отображаться вместе с
заголовком поля.
                    </p></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="id-1.7.3.5.4.9.10"></a>Полное описание</h6></div></div></div><p>
                        Необязательное полное описание поля, отображаемое при наведении мыши на
поле, например, указания по заполнению этого поля.
                    </p></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="id-1.7.3.5.4.9.11"></a>Отобразить</h6></div></div></div><p>
                        Задает, должно ли поле отображаться и/или обязательно. Возможные значения:
                        </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                                    <code class="literal">0</code>: field is invisible. This can be helpful if field
values should automatically be set. The configured
<code class="literal">DefaultValue</code> will be stored in this case.
                                </p></li><li class="listitem"><p>
                                    <code class="literal">1</code>: field is visible, but optional.
                                </p></li><li class="listitem"><p>
                                    <code class="literal">2</code>: field is visible and mandatory. The following fields
can only be invisible or mandatory:
                                </p><p>
                                    </p><pre class="screen">
    QueueID
    Queue
    State
    StateID
    Lock
    LockID
    Priority
    PriorityID
    Type
    TypeID
                                    </pre><p>
                                </p></li></ul></div><p>
                    </p><p>
                        Если поля заданы как необязательные, и никакие значения не вводятся
пользователем, умалчиваемое значение будет присвоено этому полю, когда
пользователь нажимает Отправить для этого Диалога Активности.
                    </p></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="id-1.7.3.5.4.9.12"></a>Значение по умолчанию</h6></div></div></div><p>
                        For fields with <code class="literal">ID</code> (like QueueID, OwnerID), this refers
to the database ID of the value. For other fields without
<code class="literal">ID</code> (like Queue, Owner), the
<code class="literal">DefaultValue</code> must contain the value itself. Example:
                    </p><p>
                        </p><pre class="screen">
Queue =&gt; {
    DescriptionShort =&gt; 'Queue',
    DescriptionLong  =&gt; 'Enter the queue here',
    Display          =&gt; 2,
    DefaultValue     =&gt; 'Raw',
},
                        </pre><p>
                    </p></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.4.10"></a>Порядок полей</h5></div></div></div><p>
                    Здесь задается порядок отображения полей. ВАЖНО: Неотображаемые поля также
должны быть заданы здесь, т.к. только описанные поля учитываются при
сохранении. Значения полей не указанных здесь, не сохраняются.
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.4.11"></a>Текст подсказки для кнопки</h5></div></div></div><p>
                    Необязательный текст, отображаемый поверх указателя мыши при наведении на
кнопку, содержит дополнительную подсказку или поясняющий текст.
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.4.12"></a>Текст надписи на кнопке</h5></div></div></div><p>
                    Необязательный/альтернативный пользовательский текст/название для кнопки
Отправить.
                </p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.7.3.5.5"></a>Переход</h4></div></div></div><p>
                Результат Перехода - основанный на заданных условиях - дальнейший путь
Процесса, т.е. к какой Активности должна перейти процессная заявка.
            </p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.5.3"></a>Конфигурирование Перехода</h5></div></div></div><p>
                    Давайте рассмотрим пример:
                </p><p>
                    </p><pre class="screen">
$Self-&gt;{'Process::Transition'} = {
    'T1' =&gt; {
        Name =&gt; 'Transition 1',
        CreateTime =&gt; '14-03-2012 13:37:00', # optional
        CreateBy   =&gt; '1',                   # optional
        ChangeTime =&gt; '15-03-2012 13:37:00', # optional
        ChangeBy   =&gt; '15-03-2012 13:37:00', # optional
        Condition  =&gt; {
            Cond1  =&gt; {
                Fields =&gt; {
                    StateID =&gt; {
                        Type  =&gt; 'String',
                        Match =&gt; '1',
                    },
                },
            },
        },
    },
    'T2' =&gt; {
        Name       =&gt; 'Transition 2 optional',
        CreateTime =&gt; 'DATE',   # optional
        CreateBy   =&gt; 'USERID', # optional
        ChangeTime =&gt; 'DATE',   # optional
        ChangeBy =&gt; 'USERID',   # optional
        Condition =&gt; {
            Cond1 =&gt; {
                Queue               =&gt; 'Raw',
                DynamicField_Farbe  =&gt; '2',
                DynamicField_Anzahl =&gt; '1',
            },
        },
    },
};
                    </pre><p>
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.5.4"></a>Название</h5></div></div></div><p>
                    Имя Перехода
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.5.5"></a>CreateTime</h5></div></div></div><p>
                    Время, когда он был создан.
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.5.6"></a>CreateBy</h5></div></div></div><p>
                    UID пользователя, создавшего этот Переход
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.5.7"></a>ChangeTime</h5></div></div></div><p>
                    Время последнего изменения.
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.5.8"></a>ChangeBy</h5></div></div></div><p>
                    UID пользователя, последним изменявшего этот Переход.
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.5.9"></a>Условие</h5></div></div></div><p>
                    Содержит все условия, необходимые для осуществления этого
Transition/Перехода. Пример:
                </p><p>
                    </p><pre class="screen">
Condition =&gt; {
    Type  =&gt; 'and',
    Cond1 =&gt; {
        Type   =&gt; 'and',
        Fields =&gt; {
            StateID =&gt; {
                Type  =&gt; 'String',
                Match =&gt; '1',
            },
            DynamicField_Marke =&gt; {
                Type  =&gt; 'String',
                Match =&gt; 'VW',
        },
    },
    Cond2 =&gt; {
        Type =&gt; 'and',
        Fields =&gt; {
            Queue =&gt; {
                Type  =&gt; 'String',
                Match =&gt; 'Raw',
            },
        },
    },
},
                    </pre><p>
                </p><p>
                    Давайте рассмотрим подробно конфигурирование Условий.
                </p><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="id-1.7.3.5.5.9.5"></a>Тип (Условия)</h6></div></div></div><p>
                        Задает операторы для соединения элементов Условия. Возможные значения:
                        </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                                    <code class="literal">and</code>: This is the default. All conditions must be met for
the transition to take effect.
                                </p></li><li class="listitem"><p>
                                    <code class="literal">or</code>: At least one condition must match.
                                </p></li><li class="listitem"><p>
                                    <code class="literal">xor</code>: Exactly one condition must match, not more.
                                </p></li></ul></div><p>
                    </p></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="id-1.7.3.5.5.9.6"></a>Cond1</h6></div></div></div><p>
                        Это имя одного из условий примера. Имя выбирается произвольно. Условия
вычисляются в порядке очередности.
                    </p></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="id-1.7.3.5.5.9.7"></a>Тип (Условия)</h6></div></div></div><p>
                        Specifies the way how the individual field tests of this condition are
connected to each other. Possible values:
                        </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                                    <code class="literal">and</code>: This is the default. All field tests must match for
this condition to match.
                                </p></li><li class="listitem"><p>
                                    <code class="literal">or</code>: At least one field test must match.
                                </p></li><li class="listitem"><p>
                                    <code class="literal">xor</code>: Exactly one field test must match, not more.
                                </p></li></ul></div><p>
                    </p></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="id-1.7.3.5.5.9.8"></a>Поля</h6></div></div></div><p>
                        Указывает отдельные поля, значения которых должны быть проверены. В нашем
примере:
                    </p><p>
                        </p><pre class="screen">
Fields =&gt; {
    StateID =&gt; {
        Type  =&gt; 'String',
        Match =&gt; '1',
    },
                        </pre><p>
                    </p></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="id-1.7.3.5.5.9.9"></a>StateID</h6></div></div></div><p>
                        Пример имени поля. Следующие имена полей заявки могут использоваться:
                    </p><p>
                        </p><pre class="screen">
    Title
    State
    StateID
    Priority
    PriorityID
    Lock
    LockID
    Queue
    QueueID
    Customer
    CustomerID
    CustomerNo
    CustomerUserID
    Owner
    OwnerID
    Type
    TypeID
    SLA
    SLAID
    Service
    ServiceID
    Responsible
    ResponsibleID
    DynamicField_$FieldName # for all DynamicFields
                        </pre><p>
                    </p><p>
                        Когда проверяются поля с ID в имени (такие как SLAID), используется ID поля
из базы данных, для других поле (таких как SLA), используется его текущее
значение.
                    </p></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="id-1.7.3.5.5.9.10"></a>Type</h6></div></div></div><p>
                        Определяет тип проверяемого поля. Возможные значения:

                        </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                                    <code class="literal">String</code>: Compares the field value with the string
specified in <code class="literal">Match</code>. Matches if they are exactly the same.
                                </p></li><li class="listitem"><p>
                                    <code class="literal">Hash</code>: Compares the field value (hash) with the hash
specified in <code class="literal">Match</code>. All hash values must be the same.
                                </p></li><li class="listitem"><p>
                                    <code class="literal">Array</code>: Compares the field value (array) with the array
specified in <code class="literal">Match</code>. Both lists must be the same.
                                </p></li><li class="listitem"><p>
                                    <code class="literal">Regex</code>: The field value can be tested with a regular
expression. It is important that <code class="literal">Match</code> contains
<span class="emphasis"><em>qr{}xms</em></span> as a base condition. Between the braces the
actual regular expression can be noted.
                                </p></li><li class="listitem"><p>
                                    <code class="literal">Module</code>: Allows you to use a perl module for condition
checking. If it returns 1, the check was positive. You can find an example
module in
<code class="filename">Kernel/System/ProcessManagement/TransitionValidation/ValidateDemo.pm</code>.
                                </p></li></ul></div><p>
                    </p></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.7.3.5.6"></a>Действия Перехода</h4></div></div></div><p>
                Действия Перехода это действия которые могут быть выполнены после успешного
Перехода (когда процессная заявка переходит от одной Активности к
другой). Эти Дествия Перехода могут быть использованы для выполнения
различных изменений в заявке, например, изменить Очередь или Владельца
заявки, и вы можете создать свои собственные Действия Переходов для
осуществления других сложных изменений.
            </p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.6.3"></a>Настройка Действий Перехода</h5></div></div></div><p>
                    Давайте рассмотрим пример:
                </p><p>
                    </p><pre class="screen">
$Self-&gt;{'Process::TransitionAction'} = {
    'TA1' =&gt; {
        Name   =&gt; 'Queue Move',
        Module =&gt; 'Kernel::System::ProcessManagement::TransitionAction::TicketQueueSet',
        Config =&gt; {
            Queue  =&gt; 'Junk',
            UserID =&gt; 123,
        },
    },
};
                    </pre><p>
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.6.4"></a>Название</h5></div></div></div><p>
                    Имя Действия Перехода
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.6.5"></a>Модуль</h5></div></div></div><p>
                    Задает используемый Perl модуль.
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.6.6"></a>Config</h5></div></div></div><p>
                    This parameter contains all settings which are required for the module. Its
content depends on the particular Transition Action module which is
used. Please see the documentation of the individual modules for details. In
our example, only the Queue must be specified. Nevertheless we are also
sending UserID parameter, by using the UserID parameter. The transition
action will be executed impersonating the user with the given UserID.
                </p><p>
                    The use of UserID inside the <code class="literal">Config</code> parameter of a
Transition Action is accepted by all Transition Actions (since OTRS
3.2.4). In this example it could be particularly important if the user that
triggers the Transition does not have permissions to move the ticket to the
queue <code class="literal">Junk</code>, while the user with the UserID 123 might
have.
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.6.7"></a>Повторное использование модулей Действий Переходов.</h5></div></div></div><p>
                    To use Transition Action modules multiple times, just specify several
Transition Actions in your configuration. Example:
                </p><p>
                    </p><pre class="screen">
    $Self-&gt;{'Process::TransitionAction'} = {
        'TA1' =&gt; {
            Name   =&gt; 'Queue Move Junk',
            Module =&gt; 'Kernel::System::ProcessManagement::TransitionAction::TicketQueueSet',
            Config =&gt; {
                Queue =&gt; 'Junk',
            },
        },
        'TA2' =&gt; {
            Name   =&gt; 'Queue Move Raw',
            Module =&gt; 'Kernel::System::ProcessManagement::TransitionAction::TicketQueueSet',
            Config =&gt; {
                Queue =&gt; 'Raw',
            },
        },
    };
                    </pre><p>
                </p><p>
                    Here the same module is used to move a process ticket into the
<code class="literal">Raw</code> queue, and another time to move it into the junk
queue. The Transition Action which must be used for a particular Transition
is determined from the <code class="literal">Path</code> setting of the Process
configuration.
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="available-transition-actions"></a>Доступные Действия Перехода</h5></div></div></div><p>
                    OTRS стандартно имеет в составе несколько Действий Перехода, которые могут
быть использованы в ваших процессах. Здесь вы можете найти их описание и
способ настройки.
                </p><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="id-1.7.3.5.6.8.3"></a>DynamicFieldSet</h6></div></div></div><p>
                        Задает одно или несколько динамических полей в процессной заявке. Пример:
                    </p><p>
                        </p><pre class="screen">
$Self-&gt;{'Process::TransitionAction'} = {
    'TA1' =&gt; {
        Name   =&gt; 'Set DynamicField MasterSlave to Master and Approved to 1',
        Module =&gt; 'Kernel::System::ProcessManagement::TransitionAction::DynamicFieldSet',
        Config =&gt; {
            MasterSlave =&gt; 'Master',
            Approved    =&gt; '1',

        },
    },
};
                        </pre><p>
                    </p><p>
                        <code class="literal">Name</code> specifies the name of the configured
TransitionAction.
                    </p><p>
                        <code class="literal">MasterSlave</code> and <code class="literal">Approved</code> are given as
examples of DynamicField names.  The values of the fields
(<code class="literal">Master</code> and <code class="literal">1</code>) will be set by this
TransitionAction.
                    </p></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="id-1.7.3.5.6.8.4"></a>TicketArticleCreate</h6></div></div></div><p>
                        Creates an article, the %DataPayload parameters depends on the given
communication channel, by default <code class="literal">Internal</code> is
used. Example:
                    </p><p>
                        </p><pre class="screen">
$Self-&gt;{'Process::TransitionAction'} = {
    'TA1' =&gt; {
        Name   =&gt; 'Article Create Note',
        Module =&gt; 'Kernel::System::ProcessManagement::TransitionAction::TicketArticleCreate',
        Config =&gt; {

        Config                   =&gt; {
            SenderType           =&gt; 'agent',            # (required) agent|system|customer
            IsVisibleForCustomer =&gt; 1,                  # 0 or 1
            CommunicationChannel =&gt; 'Internal',         # Internal|Phone|Email|..., default: Internal

            %DataPayload,                               # some parameters depending of each communication channel
        },
    },
};
                        </pre><p>
                    </p><p>
                        The following is the %DataPayload for MIME based Communication channels
(<code class="literal">Email</code>,<code class="literal">Internal</code> and
<code class="literal">Phone</code>).
                    </p><p>
                        </p><pre class="screen">
            SenderType       =&gt; 'agent',                                                # agent|system|customer
            ContentType      =&gt; 'text/plain; charset=ISO-8859-15',                      # or optional Charset &amp; MimeType (e.g. 'text/html; charset=UTF-8')
            Subject          =&gt; 'some short description',                               # required
            Body             =&gt; 'the message text',                                     # required
            HistoryType      =&gt; 'OwnerUpdate',                                          # EmailCustomer|Move|AddNote|PriorityUpdate|WebRequestCustomer|...
            HistoryComment   =&gt; 'Some free text!',
            From             =&gt; 'Some Agent &lt;email@example.com&gt;',                       # not required but useful
            To               =&gt; 'Some Customer A &lt;customer-a@example.com&gt;',             # not required but useful
            Cc               =&gt; 'Some Customer B &lt;customer-b@example.com&gt;',             # not required but useful
            ReplyTo          =&gt; 'Some Customer B &lt;customer-b@example.com&gt;',             # not required
            InReplyTo        =&gt; '&lt;asdasdasd.12@example.com&gt;',                           # not required but useful
            References       =&gt; '&lt;asdasdasd.1@example.com&gt; &lt;asdasdasd.12@example.com&gt;', # not required but useful
            NoAgentNotify    =&gt; 0,                                                      # if you don't want to send agent notifications
            AutoResponseType =&gt; 'auto reply',                                           # auto reject|auto follow up|auto reply/new ticket|auto remove

            ForceNotificationToUserID   =&gt; '1,43,56',                                    # if you want to force somebody
            ExcludeNotificationToUserID =&gt; '43,56',
                 # if you want full exclude somebody from notifications,
                 # will also be removed in To: line of article,
                 # higher prio as ForceNotificationToUserID
            ExcludeMuteNotificationToUserID =&gt; '43,56',
                 # the same as ExcludeNotificationToUserID but only the
                 # sending gets muted, agent will still shown in To:
                 # line of article
                        </pre><p>
                    </p><p>
                        <code class="literal">Name</code> specifies the name of the configured
TransitionAction. It can be freely chosen, but should reflect the purpose of
the configured action.
                    </p><p>
                        <code class="literal">SenderType</code> defines the sender type of the
article. Possible values: agent, system, customer.
                    </p><p>
                        <code class="literal">IsVisibleForCustomer</code> defines if the article should be
displayed in the customer interface.
                    </p><p>
                        <code class="literal">CommunicationChannel</code> defines the type of the article to
be created. Possible values: <code class="literal">Email</code>,
<code class="literal">Internal</code> and <code class="literal">Phone</code>. This list could be
extended by installing new communication channels via an OTRS Package.
                    </p><p>
                        <code class="literal">ContentType</code> defines the content type of the
article. Possible values: <code class="literal">text/plain; charset=ISO-8859-15</code>
or any other valid charset and mime type.
                    </p><p>
                        <code class="literal">Subject</code> defines the article title. Mandatory.
                    </p><p>
                        <code class="literal">Body</code> defines the article content. Mandatory.
                    </p><p>
                        <code class="literal">HistoryType</code> defines the type of the history
entry. Possible values: AddNote, ArchiveFlagUpdate, Bounce, CustomerUpdate,
EmailAgent, EmailCustomer, EscalationResponseTimeNotifyBefore,
EscalationResponseTimeStart, EscalationResponseTimeStop,
EscalationSolutionTimeNotifyBefore, EscalationSolutionTimeStart,
EscalationSolutionTimeStop, EscalationUpdateTimeNotifyBefore,
EscalationUpdateTimeStart, EscalationUpdateTimeStop, FollowUp, Forward,
Lock, LoopProtection, Merged, Misc, Move, NewTicket, OwnerUpdate,
PhoneCallAgent, PhoneCallCustomer, PriorityUpdate, Remove,
ResponsibleUpdate, SendAgentNotification, SendAnswer, SendAutoFollowUp,
SendAutoReject, SendAutoReply, SendCustomerNotification, ServiceUpdate,
SetPendingTime, SLAUpdate, StateUpdate, Subscribe, SystemRequest,
TicketDynamicFieldUpdate, TicketLinkAdd, TicketLinkDelete, TimeAccounting,
TypeUpdate, Unlock, Unsubscribe, WebRequestCustomer.
                    </p><p>
                        <code class="literal">HistoryComment</code> defines the content of the history entry.
                    </p><p>
                        <code class="literal">From</code>, <code class="literal">To</code>, <code class="literal">Cc</code> and
<code class="literal">ReplyTo</code> take email addresses in the notation specified
above.
                    </p><p>
                        <code class="literal">InReplyTo</code> and <code class="literal">References</code> take email
message IDs.
                    </p><p>
                        <code class="literal">NoAgentNotify</code> - if set to 1, the email notification of
the Agent will not be sent.
                    </p><p>
                        <code class="literal">AutoResponseType</code> can take the following values: auto
follow up, auto reject, auto remove, auto reply, auto reply/new ticket.
                    </p><p>
                        <code class="literal">ForceNotificationToUserID</code>,
<code class="literal">ExcludeNotificationToUserID</code>,
<code class="literal">ExcludeMuteNotificationToUserID</code> can take a list of
UserIDs that are either always notified, not notified or listed as notified
but not actually sent a notification email.
                    </p></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="id-1.7.3.5.6.8.5"></a>TicketCreate</h6></div></div></div><p>
                        Создает заявку с сообщением, новая заявка может быть связана с процессной
заявкой. Пример:
                    </p><p>
                        </p><pre class="screen">
$Self-&gt;{'Process::TransitionAction'} = {
    'TA1' =&gt; {
        Name   =&gt; 'Ticket Create',
        Module =&gt; 'Kernel::System::ProcessManagement::TransitionAction::TicketCreate',
        Config =&gt; {

            # ticket required:
            Title         =&gt; 'Some Ticket Title',
            Queue         =&gt; 'Raw',              # or QueueID =&gt; 123,
            Lock          =&gt; 'unlock',
            Priority      =&gt; '3 normal',         # or PriorityID =&gt; 2,
            State         =&gt; 'new',              # or StateID =&gt; 5,
            CustomerID    =&gt; '123465',
            CustomerUser  =&gt; 'customer@example.com',
            OwnerID       =&gt; 'someuserlogin',    # or OwnerID =&gt; 123,

            # ticket optional:
            TN              =&gt; $TicketObject-&gt;TicketCreateNumber(), # optional
            Type            =&gt; 'Incident',            # or TypeID =&gt; 1, not required
            Service         =&gt; 'Service A',           # or ServiceID =&gt; 1, not required
            SLA             =&gt; 'SLA A',               # or SLAID =&gt; 1, not required
            ResponsibleID   =&gt; 123,                   # not required
            ArchiveFlag     =&gt; 'y',                   # (y|n) not required
            PendingTime     =&gt; '2011-12-23 23:05:00', # optional (for pending states)
            PendingTimeDiff =&gt; 123 ,                  # optional (for pending states)

            # article required:
            SenderType           =&gt; 'agent',           # agent|system|customer
            CommunicationChannel =&gt; 'Internal'         # Internal|Phone|Email|..., default: Internal
            IsVisibleForCustomer =&gt; '0'

            %DataPayload,                             # some parameters depending of each communication channel

            # article optional:
            TimeUnit                        =&gt; 123

            # other:
            DynamicField_NameX =&gt; $Value,
            LinkAs =&gt; $LinkType,                                        # Normal, Parent, Child, etc. (respective original ticket)
            UserID =&gt; 123,                                              # optional, to override the UserID from the logged user
        },
    },
};
                        </pre><p>
                    </p><p>
                        <code class="literal">Name</code> specifies the name of the configured
TransitionAction. It can be freely chosen, but should reflect the purpose of
the configured action.
                    </p><p>
                        <code class="literal">Title</code> The ticket title.
                    </p><p>
                        <code class="literal">Queue</code> or <code class="literal">QueueID</code> specifies the name or
id of the queue to be used in the new ticket.
                    </p><p>
                        <code class="literal">Lock</code> or <code class="literal">LockID</code> sets the lock status of
the ticket.
                    </p><p>
                        <code class="literal">Priority</code> or <code class="literal">PriorityID</code> specifies the
name or id of the priority to be used in the new ticket.
                    </p><p>
                        <code class="literal">State</code> or <code class="literal">StateID</code> specifies the name or
id of the state to be used in the new ticket.
                    </p><p>
                        <code class="literal">CustomerID</code>, the customer id to be set for the new ticket.
                    </p><p>
                        <code class="literal">CustomerUser</code>, the login of the customer that will be
assigned in the ticket.
                    </p><p>
                        <code class="literal">OwnerID</code> or <code class="literal">OwnerID</code>, specifies the
login or id of the agent that will be the new ticket owner.
                    </p><p>
                        <code class="literal">TN</code>, custom number for the new ticket.
                    </p><p>
                        <code class="literal">Type</code> or <code class="literal">TypeID</code> specifies the name or
id of the ticket type to be used in the new ticket.
                    </p><p>
                        <code class="literal">Service</code> or <code class="literal">ServiceID</code> specifies the
name or id of the service to be used in the new ticket.
                    </p><p>
                        <code class="literal">SLA</code> or <code class="literal">SLAID</code> specifies the name or id
of the SLA to be used in the new ticket.
                    </p><p>
                        <code class="literal">ResponsibleID</code>, the ID of the agent that will be the new
ticket responsible.
                    </p><p>
                        <code class="literal">PendingTime</code>, a predefined date to set the Ticket Pending
Times, when the ticket state belongs to a pending state type.
                    </p><p>
                        <code class="literal">PendingTimeDiff</code>, a dynamically date (expressed in seconds
from current date/time) to set the Ticket Pending Times, when the ticket
state belongs to a pending state type.
                    </p><p>
                        <code class="literal">SenderType</code> defines the sender type of the
article. Possible values: agent, system, customer.
                    </p><p>
                        <code class="literal">IsVisibleForCustomer</code> defines if the article should be
displayed in the customer interface.
                    </p><p>
                        <code class="literal">CommunicationChannel</code> defines the type of the article to
be created. Possible values: <code class="literal">Email</code>,
<code class="literal">Internal</code> and <code class="literal">Phone</code>. This list could be
extended by installing new communication channels via an OTRS Package.
                    </p><p>
                        Please check the additional parameters for different article channels.
                    </p><p>
                        <code class="literal">TimeUnit</code> the time invested in the current ticket article
expressed in seconds, minutes, hours, etc.
                    </p><p>
                        <code class="literal">DynamicField_NameX</code> where DynamicField_ is a required
prefix and NameX is the name of a Dynamic Field to be set in the new ticket
(on ticket level, not article levels).
                    </p><p>
                        <code class="literal">LinkAs</code> to define the new ticket relation with originator
ticket, from the new ticket point of view, for example Normal, Parent, Child
etc.
                    </p><p>
                        OTRS smart tags like <code class="literal">&lt;OTRS_CUSTOMER_BODY&gt;</code> or
<code class="literal">&lt;OTRS_CUSTOMER_REALNAME&gt;</code> are now supported in the
Transition Action <code class="literal">TicketCreate</code>.  Those smart tags could
be used to create a new ticket and insert data from the process ticket to
this child ticket.  The usage of the OTRS smart tags is identical to the
text templates in <span class="emphasis"><em>Ticket Notifications</em></span>.
                    </p></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="id-1.7.3.5.6.8.6"></a>TicketCustomerSet</h6></div></div></div><p>
                        Задает клиента процессной заявки. Пример:
                    </p><p>
                        </p><pre class="screen">
$Self-&gt;{'Process::TransitionAction'} = {
    'TA1' =&gt; {
        Name   =&gt; 'Customer Set Customer to test',
        Module =&gt; 'Kernel::System::Process::TransitionAction::TicketCustomerSet',
        Config =&gt; {
            No      =&gt; 'test',
            User    =&gt; 'client-user-123',
            # or in other words
            # CustomerID     =&gt; 'client123',
            # CustomerUserID =&gt; 'client-user-123',

        },
    },
};
                        </pre><p>
                    </p><p>
                        <code class="literal">Name</code> specifies the name of the configured
TransitionAction.
                    </p><p>
                        <code class="literal">No</code> or <code class="literal">CustomerID</code> set the Customer ID
of the customer.
                    </p><p>
                        <code class="literal">User</code> or <code class="literal">CustomerUserID</code> set the
Username of the customer.
                    </p></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="id-1.7.3.5.6.8.7"></a>TicketLockSet</h6></div></div></div><p>
                        Устанавливает состояние блокирования процессной заявки. Пример:
                    </p><p>
                        </p><pre class="screen">
$Self-&gt;{'Process::TransitionAction'} = {
    'TA1' =&gt; {
        Name   =&gt; 'Set Lock to lock',
        Module =&gt; 'Kernel::System::ProcessManagement::TransitionAction::TicketLockSet',
        Config =&gt; {
            Lock   =&gt; 'lock',
            # or
            LockID =&gt; 2,
        },
    },
};
                        </pre><p>
                    </p><p>
                        <code class="literal">Name</code> specifies the name of the configured
TransitionAction.
                    </p><p>
                        <code class="literal">Lock</code> defines the new lock of the process ticket.
                    </p><p>
                        <code class="literal">LockID</code> defines the internal ID of the new lock.
                    </p></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="id-1.7.3.5.6.8.8"></a>TicketOwnerSet</h6></div></div></div><p>
                        Изменяет владельца этой процессной заявки. Пример:
                    </p><p>
                        </p><pre class="screen">
$Self-&gt;{'Process::TransitionAction'} = {
    'TA1' =&gt; {
        Name   =&gt; 'Owner Set root@localhost',
        Module =&gt; 'Kernel::System::ProcessManagement::TransitionAction::TicketOwnerSet',
        Config =&gt; {
            Owner =&gt; 'root@localhost',
            # or
            OwnerID =&gt; 1,
        },
    },
};
                        </pre><p>
                    </p><p>
                        <code class="literal">Name</code> specifies the name of the configured
TransitionAction.
                    </p><p>
                        <code class="literal">Owner</code> specifies the login name of the new owner.
                    </p><p>
                        <code class="literal">OwnerID</code> specifies the internal ID of the new owner.
                    </p></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="id-1.7.3.5.6.8.9"></a>TicketQueueSet</h6></div></div></div><p>
                        Перемещает заявку в указанную очередь. Пример:
                    </p><p>
                        </p><pre class="screen">
$Self-&gt;{'Process::TransitionAction'} = {
    'TA1' =&gt; {
        Name   =&gt; 'Queue Move Raw',
        Module =&gt; 'Kernel::System::ProcessManagement::TransitionAction::TicketQueueSet',
        Config =&gt; {
            Queue =&gt; 'Raw',
            # or
            # QueueID =&gt; '2',
        },
    },
};
                        </pre><p>
                    </p><p>
                        <code class="literal">Name</code> specifies the name of the configured
TransitionAction.
                    </p><p>
                        <code class="literal">Queue</code> specifies the name of the target queue.
                    </p><p>
                        <code class="literal">QueueID</code> specifies the internal ID of the target queue.
                    </p></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="id-1.7.3.5.6.8.10"></a>TicketResponsibleSet</h6></div></div></div><p>
                        Изменяет владельца процессной заявки. Пример:
                    </p><p>
                        </p><pre class="screen">
$Self-&gt;{'Process::TransitionAction'} = {
    'TA1' =&gt; {
        Name   =&gt; 'Responsible Set root@localhost',
        Module =&gt; 'Kernel::System::ProcessManagement::TransitionAction::TicketResponsibleSet',
        Config =&gt; {
            Responsible =&gt; 'root@localhost',
            # or
            ResponsibleID =&gt; 1,
        },
    },
};
                        </pre><p>
                    </p><p>
                        <code class="literal">Name</code> specifies the name of the configured
TransitionAction.
                    </p><p>
                        <code class="literal">Responsible</code> specifies the login name of the new
responsible.
                    </p><p>
                        <code class="literal">ResponsibleID</code> specifies the internal ID of the new
responsible.
                    </p></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="id-1.7.3.5.6.8.11"></a>TicketServiceSet</h6></div></div></div><p>
                        Назначает сервис процессной заявке. Заявка должна иметь клиента и сервис
должен быть назначен этому клиенту. Пример:
                    </p><p>
                        </p><pre class="screen">
$Self-&gt;{'Process::TransitionAction'} = {
    'TA1' =&gt; {
        Name   =&gt; 'Set MyService service',
        Module =&gt; 'Kernel::System::ProcessManagement::TransitionAction::TicketServiceSet',
        Config =&gt; {
            Service   =&gt; 'MyService',
            # or
            ServiceID =&gt; 123,
        },
    },
};
                        </pre><p>
                    </p><p>
                        <code class="literal">Name</code> specifies the name of the configured
TransitionAction.
                    </p><p>
                        <code class="literal">Service</code> defines the new service of the process
ticket. The full name is required
(e.g. GramdFatherService::FatherService::SonService ).
                    </p><p>
                        <code class="literal">ServiceID</code> defines the internal ID of the new service.
                    </p></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="id-1.7.3.5.6.8.12"></a>TicketSLASet</h6></div></div></div><p>
                        Задает SLA для процессной заявки. Заявке должен быть уже назначен сервис и
SLA должен быть привязан к этому сервису. Пример:
                    </p><p>
                        </p><pre class="screen">
$Self-&gt;{'Process::TransitionAction'} = {
    'TA1' =&gt; {
        Name   =&gt; 'Set MySLA SLA',
        Module =&gt; 'Kernel::System::ProcessManagement::TransitionAction::TicketSLASet',
        Config =&gt; {
            SLA   =&gt; 'MySLA',
            # or
            SLAID =&gt; 123,
        },
    },
};
                        </pre><p>
                    </p><p>
                        <code class="literal">Name</code> specifies the name of the configured
TransitionAction.
                    </p><p>
                        <code class="literal">SLA</code> defines the new service level agreement of the
process ticket.
                    </p><p>
                        <code class="literal">SLAID</code> defines the internal ID of the new SLA.
                    </p></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="id-1.7.3.5.6.8.13"></a>TicketStateSet</h6></div></div></div><p>
                        Изменяет состояние процессной заявки. Пример:
                    </p><p>
                        </p><pre class="screen">
$Self-&gt;{'Process::TransitionAction'} = {
    'TA1' =&gt; {
        Name   =&gt; 'Set State to open',
        Module =&gt; 'Kernel::System::ProcessManagement::TransitionAction::TicketStateSet',
        Config =&gt; {
            State   =&gt; 'open',
            # or
            StateID =&gt; 4,

            PendingTimeDiff =&gt; 123,
        },
    },
};
                        </pre><p>
                    </p><p>
                        <code class="literal">Name</code> specifies the name of the configured
TransitionAction.
                    </p><p>
                        <code class="literal">State</code> defines the new state of the process ticket.
                    </p><p>
                        <code class="literal">StateID</code> defines the internal ID of the new state.
                    </p><p>
                        <code class="literal">PendingTimeDiff</code> used only for pending type states,
defines the time difference in seconds relative (relative to the Transition
Action execution time) to set ticket pending time (e.g. 3600 means that the
pending time is 1hr after the Transition Action is executed).
                    </p></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="id-1.7.3.5.6.8.14"></a>TicketTitleSet</h6></div></div></div><p>
                        Задает Тему процессной заявки. Пример:
                    </p><p>
                        </p><pre class="screen">
$Self-&gt;{'Process::TransitionAction'} = {
    'TA1' =&gt; {
        Name   =&gt; 'Set Ticket Title to Ticket-title',
        Module =&gt; 'Kernel::System::ProcessManagement::TransitionAction::TicketTitleSet',
        Config =&gt; {
            Title =&gt; 'Ticket-title',
        },
    },
};
                        </pre><p>
                    </p><p>
                        <code class="literal">Name</code> specifies the name of the configured
TransitionAction.
                    </p><p>
                        <code class="literal">Title</code> specifies the new title of the ticket.
                    </p></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="id-1.7.3.5.6.8.15"></a>TicketTypeSet</h6></div></div></div><p>
                        Задает Тип процессной заявки. Пример:
                    </p><p>
                        </p><pre class="screen">
$Self-&gt;{'Process::TransitionAction'} = {
    'TA1' =&gt; {
        Name   =&gt; 'Set Ticket Type to default',
        Module =&gt; 'Kernel::System::ProcessManagement::TransitionAction::TicketTypeSet',
        Config =&gt; {
            Type     =&gt; 'default',
            # or
            # TypeID =&gt; '1',
        },
    },
};
                        </pre><p>
                    </p><p>
                        <code class="literal">Name</code> specifies the name of the configured
TransitionAction.
                    </p><p>
                        <code class="literal">Type</code> specifies the name of the ticket type.
                    </p><p>
                        <code class="literal">TypeID</code> specifies the internal ID of the ticket type.
                    </p></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="process-management-acl"></a>Списки Контроля Доступа (ACLs)</h4></div></div></div><p>
                С помощью ACL, вы можете ограничить выбор значений в процессной
заявке. Смотрите также <a class="link" href="customization.html#acl-reference" title="Сссылка">ACL reference</a>
для обзора полного синтаксиса ACL для заявок.
            </p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.7.3"></a>Настройка ACL</h5></div></div></div><p>
                    ACL могут быть заданы только в
<code class="filename">Kernel/Config.pm</code>. /Правильнее с помощью редактора ACL в
SysConfig/. Пример:
                </p><p>
                    </p><pre class="screen">
$Self-&gt;{TicketAcl}-&gt;{'001-ACL-ProcessProperties'} = {
    Properties =&gt; {
        Process =&gt; {
            ProcessEntityID        =&gt; ['P1'],
            ActivityEntityID       =&gt; ['A1'],
            ActivityDialogEntityID =&gt; ['AD1'],
        }
    },
    Possible =&gt; {
        ActivityDialog =&gt; ['AD1', 'AD3'],
    },
    PossibleNot =&gt; {
        ActivityDialog =&gt; ['AD3'],
    },
};
                    </pre><p>
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.7.4"></a>001-ACL-ProcessProperties</h5></div></div></div><p>
                    Имя правила ACL. Для более полной информации обратитесь к <a class="link" href="customization.html#acl" title="Списки Контроля Доступа (ACLs)">the ACL manual</a>.
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.7.5"></a>Процесс</h5></div></div></div><p>
                    Эта секция предназначена для проверки может ли правило ACL быть
применено. Если параметр имеет заданное значение, правило применяется. Могут
быть использованы следующие значения:
                </p><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="id-1.7.3.5.7.5.3"></a>ProcessEntityID</h6></div></div></div><p>
                        ID процесса для текущего процесса. Совпадает, если заявка назначена этому
процессу.
                    </p></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="id-1.7.3.5.7.5.4"></a>ActivityEntityID</h6></div></div></div><p>
                        ID Активности, которой назначена процессная заявка в текущий момент.
                    </p></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="id-1.7.3.5.7.5.5"></a>ActivityDialogEntityID</h6></div></div></div><p>
                        ID Диалога Активности открытого в настоящий момент для процессной заявки.
                    </p></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.7.3.5.7.6"></a>Possible/PossibleNot Activity Dialog/Диалог Активности</h5></div></div></div><p>
                    Здесь вы можете задать список ID'ов Диалогов Активности. Этот список
ограничивает Диалоги Активности, которые могут быть предложены пользователю
при просмотре заявки.
                </p><p>
                    <code class="literal">Possible</code> lists the Activity Dialogs that are allowed. The
setting above will only allow <code class="literal">AD1</code> and
<code class="literal">AD3</code> of the list of configured Activity Dialogs.
                </p><p>
                    <code class="literal">PossibleNot</code> lists the Activity Dialogs that are not
allowed. In the example above, the setting will remove
<code class="literal">AD3</code> from the list of configured Activity Dialogs.
                </p><p>
                    If both <code class="literal">Possible</code> and <code class="literal">PossibleNot</code> are
specified, the list of configured Activity Dialogs will first be filtered by
<code class="literal">Possible</code>, leaving only <code class="literal">AD1</code> and
<code class="literal">AD3</code> in our example. Then <code class="literal">PossibleNot</code>
will be applied and filter out <code class="literal">AD3</code>, so that only
<code class="literal">AD1</code> remains and is shown as a possible Activity Dialog
that the user can use.
                </p><p>
                    Если множество правил ACL удовлетворяются, их пересечение будет вычислено
для определения доступных Диалогов Активности. Пример:
                </p><p>
                    Configured Activity Dialogs: <code class="literal">AD1</code>, <code class="literal">AD2</code>,
<code class="literal">AD3</code>, <code class="literal">AD4</code>, <code class="literal">AD5</code>,
<code class="literal">AD6</code>, <code class="literal">AD7</code>.
                </p><p>
                    </p><pre class="screen">
$Self-&gt;{TicketAcl}-&gt;{'001-ACL-Status'} = {
    Properties =&gt; {
        Ticket =&gt; {
            Status =&gt; 'new',
        }
    },
    Possible =&gt; {
        ActivityDialog =&gt; ['AD1', 'AD2', 'AD3', 'AD6', 'AD7'],
    },
};
$Self-&gt;{TicketAcl}-&gt;{'002-ACL-Queue'} = {
    Properties =&gt; {
        Ticket =&gt; {
            Queue =&gt; ['Raw']
        }
    },
    Possible =&gt; {
        ActivityDialog =&gt; ['AD2', 'AD3', 'AD4', 'AD7'],
    },
};
$Self-&gt;{TicketAcl}-&gt;{'003-ACL-Priority'} = {
    Properties =&gt; {
        Ticket =&gt; {
            Priority =&gt; ['3 normal']
        }
    },
    PossibleNot =&gt; {
        ActivityDialog =&gt; ['AD3', 'AD4'],
    },
};
                    </pre><p>
                </p><p>
                    If a process ticket has the state <code class="literal">new</code>, is in the
<code class="literal">Raw</code> queue and has a priority <code class="literal">3 normal</code>,
then all three ACL rules will match.
                </p><p>
                    The first rule reduces the Activity Dialogs from <code class="literal">AD1</code>,
<code class="literal">AD2</code>, <code class="literal">AD3</code>, <code class="literal">AD4</code>,
<code class="literal">AD5</code>, <code class="literal">AD6</code>, <code class="literal">AD7</code> to
<code class="literal">AD1</code>, <code class="literal">AD2</code>, <code class="literal">AD3</code>,
<code class="literal">AD6</code>, <code class="literal">AD7</code> and forbids
<code class="literal">AD4</code> and <code class="literal">AD5</code>.
                </p><p>
                    The second rule will now further reduce the remaining Activity Dialogs.  In
our example, <code class="literal">AD2</code>, <code class="literal">AD3</code>,
<code class="literal">AD7</code> will remain.
                </p><p>
                    Now the third rule will further reduce the list by
<code class="literal">PossibleNot</code>.  <code class="literal">AD3</code> is removed from the
list. <code class="literal">AD4</code> is not removed, since it was not on the list in
the first place. At the end, <code class="literal">AD2</code> and
<code class="literal">AD7</code> remain as possible Activity Dialogs that the user can
utilize.
                </p><p>
                    It is also possible to limit the processes that can be displayed in the
<code class="literal">New process ticket</code> screen. The functionality is similar
to limiting the Activity Dialogs with one exception: The ACLs could only be
based on Users.
                </p><p>Смотрите примеры ниже:</p><p>
                    </p><pre class="screen">
$Self-&gt;{TicketAcl}-&gt;{'200-ACL-Process'} = {
    # match properties
    Properties =&gt; {
        User =&gt; {
            UserID =&gt; [2, 3],
        },
    },
    Possible =&gt; {
       Process =&gt; ['P1', 'P2', 'P3'],
    },
    PossibleNot =&gt; {
        Process =&gt; ['P4'],
    },
};
                    </pre><p>
                </p><p>
                    </p><pre class="screen">
$Self-&gt;{TicketAcl}-&gt;{'201-ACL-Process'} = {
    # match properties
    Properties =&gt; {
        User =&gt; {
            Group_rw =&gt; [ 'MyGroup' ],
        },
    },
    Possible =&gt; {
       Process =&gt; ['P1', 'P2', 'P3'],
    },
    PossibleNot =&gt; {
        Process =&gt; ['P4'],
    },
};
                    </pre><p>
                </p><p>
                    </p><pre class="screen">
$Self-&gt;{TicketAcl}-&gt;{'202-ACL-Process'} = {
    # match properties
    Properties =&gt; {
        User =&gt; {
            Role =&gt; [ 'MyRole' ],
        },
    },
    Possible =&gt; {
       Process =&gt; ['P1', 'P2', 'P3'],
    },
    PossibleNot =&gt; {
        Process =&gt; ['P4'],
    },
};
                    </pre><p>
                </p></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="id-1.7.3.6"></a>Import Ready2Adopt process</h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.7.3.6.2"></a>Импорт</h4></div></div></div><p>
                On the <span class="emphasis"><em>AdminProcessManagement</em></span> screen you can find an
<span class="emphasis"><em>Ready2Adopt Processes</em></span> widget, where you can find best
practice Ready2Adopt processes. Currently, there is only an
<span class="emphasis"><em>Application for leave</em></span> process available, but you can
find additional Ready2Adopt processes in the <span class="bold"><strong>OTRS
Business Solution™</strong></span>.

            </p><p>
                </p><div class="figure"><a name="id-1.7.3.6.2.3.1"></a><p class="title"><b>Figure 5.24. Import Ready2Adopt Processes widget</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/customization/pm-process-widget.png" alt="Import Ready2Adopt Processes widget"></div></div></div></div><p><br class="figure-break">
            </p><p>
                Select process from the drop-down menu and click on the <span class="emphasis"><em>Import
Ready2Adopt process</em></span> button. After the process is imported, don't
forget to deploy changes.
            </p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="customization.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="customization.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="translation.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 5. Настройка </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Локализация интерфейса OTRS</td></tr></table></div></body></html>
