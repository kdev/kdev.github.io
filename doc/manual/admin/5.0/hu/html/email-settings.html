<html><head>
<!-- otrs.github.io -->
<link href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="../../../../../documentation.css">
<script src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="../../../../../documentation.js"></script>
<link rel="icon" type="image/png" sizes="32x32" href="../../../../../../images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../../../../../images/favicon-16x16.png">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/default.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>
<script>
$(document).ready(function() {

    // Hint languages to prevent false matches (php for example).
    hljs.configure({
        languages: ['perl', 'javascript', 'xml', 'html', 'css', 'json', 'yaml']
    });

    // programlistings in manuals
    $('pre.programlisting').each(function(i, block) {
        hljs.highlightBlock(block);
    });
    // code snippets in Perl API docs
    $('.pod pre').addClass('perl').each(function(i, block) {
        hljs.highlightBlock(block);
    });
});</script>
<!-- otrs.github.io -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>E-mail beállítások</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="OTRS 5 - Adminisztrátori kézikönyv"><link rel="up" href="administration.html" title="4. fejezet - Adminisztráció"><link rel="prev" href="backup-and-restore.html" title="A rendszer biztonsági mentése"><link rel="next" href="external-backends.html" title="Külső háttérprogramok használata"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">E-mail beállítások</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="backup-and-restore.html">Vissza</a> </td><th width="60%" align="center">4. fejezet - Adminisztráció</th><td width="20%" align="right"> <a accesskey="n" href="external-backends.html">Előre</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a name="email-settings"></a>E-mail beállítások</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="email-settings.html#email">E-mailek küldése és fogadása</a></span></dt><dd><dl><dt><span class="section"><a href="email-settings.html#email-sending">E-mailek küldése</a></span></dt><dd><dl><dt><span class="section"><a href="email-settings.html#email-sending-sendmail">Sendmail használatával (alapértelmezett)</a></span></dt><dt><span class="section"><a href="email-settings.html#email-sending-smtp">SMTP-kiszolgáló vagy Smarthost használatával</a></span></dt></dl></dd><dt><span class="section"><a href="email-settings.html#email-receiving">E-mailek fogadása</a></span></dt><dd><dl><dt><span class="section"><a href="email-settings.html#email-receiving-pop3">Az OTRS grafikus felületén keresztül beállított levelezési fiókok</a></span></dt><dt><span class="section"><a href="email-settings.html#email-receiving-cmd">Parancssori programon keresztül és procmail használatával
(<code class="filename">otrs.Console.pl Maint::PostMaster::Read</code>)</a></span></dt><dt><span class="section"><a href="email-settings.html#email-receiving-fetchmail">E-mailek lekérése POP3 vagy IMAP protokollon és a fetchmail programon
keresztül az <code class="filename">otrs.Console.pl Maint::PostMaster::Read</code>
parancsfájlhoz</a></span></dt><dt><span class="section"><a href="email-settings.html#email-receiving-filter">Szűrés vagy kézbesítés az OTRS/PostMaster modulokkal (bonyolultabb
kézbesítésnél)</a></span></dt><dt><span class="section"><a href="email-settings.html#email-filter-troubleshooting">Hibaelhárítási e-mail szűrés</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="email-settings.html#configure-pgp">Biztonságos e-mail PGP használatával</a></span></dt><dt><span class="section"><a href="email-settings.html#smime">Biztonságos e-mail S/MIME használatával</a></span></dt><dd><dl><dt><span class="section"><a href="email-settings.html#SMIMEFetchFromCustomer">S/MIME tanúsítványok lekérése az ügyfél-felhasználó háttérprogramokból</a></span></dt></dl></dd></dl></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="email"></a>E-mailek küldése és fogadása</h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="email-sending"></a>E-mailek küldése</h4></div></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="email-sending-sendmail"></a>Sendmail használatával (alapértelmezett)</h5></div></div></div><p>
Az OTRS a következőkön keresztül tudja kiküldeni az e-maileket: <a class="ulink" href="http://www.sendmail.org/" target="_top">Sendmail</a>, <a class="ulink" href="http://www.postfix.org/" target="_top">Postfix</a>, <a class="ulink" href="http://www.qmail.org" target="_top">Qmail</a> vagy <a class="ulink" href="http://www.exim.org" target="_top">Exim</a>. Az alapértelmezett beállítás a
Sendmail használata, és működnie kell anélkül, hogy bármit csinálnánk vele.
</p><p>
A Sendmail beállításait a grafikus beállítási felületen
(<code class="literal">Framework::Core::Sendmail</code>) keresztül állíthatja be.
</p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="email-sending-smtp"></a>SMTP-kiszolgáló vagy Smarthost használatával</h5></div></div></div><p>
Az OTRS el tudja küldeni az e-maileket SMTP (<a class="ulink" href="http://www.ietf.org/rfc/rfc821.txt" target="_top">Simple Mail Transfer Protocol / RFC
821</a>) vagy biztonságos SMTP protokollokon keresztül.
</p><p>
Az SMTP-kiszolgáló beállításai a rendszerbeállításokon
(<code class="literal">Framework::Core::Sendmail</code>) keresztül állíthatók be. Ha
nem látja az SMTPS lehetőség elérhetőségét, akkor a szükséges Perl-modulok
hiányoznak. Ebben az esetben nézze meg az <a class="link" href="manual-installation-of-otrs.html#installation-of-perl-modules" title="2. lépés: további Perl-modulok telepítése">„OTRS-hez szükséges Perl-modulok
telepítése”</a> szakaszt az utasításokért.
</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="email-receiving"></a>E-mailek fogadása</h4></div></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="email-receiving-pop3"></a>Az OTRS grafikus felületén keresztül beállított levelezési fiókok</h5></div></div></div><p>
Az OTRS képes e-maileket fogadni POP3, POP3S, IMAP és IMAPS levelezési
fiókokból.
</p><p>
A levelezési fiókokat az adminisztrációs oldalon lévő „Levelezési
levélfiókok” hivatkozáson keresztül állítsa be.
</p><p>
Ha egy új levelezési fiókot hoznak létre (lásd a lenti ábrát), akkor annak
levelező-kiszolgálóját, bejelentkezési nevét és jelszavát is meg kell
adni. Ki kell választani a levelező-kiszolgáló típusát is, amely POP3,
POP3S, IMAP vagy IMAPS lehet. Ha nem látja a kiszolgáló típusát elérhető
lehetőségként, akkor a szükséges Perl-modulok hiányoznak a
rendszerről. Ebben az esetben nézze meg az <a class="link" href="manual-installation-of-otrs.html#installation-of-perl-modules" title="2. lépés: további Perl-modulok telepítése">„OTRS-hez szükséges Perl-modulok
telepítése”</a> szakaszt az utasításokért.</p><p>
</p><div class="figure"><a name="id-1.6.5.2.3.2.5.1"></a><p class="title"><b>4.66. ábra - Egy levelezőfiók hozzáadása</b></p><div class="figure-contents"><div class="screenshot"><div><img src="screenshots/administration/email/add-mailaccount.png" alt="Egy levelezőfiók hozzáadása"></div></div></div></div><p><br class="figure-break">
</p><p>Ha az „Igen” értéket választja a „Megbízható” beállítás értékénél, akkor egy
bejövő üzenethez csatolt bármely X-OTRS fejléc kiértékelésre és
végrehajtásra kerül. Mivel az X-OTRS fejléc végrehajthat néhány műveletet a
jegyrendszeren, ezért csak az ismert küldőknél kell beállítania a
„Megbízható” beállítást „Igen” értékre. Az X-OTRS-Headers fejléceket a <a class="link" href="administration.html#adminarea-postmasterfilter" title="Bejövő e-mail üzenetek szűrése">szűrő modul</a> használja az
OTRS-ben. Az X-OTRS fejlécek <a class="link" href="administration.html#table-of-x-otrs-headers" title="4.5. táblázat - A különböző X-OTRS-fejlécek funkciója">ebben a
táblázatban</a> vannak részletesebben bemutatva. Minden létrehozott
levelezési szűrőszabály végrehajtásra kerül, tekintet nélkül a „Megbízható”
lehetőség beállítására.
</p><p>
A bejövő üzenetek elosztása akkor szabályozható, ha azokat a várólista vagy
a „Címzett:” mező tartalma szerint szükséges rendezni. Ha a „Szétválogatás a
kiválasztott várólista szerint” van kiválasztva a „Kézbesítés” mezőnél,
akkor az összes bejövő üzenet a megadott várólistába lesz rendezve. Ebben az
esetben figyelmen kívül lesz hagyva az a cím, ahová a levél el lett
küldve. Ha a „Szétválogatás a levél címzett mezője szerint” van kiválasztva,
akkor a rendszer ellenőrzi, hogy egy várólista össze van-e kapcsolva a
bejövő levél címzett mezőjében lévő címmel. Az adminisztrációs oldal <a class="link" href="administration.html#adminarea-emailaddresses" title="Rendszer e-mail címek">E-mail cím kezelés</a> szakaszában
kapcsolhat össze egy címet egy várólistával. Ha a címzett mezőben lévő cím
össze van kapcsolva egy várólistával, akkor az új üzenet a hozzákapcsolt
várólistába lesz rendezve. Ha nem található kapcsolat a címzett mezőben lévő
cím és valamely várólista között, akkor az üzenet a rendszeren lévő „Nyers”
várólistába fog kerülni, amely egy alapértelmezett telepítés után a <a class="link" href="ConfigReference_Ticket.html#ConfigReference_Ticket:Core::PostMaster:PostmasterDefaultQueue">PostmasterDefaultQueue</a>.
</p><p>
A levelezési fiókok összes adata az OTRS adatbázisban van elmentve. A
<code class="filename">bin/otrs.Console.pl Maint::PostMaster::MailAccountFetch</code>
parancs az adatbázisban lévő beállításokat használja, és lekéri a
leveleket. Végrehajthatja kézzel is annak ellenőrzéséhez, hogy az összes
levelezési beállítása megfelelően működik-e.
</p><p>
Egy normál telepítéskor a levelet minden 10. percben le fogja kérni az OTRS
démon.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Megjegyzés</h3><p>
A levél lekérésekor az OTRS törli a levelet a POP vagy az
IMAP-kiszolgálóról. Nincs lehetőség egy másolat megtartására a kiszolgálón
is. Ha meg szeretne tartani egy másolatot a kiszolgálón, akkor továbbítási
szabályokat kell létrehoznia a levelező-kiszolgálóján. A részletekért nézzen
utána a levelező-kiszolgálója dokumentációjában.
</p></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="email-receiving-cmd"></a>Parancssori programon keresztül és procmail használatával
(<code class="filename">otrs.Console.pl Maint::PostMaster::Read</code>)</h5></div></div></div><p>
Ha nem tud levelezési fiókokat használni az e-mailek lekéréséhez az OTRS-be,
akkor a <code class="filename">bin/otrs.Console.pl Maint::PostMaster::Read</code>
parancssori program megoldás lehet a problémára. A szabványos bemeneten
keresztül fogadja a leveleket, és közvetlenül az OTRS-be irányítja át
azokat. Ez azt jelenti, hogy az e-mail akkor lesz elérhető az OTRS
rendszerben, ha az MDA (levélkézbesítő ügynök, például procmail) végrehajtja
ezt a programot.
</p><p>
A <code class="filename">bin/otrs.Console.pl Maint::PostMaster::Read</code> MDA
nélküli teszteléséhez hajtsa végre a következő parancsfájl parancsát.
</p><p>
</p><pre class="screen">
linux:/opt/otrs# cd bin
linux:/opt/otrs/bin# cat ../doc/sample_mails/test-email-1.box | ./otrs.Console.pl Maint::PostMaster::Read
linux:/opt/otrs/bin#
</pre><p>
</p><p>
<span class="emphasis"><em>Parancsfájl: Levelezés tesztelése az MDA nélkül.</em></span>
</p><p>
Ha az e-mail látható a várólista nézetben, akkor a beállítása működik.
</p><div class="example"><a name="procmail-queue-routing"></a><p class="title"><b>4.2. példa - Útválasztás a procmail programon keresztül az
<code class="filename">otrs.Console.pl</code> használatával</b></p><div class="example-contents"><p>
Annak érdekében, hogy a leveleket egy adott várólistába irányítsa a
<code class="filename">otrs.Console.pl</code> használatával, használja a következő
példát.
</p><p>
</p><pre class="screen">
| $SYS_HOME/bin/otrs.Console.pl Maint::PostMaster::Read --target-queue=VÁRÓLISTANÉV
</pre><p>
</p><p>
Egy alvárólistába történő rendezéskor két kettősponttal
(<code class="literal">::</code>) kell elválasztania a szülő és a gyermek várólistát.
</p><p>
</p><pre class="screen">
| $SYS_HOME/bin/otrs.Console.pl Maint::PostMaster::Read --target-queue=VÁRÓLISTANÉV::ALVÁRÓLISTA
</pre><p>
</p></div></div><br class="example-break"><p>
A Procmail nagyon gyakori e-mail szűrő Linux környezetekben. A legtöbb
rendszerre telepítve van. Ha nincs, akkor vessen egy pillantást a <a class="ulink" href="http://www.procmail.org/" target="_top"><em class="citetitle">procmail
honlapjára</em></a>.
</p><p>
A procmail beállításához az OTRS-hez (egy olyan procmail által beállított
MTA alapján, mint például sendmail, postfix, exim vagy qmail) használja a
<code class="filename">~otrs/.procmailrc.dist</code> fájlt, és másolja át a
<code class="filename">.procmailrc</code> könyvtárba, majd adja hozzá a lenti
parancsfájl sorait.
</p><p>
</p><pre class="programlisting">
SYS_HOME=$HOME
PATH=/bin:/usr/bin:/usr/local/bin
# --
# Az összes e-mail átirányítása a PostMaster folyamatba.
# --
:0 :
| $SYS_HOME/bin/otrs.Console.pl Maint::PostMaster::Read
</pre><p>
</p><p>
<span class="emphasis"><em>Parancsfájl: A procmail beállítása az OTRS-hez.</em></span>
</p><p>
Az összes olyan e-mail, amelyet a helyi OTRS felhasználónak küldenek, át
lesz irányítva a <code class="filename">bin/otrs.Console.pl
Maint::PostMaster::Read</code> parancsfájlba, és ezután megjelenik a
várólista nézetben.
</p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="email-receiving-fetchmail"></a>E-mailek lekérése POP3 vagy IMAP protokollon és a fetchmail programon
keresztül az <code class="filename">otrs.Console.pl Maint::PostMaster::Read</code>
parancsfájlhoz</h5></div></div></div><p>
Azért, hogy lekérje az e-mailt a levelező-kiszolgálóról egy POP3 vagy IMAP
postafiókon keresztül az OTRS gépre vagy a helyi OTRS fiókba, illetve a
procmail programba, használja a <a class="ulink" href="http://www.fetchmail.info/" target="_top">fetchmail</a> programot.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Megjegyzés</h3><p>
Egy működő SMTP beállítás szükséges az OTRS gépen.
</p></div><p>
Használhatja az OTRS saját könyvtárában lévő
<code class="filename">.fetchmailrc.dist</code> fájlt, és átmásolhatja a
<code class="filename">.fetchmailrc</code> könyvtárba. Módosítsa vagy változtassa meg
az igényei szerint (lásd a lenti példát).
</p><div class="example"><a name="fetchmailrc"></a><p class="title"><b>4.3. példa - <code class="literal">.fetchmailrc</code></b></p><div class="example-contents"><p>
</p><pre class="programlisting">
#poll (levelező-kiszolgáló) protocol POP3 user (felhasználó) password (jelszó) is (helyi felhasználó)
poll mail.example.com protocol POP3 user joe password mama is otrs
</pre><p>
</p></div></div><br class="example-break"><p>
Ne felejtse el a <code class="filename">.fetchmailrc</code> jogosultságát 710-re
állítani (<span class="command"><strong>chmod 710 .fetchmailrc</strong></span>)!
</p><p>
A fenti példában lévő <code class="filename">.fetchmailrc</code> fájllal az összes
e-mail továbbítva lesz a helyi OTRS fiókba, ha a <span class="command"><strong>fetchmail
-a</strong></span> parancs végrehajtásra kerül. Állítson be egy cron-feladatot
ezzel a paranccsal, ha rendszeresen le szeretné kérni a leveleket.
</p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="email-receiving-filter"></a>Szűrés vagy kézbesítés az OTRS/PostMaster modulokkal (bonyolultabb
kézbesítésnél)</h5></div></div></div><p>
Ha a <code class="filename">bin/otrs.Console.pl Maint::PostMaster::Read</code> vagy a
<code class="filename">bin/otrs.Console.pl Maint::PostMaster::MailAccountFetch</code>
módszert használja, akkor X-OTRS fejlécbejegyzéseket szúrhat be vagy
módosíthat a PostMaster szűrőmodullal. Az X-OTRS fejlécekkel a jegyrendszer
végrehajthat néhány műveletet a bejövő leveleken, egy adott várólistába
rendezheti azokat, megváltoztathatja a prioritást vagy megváltoztathatja az
ügyfél-azonosítót például. Az X-OTRS fejlécekkel kapcsolatban további
információk érhetők el az OTRS adminisztrációs oldaláról a <a class="link" href="administration.html#adminarea-postmasterpop3-account" title="Levelező fiókok használata">levelezőfiókok
hozzáadásáról</a> szóló szakaszban.
</p><p>
Van néhány alapértelmezett szűrőmodul:
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Megjegyzés</h3><p>
A feladatnévnek (például
$Self-&gt;{'PostMaster::PreFilterModule'}-&gt;{'Feladatnév'}) egyedinek kell
lennie!
</p></div><p>
A <code class="literal">Kernel::System::PostMaster::Filter::Match</code> egy
alapértelmezett modul néhány e-mail fejléc illesztéséhez (például feladó,
címzett, tárgy, stb.). Új e-mail fejléceket (például X-OTRS-Ignore: yes vagy
X-OTRS-Queue: spam) állíthat be, ha egy szűrőszabály illeszkedik. A lenti
példa feladatai beszúrhatók a <code class="filename">Kernel/Config.pm</code> fájlba.
</p><div class="example"><a name="filter-module-match-example"></a><p class="title"><b>4.4. példa - Példafeladatok a
<code class="literal">Kernel::System::PostMaster::Filter::Match</code> szűrőmodulhoz</b></p><div class="example-contents"><p>
</p><pre class="programlisting">
    # Feladatnév: 1-Illesztes
    # (az összes levélszemét blokkolása/mellőzése a noreply@ feladótól)
    $Self-&gt;{'PostMaster::PreFilterModule'}-&gt;{'1-Illesztes'} = {
        Module =&gt; 'Kernel::System::PostMaster::Filter::Match',
        Match =&gt; {
            From =&gt; 'noreply@',
        },
        Set =&gt; {
            'X-OTRS-Ignore' =&gt; 'yes',
        },
    };
    # Feladatnév: 2-Illesztes
    # (e-mailek rendezése a sales@example.com feladóval és a **RENDELÉS**
    # tárggyal a „Rendelés” várólistába)
    $Self-&gt;{'PostMaster::PreFilterModule'}-&gt;{'2-Illesztes'} = {
        Module =&gt; 'Kernel::System::PostMaster::Filter::Match',
        Match =&gt; {
            To =&gt; 'sales@example.com',
            Subject =&gt; '**RENDELÉS**',
        },
        Set =&gt; {
            'X-OTRS-Queue' =&gt; 'Rendelés',
        },
    };
</pre><p>
</p></div></div><br class="example-break"><p>
A <code class="literal">Kernel::System::PostMaster::Filter::CMD</code> egy
alapértelmezett modul az e-mail átirányításához egy külső parancsnak. A
kimenet a szabványos kimenetre kerül, és ha az eredmény igaz, akkor új
e-mail fejlécet állít be (például X-OTRS-Ignore: yes vagy X-OTRS-Queue:
spam). A lenti példa használható a <code class="filename">Kernel/Config.pm</code>
fájlban.
</p><div class="example"><a name="filter-module-cmd-example"></a><p class="title"><b>4.5. példa - Példafeladat a Kernel::System::PostMaster::Filter::CMD szűrőmodulhoz</b></p><div class="example-contents"><p>
</p><pre class="programlisting">
    # Feladatnév: 5-SpamAssassin
    # (SpamAssassin példabeállítás, levélszemét e-mailek mellőzése)
    $Self-&gt;{'PostMaster::PreFilterModule'}-&gt;{'5-SpamAssassin'} = {
        Module =&gt; 'Kernel::System::PostMaster::Filter::CMD',
        CMD =&gt; '/usr/bin/spamassassin | grep -i "X-Spam-Status: yes"',
        Set =&gt; {
            'X-OTRS-Ignore' =&gt; 'yes',
        },
    };
</pre><p>
</p></div></div><br class="example-break"><p>
    A
<code class="literal">Kernel::System::PostMaster::Filter::ExternalTicketNumberRecognition</code>
egy alapértelmezett modul, amely az e-mail tárgyában, törzsében, vagy
mindkettőben lévő külső azonosítók feldolgozásának képességét adja hozzá
reguláris kifejezések használatával. Ezután eltárolja ezt az értéket egy
meghatározott dinamikus mezőben. Amikor egy e-mail érkezik, akkor az OTRS
először egy külső azonosítót fog keresni, és amikor talál egyet, akkor az
OTRS lekérdezi az előre meghatározott dinamikus mezőt. Ha egy meglévő jegyet
talál, akkor frissíteni fogja azt a jegyet, egyébként egy új jegyet fog
létrehozni a külső hivatkozásszámmal a különálló mezőben.
</p><p>
    Az OTRS rendszerbeállítás már 4 különböző beállítást biztosít a különböző
külső jegyszámok beállításához. Ha több beállításra van szükség, akkor
azokat kézzel kell hozzáadni. A következő példa használható a
<code class="filename">Kernel/Config.pm</code> fájlban a rendszerbeállítás
beállításainak kiterjesztéséhez.
</p><div class="example"><a name="filter-module-externalticketrecognition-example"></a><p class="title"><b>4.6. példa - 
        Példafeladat a
<code class="literal">Kernel::System::PostMaster::Filter::ExternalTicketNumberRecognition</code>
szűrőmodulhoz
    </b></p><div class="example-contents"><pre class="programlisting">
# Feladatnév: KulsoJegyszamFelismeres
    # Külső jegyszám felismerés: az Incidens-&lt;szám&gt; keresése a bejövő
    # levelek tárgyában és törzsében, valamint a &lt;küldő&gt;@externalticket.com
    # keresése a feladó címeiben. Ha található szám, akkor az eltárolásra
    # kerül a „KulsoSzam” dinamikus mezőben (amelyet az adminisztrációs
    # panelen kell beállítani).
    $Self-&gt;{'PostMaster::PreFilterModule'}-&gt;{'KulsoJegyszamFelismeres'} = {
        'FromAddressRegExp' =&gt; '\\s*@externalticket.com',
        'NumberRegExp'      =&gt; 'Incidens-(\\d.*)',
        'SearchInSubject'   =&gt; '1',
        'SearchInBody'      =&gt; '1',
        'TicketStateTypes'  =&gt; 'new;open'
        'DynamicFieldName'  =&gt; 'KulsoSzam',
        'Module'            =&gt; 'Kernel::System::PostMaster::Filter::ExternalTicketNumberRecognition',
        'Name'              =&gt; 'Külső jegyszám tesztelése',
        'SenderType'        =&gt; 'system',
    };
    </pre></div></div><br class="example-break"><div class="itemizedlist"><p><span class="emphasis"><em>Beállítási lehetőségek</em></span></p><ul class="itemizedlist" type="round"><li class="listitem"><p>Feladócím reguláris kifejezés (FromAddressRegExp)</p><p>
            Ez egy opcionális beállítás. Csak az ezen „Feladó:” címre illeszkedő levelek
lesznek figyelembe véve ennél a szűrőnél. Beállíthatja ezt a beállítást arra
a feladó címre, amelyet a külső rendszer használ a kimenő leveleknél. Abban
az esetben, ha ez a cím eltérő is lehet, akkor beállíthatja üresre ezt a
beállítást. Az OTRS abban az esetben nem fogja ellenőrizni a küldő címét.
        </p></li><li class="listitem"><p>Szám reguláris kifejezés (NumberRegExp)</p><p>
            Ez egy kötelező beállítás. Ez a beállítás tartalmazza azt a reguláris
kifejezést, amelyet az OTRS a jegyszám kiszedéséhez fog használni a tárgyból
és/vagy a jegy törzséből. Az alapértelmezett reguláris kifejezés illeszkedni
fog például az „Incidens-12354” előfordulásaira, és be fogja tenni a
zárójelek közti részt a dinamikus mezőbe, ebben az esetben az „12354”
számot.
        </p></li><li class="listitem"><p>Keresés a tárgyban (SearchInSubject)</p><p>Ha ez „1” értékre van állítva, akkor az e-mail tárgyában fogja keresni a
jegyszámot.</p></li><li class="listitem"><p>Keresés a törzsben (SearchInBody)</p><p>Ha ez „1” értékre van állítva, akkor az e-mail törzsében fogja keresni a
jegyszámot.</p></li><li class="listitem"><p>Jegyállapot típusok (TicketStateTypes)</p><p>
            Ez egy opcionális beállítás. Ha meg van adva, akkor az OTRS csak a megadott
állapottípusok nyitott külső jegyeit fogja keresni. Az állapottípusok
pontosvesszővel vannak elválasztva.
        </p></li><li class="listitem"><p>Dinamikus mező (DynamicField)</p><p>
            Ez egy kötelező beállítás. Azt a dinamikus mezőt határozza meg, amely a
külső szám tárolására lesz használva (a mezőnévnek léteznie kell a
rendszeren, és érvényesnek kell lennie).
        </p></li><li class="listitem"><p>Küldő típusa (SenderType)</p><p>Ez határozza meg az OTRS-ben létrehozott bejegyzéseknél használt küldő
típusát.</p></li></ul></div><p>
    A <code class="literal">Kernel::System::PostMaster::Filter::Decrypt</code> egy olyan
alapértelmezett modul, amely képes visszafejteni egy titkosított bejövő
e-mail üzenetet (S/MIME vagy PGP) a titkosítatlan üzenettörzs elhelyezésével
az X-OTRS-BodyDecrypted e-mail fejlécben a későbbi feldolgozáshoz. Továbbá
frissíteni is tudja az e-mail törzsét a titkosítatlan verzióhoz.
</p><p>
    Az e-mailek visszafejtésének érdekében a rendszer megfelelő beállítása
szükséges az S/MIME és/vagy PGP beállításoknál, valamint rendelkeznie kell a
szükséges személyes kulcsokkal az információk visszafejtéséhez.
</p><p>
    Ez a modul alapértelmezetten le van tiltva, és közvetlenül az
adminisztrációs panelen lévő rendszerbeállításokban állítható be.
</p><div class="itemizedlist"><p><span class="emphasis"><em>Beállítási lehetőségek</em></span></p><ul class="itemizedlist" type="round"><li class="listitem"><p>Visszafejtett törzs tárolása (StoreDecryptedBody)</p><p>
            Állítsa ezt a lehetőséget „1” értékre az e-mail törzsének frissítéséhez a
titkosítatlan verzióra, ha a visszafejtés sikeres volt. Legyen tisztában
azzal, hogy ennek használatával az e-mailek titkosítatlanul lesznek tárolva,
és nincs lehetséges mód a művelet visszafordítására.
        </p></li></ul></div><p>
Természetesen lehetséges saját levelezési szűrőmodulok kifejlesztése is.
</p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="email-filter-troubleshooting"></a>Hibaelhárítási e-mail szűrés</h5></div></div></div><p>Ez a szakasz néhány gyakori hibát és megfontolandó dolgot mutat be a
levelezési szűrők hibaelhárításakor.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>A szűrők az ábécé-sorrendbe rendezett szűrőnevük sorrendjében működnek. Az
utolsó szűrő nyer egy bizonyos beállítandó mezőnél, amikor a feltételek
kétszer illeszkednek.</p></li><li class="listitem"><p>A „Leállítás találat után” megakadályozhat egy második találatot.</p></li><li class="listitem"><p>Győződjön meg arról, hogy a reguláris kifejezés érvényes-e.</p></li><li class="listitem"><p>A fejlécek beállíthatók az OTRS vezérléséhez, de magába a levélbe nincsenek
beírva.</p></li><li class="listitem"><p>Egy feladó, másolat, címzett illesztésekor használja az EMAILADDRESS:
&lt;sajat@cim&gt; beállítást.</p></li><li class="listitem"><p>A postafióknak megbízhatónak kell lennie.</p></li><li class="listitem"><p>Az illesztési feltételek ÉS kapcsolatban vannak.</p></li><li class="listitem"><p>A jegytulajdonságok nem illeszthetők a levelezési szűrővel.</p></li></ul></div></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="configure-pgp"></a>Biztonságos e-mail PGP használatával</h3></div></div></div><p>
Az OTRS rendelkezik a kimenő üzenetek PGP-vel történő aláírásának vagy
titkosításának képességével. Továbbá a titkosított bejövő üzenetek is
visszafejthetők. A titkosítás és a visszafejtés a GnuPG GPL-eszköz
használatával végezhető el. A GnuPG beállításához az OTRS-nél a következő
lépéseket kell végrehajtani:
</p><p>
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
    Telepítse a GnuPG programot az operációs rendszere csomagkezelőjén
keresztül.
    </p></li><li class="listitem"><p>
    Állítsa be a GnuPG programot az OTRS-sel való használathoz. Létre kell hozni
a GnuPG szükséges könyvtárait és egy személyes kulcsot. A lenti
parancsfájlban látható parancsot „otrs” felhasználóként kell végrehajtani
egy parancsértelmezőből.
    </p><p>
    </p><pre class="screen">
    linux:~# su otrs
    linux:/root$ cd
    linux:~$ pwd
    /opt/otrs
    linux:~$ gpg --gen-key
    gpg (GnuPG) 1.4.2; Copyright (C) 2005 Free Software Foundation, Inc.
    This program comes with ABSOLUTELY NO WARRANTY.
    This is free software, and you are welcome to redistribute it
    under certain conditions. See the file COPYING for details.

    gpg: directory `/opt/otrs/.gnupg' created
    gpg: new configuration file `/opt/otrs/.gnupg/gpg.conf' created
    gpg: WARNING: options in `/opt/otrs/.gnupg/gpg.conf' are not yet active during t
    his run
    gpg: keyring `/opt/otrs/.gnupg/secring.gpg' created
    gpg: keyring `/opt/otrs/.gnupg/pubring.gpg' created
    Please select what kind of key you want:
       (1) DSA and Elgamal (default)
       (2) DSA (sign only)
       (5) RSA (sign only)
    Your selection? 1
    DSA keypair will have 1024 bits.
    ELG-E keys may be between 1024 and 4096 bits long.
    What keysize do you want? (2048)
    Requested keysize is 2048 bits
    Please specify how long the key should be valid.
         0 = key does not expire
      &lt;n&gt;  = key expires in n days
      &lt;n&gt;w = key expires in n weeks
      &lt;n&gt;m = key expires in n months
      &lt;n&gt;y = key expires in n years
    Key is valid for? (0)
    Key does not expire at all
    Is this correct? (y/N) y

    You need a user ID to identify your key; the software constructs the user ID
    from the Real Name, Comment and Email Address in this form:
        "Heinrich Heine (Der Dichter) &lt;heinrichh@duesseldorf.de&gt;"

    Real name: Ticket System
    Email address: support@example.com
    Comment: Private PGP Key for the ticket system with address support@example.com
    You selected this USER-ID:
    "Ticket System (Private PGP Key for the ticket system with address support@examp
    le.com) &lt;support@example.com&gt;"

    Change (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? O
    You need a Passphrase to protect your secret key.

    Passphrase: secret
    Repeat passphrase: secret

    We need to generate a lot of random bytes. It is a good idea to perform
    some other action (type on the keyboard, move the mouse, utilize the
    disks) during the prime generation; this gives the random number
    generator a better chance to gain enough entropy.
    ++++++++++.+++++++++++++++++++++++++....+++++.+++++...+++++++++++++++++++++++++.
    +++++++++++++++++++++++++.+++++.+++++.+++++++++++++++++++++++++&gt;++++++++++&gt;+++++
    .......&gt;+++++&lt;+++++................................+++++

    Not enough random bytes available.  Please do some other work to give
    the OS a chance to collect more entropy! (Need 280 more bytes)

    ++++++++++.+++++..++++++++++..+++++....++++++++++++++++++++.+++++++++++++++.++++
    ++++++++++++++++++++++++++.++++++++++.+++++++++++++++.++++++++++.+++++++++++++++
    ..+++++&gt;.+++++....&gt;+++++........................................................
    ...........................................................&gt;+++++&lt;+++++.........
    .............+++++^^^
    gpg: /opt/otrs/.gnupg/trustdb.gpg: trustdb created
    gpg: key 7245A970 marked as ultimately trusted
    public and secret key created and signed.

    gpg: checking the trustdb
    gpg: 3 marginal(s) needed, 1 complete(s) needed, PGP trust model
    gpg: depth: 0  valid:   1  signed:   0  trust: 0-, 0q, 0n, 0m, 0f, 1u
    pub   1024D/7245A970 2006-02-03
          Key fingerprint = 2ED5 BC36 D2B6 B055 7EE1  5833 1D7B F967 7245 A970
     uid                  Ticket System (Private pgp key for ticket system with addre
    ss support@example.com) &lt;support@example.com&gt;
    sub   2048g/52B97069 2006-02-03

    linux:~$
    </pre><p>
    </p><p>
    <span class="emphasis"><em>Parancsfájl: A GnuPG beállítása.</em></span>
    </p><p>
        Amint a lenti parancsfájlban látható, az alapértelmezett beállítások a
szükséges paraméterek legtöbbjénél alkalmazhatók. Csak a kulcs
tulajdonosának értékeit kell helyesen megadni egy megfelelően megadott
jelszóval a kulcsnál.
    </p></li><li class="listitem"><p>
    A <a class="link" href="ConfigReference_Framework.html#ConfigReference_Framework:Crypt::PGP" title="Framework → Crypt::PGP">PGP</a>
beállításainak képernyőjén aktiválni kell a PGP-t az OTRS-hez (első
lehetőség). A gpg program útvonalát is be kell állítani és ellenőrizni kell.
    </p><p>
    A következő konfigurációs beállítás (PGP::Options) is változtatást
igényelhet. Ezen konfigurációs beállításon keresztül adhatók meg azok a
paraméterek, amelyeket az „otrs” felhasználó a gpg minden egyes
végrehajtásánál használ. Különösen az „otrs” felhasználó GnuPG
beállítófájljainak könyvtára fontos. A példában az
<code class="filename">/opt/otrs/.gnupg</code> könyvtár van használatban. Ez a
könyvtár korábban lett létrehozva a PGP beállítása közben.
    </p><p>
        A következő konfigurációs beállításon keresztül (PGP::Key::Password)
lehetséges a kulcsazonosítók és azok jelszavai párjainak megadása a saját
személyes kulcsainknál. Mivel a kommunikációs partnerek kívülről írják a
jegyrendszerbe az Ön nyilvános kulcsával titkosított üzeneteiket, ezért az
OTRS képes visszafejteni ezeket az üzeneteket az itt megadott azonosítókkal
és jelszavakkal.
    </p><p>
    Hogyan kérhető le a saját személyes kulcsának azonosítója? A saját személyes
kulcsának azonosítója már látható volt a kulcs előállítása során (lásd a
fenti 1. lépést). Akkor is lehetséges az azonosító lekérése, ha a következő
parancsfájlban megadott parancsfájlt „otrs” felhasználóként hajtják végre:
    </p><p>
    </p><pre class="screen">
    linux:~# su otrs
    linux:/root$ cd
    linux:~$ pwd
    /opt/otrs
    linux:~$ gpg --list-keys
    /opt/otrs/.gnupg/pubring.gpg
    ----------------------------
    pub   1024D/7245A970 2006-02-03
    uid                  Ticket System (Private pgp key for ticket system with
    address support@example.com) &lt;support@example.com&gt;
    sub   2048g/52B97069 2006-02-03

    linux:~$
    </pre><p>
    </p><p>
    <span class="emphasis"><em>Parancsfájl: A saját személyes kulcsa azonosítójának
lekérése.</em></span>
    </p><p>
    A személyes kulcs azonosítója megtalálható a „sub” kezdetű sorban. Ez egy
hexadecimális szöveg, amely nyolc karakter hosszú. A fenti példában ez
„52B97069”. A jelszó, amelyet ehhez a kulcshoz meg kell adnia a
jegyrendszeren, ugyanaz mint amit a kulcs előállítása során megadtak.
    </p><p>
    Miután ezek az adatok beszúrásra kerültek, a „Frissítés” gomb használható a
beállítások elmentéséhez. Az OTRS most már készen áll a kódolt üzenetek
fogadására és visszafejtésére.
    </p></li><li class="listitem"><p>
    Végezetül importálja egy ügyfél nyilvános kulcsát. Ez biztosítja, hogy
titkosított üzeneteket lehessen kiküldeni ennek az ügyfélnek. Két módja van
egy ügyfél nyilvános kulcsának importálására.
    </p><p>
    Az első mód egy ügyfél nyilvános kulcsának megadása az ügyfélkezelés
felületen.
    </p><p>
    A második módszer a kulcs megadása az adminisztrációs oldalról elérhető PGP
beállításain keresztül. Ezen képernyő jobb oldalán az ügyfelek korábban
importált összes nyilvános kulcsa megjelenítésre kerül. Miután a PGP be lett
kapcsolva és beállításra került az OTRS-hez, a saját nyilvános kulcsának is
itt kell lennie felsorolva. A PGP-beállítás képernyőjének bal oldalán a
kulcsok keresése lehetséges. Egy új nyilvános kulcs is feltölthető a
rendszerbe egy fájlból.
    </p><p>
    A nyilvános kulcsot tartalmazó fájloknak, amelyeket szükséges az OTRS-be
importálni, GnuPGP kompatibilis kulcsfájloknak kell lenniük. A legtöbb
esetben a fájlban tárolt kulcs egy „ASCII armored key”. Az OTRS tudja
kezelni ezt a formátumot.
    </p></li></ol></div><p>
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="smime"></a>Biztonságos e-mail S/MIME használatával</h3></div></div></div><p>
Első pillantásra az S/MIME használatával történő titkosítás egy kicsit
bonyolultabbnak tűnik a PGP használatánál. Először ki kell építenie egy
hitelesítés szolgáltatót (CA) az OTRS rendszerhez. Az ezt követő lépések
nagyon hasonlóak azokhoz, amelyek a PGP-nél szükségesek voltak: az OTRS
beállítása, saját tanúsítvány telepítése, egyéb nyilvános tanúsítványok
importálása szükség szerint, stb.
</p><p>
Az S/MIME beállítás javarészt az OTRS webes felületén kívül van
levezényelve, és egy parancsértelmezőben kell végrehajtania az „otrs”
felhasználónak. A MIME-beállítás Linux alatt az SSL (OpenSSL) alapján
történik. Ezért mindenek előtt azt ellenőrizze, hogy az OpenSSL csomag
telepítve van-e a rendszerre. Az OpenSSL csomag tartalmaz egy CA.pl nevű
parancsfájlt, amellyel elvégezhetők a tanúsítvány-létrehozás legfontosabb
lépései. Az eljárás egyszerűsítéséhez találja meg, hogy hol van eltárolva a
fájlrendszeren a CA.pl parancsfájl, és adja meg a helyét átmenetileg a
parancsértelmező PATH változójába (lásd a lenti parancsfájlt).
</p><p>
</p><pre class="screen">
otrs@linux:~&gt; rpm -ql openssl | grep CA
/usr/share/ssl/misc/CA.pl
otrs@linux:~&gt; export PATH=$PATH:/usr/share/ssl/misc
otrs@linux:~&gt; which CA.pl
/usr/share/ssl/misc/CA.pl
otrs@linux:~&gt; mkdir tmp; cd tmp
otrs@linux:~/tmp&gt;
</pre><p>
</p><p>
<span class="emphasis"><em>Parancsfájl: Az S/MIME beállítása.</em></span>
</p><p>
A fenti parancsfájl azt mutatja be, hogy egy új ~/tmp átmeneti könyvtár lesz
létrehozva, amelyben a tanúsítvány elő lesz állítva.
</p><p>
Egy tanúsítvány létrehozásához hajtsa végre a következő műveleteket a
parancssorban (feltételezzük, hogy az OTRS adminisztrátornak tesztelési és
tanulási céllal kell egy SSL-tanúsítványt létrehoznia; abban az esetben, ha
már rendelkezik egy minősített SSL-tanúsítvánnyal a titkosításhoz, akkor
használja azt, és hagyja ki ezeket a lépéseket):
</p><p>
</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
    Építse ki a saját hitelesítés szolgáltatóját az SSL-hez. Szüksége lesz rá a
kérelem tanúsításához a saját SSL-tanúsítványánál (lásd a lenti
parancsfájlt).
    </p><p>
    </p><pre class="screen">
otrs@linux:~/tmp&gt; CA.pl -newca
CA certificate filename (or enter to create)

Making CA certificate ...
Generating a 1024 bit RSA private key
...++++++
......++++++
writing new private key to './demoCA/private/cakey.pem'
Enter PEM pass phrase:
Verifying - Enter PEM pass phrase:
-----
You are about to be asked to enter information that will be incorporated
into your certificate request.
What you are about to enter is what is called a Distinguished Name or a DN.
There are quite a few fields but you can leave some blank
For some fields there will be a default value,
If you enter '.', the field will be left blank.
-----
Country Name (2 letter code) [AU]:DE
State or Province Name (full name) [Some-State]:OTRS-state
Locality Name (eg, city) []:OTRS-town
Organization Name (eg, company) [Internet Widgits Pty Ltd]:Your company
Organizational Unit Name (eg, section) []:
Common Name (eg, YOUR name) []:OTRS Admin
Email Address []:otrs@your-domain.tld
otrs@linux:~/tmp&gt; ls -la demoCA/
total 8
-rw-r--r--  1 otrs otrs 1330 2006-01-08 17:54 cacert.pem
drwxr-xr-x  2 otrs otrs   48 2006-01-08 17:53 certs
drwxr-xr-x  2 otrs otrs   48 2006-01-08 17:53 crl
-rw-r--r--  1 otrs otrs    0 2006-01-08 17:53 index.txt
drwxr-xr-x  2 otrs otrs   48 2006-01-08 17:53 newcerts
drwxr-xr-x  2 otrs otrs   80 2006-01-08 17:54 private
-rw-r--r--  1 otrs otrs   17 2006-01-08 17:54 serial
otrs@linux:~/tmp&gt;
    </pre><p>
    </p><p>
    <span class="emphasis"><em>Parancsfájl: Egy hitelesítés szolgáltató kiépítése az
SSL-hez.</em></span>
    </p></li><li class="listitem"><p>
    Állítson elő egy tanúsítványkérést (lásd a lenti parancsfájlt).
    </p><p>
    </p><pre class="screen">
otrs@linux:~/tmp&gt; CA.pl -newreq
Generating a 1024 bit RSA private key
..........................................++++++
....++++++
writing new private key to 'newreq.pem'
Enter PEM pass phrase:
Verifying - Enter PEM pass phrase:
-----
You are about to be asked to enter information that will be incorporated
into your certificate request.
What you are about to enter is what is called a Distinguished Name or a DN.
There are quite a few fields but you can leave some blank
For some fields there will be a default value,
If you enter '.', the field will be left blank.
-----
Country Name (2 letter code) [AU]:DE\keyreturn
State or Province Name (full name) [Some-State]:OTRS-state
Locality Name (eg, city) []:OTRS-town
Organization Name (eg, company) [Internet Widgits Pty Ltd]:Your company
Organizational Unit Name (eg, section) []:
Common Name (eg, YOUR name) []:OTRS admin
Email Address []:otrs@your-domain.tld

Please enter the following 'extra' attributes
to be sent with your certificate request
A challenge password []:
An optional company name []:
Request (and private key) is in newreq.pem
otrs@linux:~/tmp&gt; ls -la
total 4
drwxr-xr-x  6 otrs otrs  232 2006-01-08 17:54 demoCA
-rw-r--r--  1 otrs otrs 1708 2006-01-08 18:04 newreq.pem
otrs@linux:~/tmp&gt;
    </pre><p>
    </p><p>
    <span class="emphasis"><em>Parancsfájl: Egy tanúsítványkérés létrehozása.</em></span>
    </p></li><li class="listitem"><p>
    A tanúsítványkérés aláírása. A tanúsítványkérés lehet aláírt és ezáltal a
saját CA-ja által tanúsítva, vagy hihetőbbé teheti egy másik külső
tanúsított CA által aláírva (lásd a lenti parancsfájlt).
    </p><p>
    </p><pre class="screen">
otrs@linux:~/tmp&gt; CA.pl -signreq
Using configuration from /etc/ssl/openssl.cnf
Enter pass phrase for ./demoCA/private/cakey.pem:
Check that the request matches the signature
Signature ok
Certificate Details:
        Serial Number:
            fd:85:f6:9f:14:07:16:c8
        Validity
            Not Before: Jan  8 17:04:37 2006 GMT
            Not After : Jan  8 17:04:37 2007 GMT
        Subject:
            countryName               = DE
            stateOrProvinceName       = OTRS-state
            localityName              = OTRS-town
            organizationName          = Your Company
            commonName                = OTRS administrator
            emailAddress              = otrs@your-domain.tld
        X509v3 extensions:
            X509v3 Basic Constraints:
                CA:FALSE
            Netscape Comment:
                OpenSSL Generated Certificate
            X509v3 Subject Key Identifier:
                01:D9:1E:58:C0:6D:BF:27:ED:37:34:14:D6:04:AC:C4:64:98:7A:22
            X509v3 Authority Key Identifier:
                keyid:10:4D:8D:4C:93:FD:2C:AA:9A:B3:26:80:6B:F5:D5:31:E2:8E:DB:A8
                DirName:/C=DE/ST=OTRS-state/L=OTRS-town/O=Your Company/
                CN=OTRS admin/emailAddress=otrs@your-domain.tld
                serial:FD:85:F6:9F:14:07:16:C7

Certificate is to be certified until Jan  8 17:04:37 2007 GMT (365 days)
Sign the certificate? [y/n]:y

1 out of 1 certificate requests certified, commit? [y/n]y
Write out database with 1 new entries
Data Base Updated
Signed certificate is in newcert.pem
otrs@linux:~/tmp&gt;
    </pre><p>
    </p><p>
    <span class="emphasis"><em>Parancsfájl: A tanúsítványkérés aláírása.</em></span>
    </p></li><li class="listitem"><p>
    Állítsa elő a saját tanúsítványát és az összes velejáró adatot az aláírt
tanúsítványkérés használatával (lásd a lenti parancsfájlt).
    </p><p>
    </p><pre class="screen">
otrs@linux:~/tmp&gt; CA.pl -pkcs12 "OTRS Certificate"
Enter pass phrase for newreq.pem:
Enter Export Password:
Verifying - Enter Export Password:
otrs@linux:~/tmp&gt; ls -la
total 12
drwxr-xr-x  6 otrs otrs  328 2006-01-08 18:04 demoCA
-rw-r--r--  1 otrs otrs 3090 2006-01-08 18:13 newcert.p12
-rw-r--r--  1 otrs otrs 3791 2006-01-08 18:04 newcert.pem
-rw-r--r--  1 otrs otrs 1708 2006-01-08 18:04 newreq.pem
otrs@linux:~/tmp&gt;
    </pre><p>
    </p><p>
    <span class="emphasis"><em>Parancsfájl: Egy új tanúsítvány előállítása.</em></span>
    </p></li></ol></div><p>
</p><p>
Most, hogy ezeket a műveleteket végrehajtotta, az S/MIME beállításnak
teljesnek kell lennie az OTRS-ben.
</p><p>
A beállítás ezen része az adminisztrációs oldalon történik az <a class="link" href="administration.html#adminarea-smime" title="S/MIME">„SMIME”</a> hivatkozás kiválasztásával. Abban
az esetben, ha az általános S/MIME támogatás az OTRS-ben még nem lett
engedélyezve, a maszk erre rámutat az adminisztrátornak, és egy megfelelő
hivatkozást biztosít az engedélyezéséhez.
</p><p>
A <a class="link" href="ConfigReference_Framework.html#ConfigReference_Framework:Crypt::SMIME" title="Framework → Crypt::SMIME">„Crypt::SMIME”</a>
rendszerbeállítás csoporttal is engedélyezheti és beállíthatja az általános
S/MIME támogatást.
</p><p>
Itt kapcsolhatja be az S/MIME támogatást, és meghatározhatja az útvonalakat
az OpenSSL parancshoz és a könyvtárat a tanúsítványokhoz. A fent létrehozott
kulcsfájlt az itt jelzett könyvtárban kell eltárolni. Egyébként az OpenSSL
nem fogja tudni használni azt.
</p><p>
A következő lépés az <a class="link" href="administration.html#adminarea-smime" title="S/MIME">OTRS adminisztrációs
oldalán lévő S/MIME beállításban</a> kerül végrehajtásra. Itt
importálhatja az OTRS rendszer személyes kulcsait és az egyéb kommunikációs
partnerek nyilvános kulcsait. Adja meg azt a nyilvános kulcsot, amely ezen
szakasz elején lett létrehozva, és hozzáadásra került az OTRS-hez.
</p><p>
Nyilvánvalóan a kommunikációs partnerek összes nyilvános S/MIME kulcsai
importálhatók az <a class="link" href="administration.html#adminarea-customers" title="Ügyfelek">ügyfél-adminisztrációs
eszköz</a> használatával is.
</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="SMIMEFetchFromCustomer"></a>S/MIME tanúsítványok lekérése az ügyfél-felhasználó háttérprogramokból</h4></div></div></div><p>
        Lehetséges egy ügyfél-felhasználó háttérprogram (mint például az LDAP)
használata a nyilvános S/MIME tanúsítványok forrásaként. Ezek a
tanúsítványok importálhatók a rendszerre, és az <a class="link" href="administration.html#adminarea-smime" title="S/MIME">OTRS adminisztrációs oldalán lévő S/MIME
beállításban</a> lesznek megjelenítve, illetve használhatók az OTRS-ből
titkosított e-mailek küldéséhez az ügyfeleknek.
    </p><p>
        A funkció engedélyezéséhez a következőkre van szüksége:
    </p><p>
        </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Engedélyezze az <code class="literal">SMIME</code> beállítást a rendszerbeállításokban</p></li><li class="listitem"><p>Engedélyezze az <code class="literal">SMIME::FetchFromCustomer</code> beállítást a
rendszerbeállításokban</p></li><li class="listitem"><p>
                    Állítson be egy ügyfél-felhasználó háttérprogramot a
<code class="literal">UserSMIMECertificate</code> attribútum megadásához az
ügyfél-felhasználó S/MIME tanúsítványával (van egy példa az LDAP
ügyfél-felhasználó leképezéshez az
<code class="filename">$OTRS_HOME/Kernel/Config/Defaults.pm</code> fájlban).
                </p></li></ol></div><p>
    </p><p>
        Ez a funkció három különböző módon használható:
    </p><p>
        </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
                    Bejövő e-mailek:
                </p><p>
                    Egy dedikált levelezési szűrő
(<code class="literal">PostMaster::PreFilterModule###000-SMIMEFetchFromCustomer</code>
a rendszerbeállításokban) ki fogja bontani minden egyes bejövő levél e-mail
címét, és meg fogja próbálni megkeresni az e-mail címet az ügyfelek
listájában. Ha megtalálta, akkor meg fogja próbálni lekérni az S/MIME
tanúsítványt az ügyfél-felhasználó attribútumaiból. Ha található
tanúsítvány, akkor meg fogja próbálni importálni azt (hacsak nem lett már
importálva).
                </p></li><li class="listitem"><p>
                    Adott e-mail cím vagy az összes ügyfél:
                </p><p>
                    A <code class="literal">Maint::SMIME::CustomerCertificate::Fetch</code> parancssori
parancs használható egy ügyfél e-mail címe S/MIME tanúsítványának
importálásához a következőképpen:
                </p><p>
                    </p><pre class="screen">
shell&gt; perl /opt/otrs/bin/otrs.Console.pl Maint::SMIME::CustomerCertificate::Fetch --email customer@example.com
                    </pre><p>
                </p><p>
                    Ebben az esetben a parancssori parancs meg fogja próbálni ráilleszteni a
megadott e-mail címet az ügyfél-felhasználók egyikére. Ha megtalálta, akkor
meg fogja próbálni hozzáadni a rendszerhez az ügyfél-felhasználó
tulajdonságaiban talált S/MIME tanúsítványt (ha a tanúsítvány még nem lett
hozzáadva).
                </p><p>
                    Ugyanaz a parancssori parancs használható az összes ügyfél-felhasználó
S/MIME tanúsítványának importálásához is (a
<code class="literal">CustomerUserSearchListLimit</code> tulajdonságra korlátozva az
ügyfél-felhasználó háttérprogramból). Ez a beállítás kifejezetten a
nagyszámú ügyfél-felhasználóval rendelkező rendszereknek kedvez, mivel túl
sok időt venne igénybe a végrehajtás, és a korláttól függően lehetőség van
arra, hogy ne az összes ügyféltanúsítvány legyen lekérve. Ebben a módban a
következőképpen hajtsa végre a parancssori parancsot: </p><pre class="screen">
shell&gt; perl /opt/otrs/bin/otrs.Console.pl Maint::SMIME::CustomerCertificate::Fetch --add-all
                    </pre><p>
                </p><p>
                    Ehhez a beállításhoz a parancssori parancs le fogja kérdezni az
ügyfél-felhasználó háttérprogramokat az összes lehetséges ügyfél
lekéréséhez, és minden egyes ügyfélnél ellenőrizni fogja, hogy van-e S/MIME
tanúsítványa. Ha található tanúsítvány, akkor meg fogja próbálni hozzáadni a
rendszerhez (ha a tanúsítvány még nem lett hozzáadva).
                </p></li><li class="listitem"><p>
                    Meglévő tanúsítványok megújítása:
                </p><p>
                    Egy másik parancssori parancs
(<code class="literal">Maint::SMIME::CustomerCertificate::Renew</code>) használható az
összes meglévő tanúsítvány ellenőrzéséhez a rendszeren. Ez azt ellenőrzi,
hogy az ügyfél-felhasználóktól származó meglévő tanúsítványok egyeznek-e
azzal, amely az ügyfél-felhasználó tulajdonságaival lett lekérve. Az
ügyfél-felhasználó háttérprogramban lévő bármely új tanúsítvány hozzá lesz
adva a rendszerhez (ebben a folyamatban tanúsítvány nem kerül törlésre).
                </p><p>
                    Ezt a parancssori parancsot az OTRS démon naponta egyszer automatikusan
végrehajtja a
<code class="literal">Daemon::SchedulerCronTaskManager::Task###RenewCustomerSMIMECertificates</code>
feladattal (ahogy a rendszerbeállításokban látható), de igény szerint
végrehajtható kézzel is a következőképpen:
                </p><p>
                    </p><pre class="screen">
shell&gt; perl /opt/otrs/bin/otrs.Console.pl Maint::SMIME::CustomerCertificate::Renew
                    </pre><p>
                </p></li></ol></div><p>
    </p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="backup-and-restore.html">Vissza</a> </td><td width="20%" align="center"><a accesskey="u" href="administration.html">Fel</a></td><td width="40%" align="right"> <a accesskey="n" href="external-backends.html">Előre</a></td></tr><tr><td width="40%" align="left" valign="top">A rendszer biztonsági mentése </td><td width="20%" align="center"><a accesskey="h" href="index.html">Főoldal</a></td><td width="40%" align="right" valign="top"> Külső háttérprogramok használata</td></tr></table></div></body></html>
