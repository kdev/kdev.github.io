

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-CN" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-CN" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>动态字段 &mdash; OTRS Administration Manual 7.0 文档</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/otrs.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
    <link rel="next" title="自动任务" href="generic-agent.html" />
    <link rel="prev" title="访问控制列表(ACL)" href="access-control-lists.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          
    
    
    <a href="https://doc.otrs.com/doc" class="icon fa-rocket DocumentationOverview"> OTRS Documentation</a>

    

          
            <a href="../index.html" class="icon icon-home"> OTRS Administration Manual
          

          
            
            <img src="../../_static/otrs-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                7.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          


        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">目录</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">介绍</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ticket-settings.html">工单设置</a></li>
<li class="toctree-l1"><a class="reference internal" href="../communication-notifications.html">通信和通知</a></li>
<li class="toctree-l1"><a class="reference internal" href="../users-groups-roles.html">用户、组和角色</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../processes-automation.html">流程和自动化</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="access-control-lists.html">访问控制列表(ACL)</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">动态字段</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#manage-dynamic-fields">管理动态字段</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dynamic-field-settings">动态字段设置</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#general-dynamic-field-settings">动态字段通用设置</a></li>
<li class="toctree-l4"><a class="reference internal" href="#checkbox-dynamic-field-settings">复选框动态字段设置</a></li>
<li class="toctree-l4"><a class="reference internal" href="#contact-with-data-dynamic-field-settings">联系人信息动态字段设置</a></li>
<li class="toctree-l4"><a class="reference internal" href="#date-dynamic-field-settings">日期动态字段设置</a></li>
<li class="toctree-l4"><a class="reference internal" href="#date-time-dynamic-field-settings">日期/时间动态字段设置</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dropdown-dynamic-field-settings">下拉框动态字段设置</a></li>
<li class="toctree-l4"><a class="reference internal" href="#multiselect-dynamic-field-settings">多选框动态字段设置</a></li>
<li class="toctree-l4"><a class="reference internal" href="#text-dynamic-field-settings">文本框动态字段设置</a></li>
<li class="toctree-l4"><a class="reference internal" href="#textarea-dynamic-field-settings">多行文本框动态字段设置</a></li>
<li class="toctree-l4"><a class="reference internal" href="#database-dynamic-field">数据库动态字段</a></li>
<li class="toctree-l4"><a class="reference internal" href="#web-service-dynamic-field">Web服务动态字段</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#display-dynamic-fields-on-screens">在屏幕中显示动态字段</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-default-value-via-ticket-event-module">通过工单事件模块设置默认值</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-default-value-via-user-preferences">通过用户偏好设置设置默认值</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="generic-agent.html">自动任务</a></li>
<li class="toctree-l2"><a class="reference internal" href="process-management.html">流程管理</a></li>
<li class="toctree-l2"><a class="reference internal" href="web-services.html">Web服务</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../external-interface.html">外部人员界面</a></li>
<li class="toctree-l1"><a class="reference internal" href="../otrs-group-services.html">OTRS集团服务</a></li>
<li class="toctree-l1"><a class="reference internal" href="../administration.html">系统管理</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">术语表</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">OTRS Administration Manual</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../processes-automation.html">流程和自动化</a> &raquo;</li>
        
      <li>动态字段</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/OTRS/doc-admin/blob/rel-7_0/content/processes-automation/dynamic-fields.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="dynamic-fields">
<h1>动态字段<a class="headerlink" href="#dynamic-fields" title="永久链接至标题">¶</a></h1>
<p>除了所有工单所需的一般信息外，组织还需要向工单中添加特定的细节。所需的信息采用各种格式，如文本、整数、日期时间等。</p>
<p>OTRS支持添加所谓的 <a class="reference internal" href="../glossary.html#term-dynamic-field"><span class="xref std std-term">动态字段</span></a> 来处理文本、整数、下拉列表、多选择字段、日期-时间、复选框等。OTRS管理员可以定义哪些字段应该是可见的或可编辑的，当然，统计数据和报告中也可以使用动态字段。</p>
<p>使用此屏幕管理系统中的动态字段。默认情况下，一个新的OTRS安装包含三个动态字段。动态字段管理屏幕可在 <em>流程和自动化</em> 组的 <em>动态字段</em> 模块中使用。</p>
<div class="figure" id="id1">
<img alt="Dynamic Field Management Screen" src="../../_images/dynamic-field-management.png" />
<p class="caption"><span class="caption-text">管理动态字段屏幕</span></p>
</div>
<div class="section" id="manage-dynamic-fields">
<h2>管理动态字段<a class="headerlink" href="#manage-dynamic-fields" title="永久链接至标题">¶</a></h2>
<p>若要创建一个新动态字段：</p>
<ol class="arabic simple">
<li>从左侧边栏中选择一个对象，并从其下拉列表中选择一个动态字段类型。</li>
<li>填写必填字段。</li>
<li>点击 <em>保存</em> 按钮。</li>
</ol>
<div class="figure" id="id2">
<img alt="Create New Dynamic Field Screen" src="../../_images/dynamic-field-add.png" />
<p class="caption"><span class="caption-text">创建新动态字段屏幕</span></p>
</div>
<p>若要编辑一个动态字段：</p>
<ol class="arabic simple">
<li>点击动态字段列表中的一个动态字段。</li>
<li>修改字段。</li>
<li>点击 <em>保存</em> 或 <em>保存并完成</em> 按钮。</li>
</ol>
<div class="figure" id="id3">
<img alt="Edit Dynamic Field Screen" src="../../_images/dynamic-field-edit.png" />
<p class="caption"><span class="caption-text">编辑动态字段屏幕</span></p>
</div>
<p>若要删除一个动态字段：</p>
<ol class="arabic simple">
<li>点击概览表最后一列的垃圾桶图标。</li>
<li>点击 <em>确认</em> 按钮。</li>
</ol>
<div class="figure" id="id4">
<img alt="Delete Dynamic Field Screen" src="../../_images/dynamic-field-delete.png" />
<p class="caption"><span class="caption-text">删除动态字段屏幕</span></p>
</div>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">如果向系统添加了多个动态字段，可使用过滤器框通过键入要过滤的名称来查找特定的动态字段。</p>
</div>
</div>
<div class="section" id="dynamic-field-settings">
<h2>动态字段设置<a class="headerlink" href="#dynamic-field-settings" title="永久链接至标题">¶</a></h2>
<p>添加或编辑此资源时，可以使用以下设置。 标有星号的字段是必填字段。</p>
<div class="section" id="general-dynamic-field-settings">
<h3>动态字段通用设置<a class="headerlink" href="#general-dynamic-field-settings" title="永久链接至标题">¶</a></h3>
<p>所有类型的动态字段的这些设置都相同。</p>
<div class="figure" id="id5">
<img alt="Dynamic Field General Screen" src="../../_images/dynamic-field-add.png" />
<p class="caption"><span class="caption-text">动态字段通用设置屏幕</span></p>
</div>
<dl class="docutils">
<dt>名称 *</dt>
<dd>此资源的名称。 可以在此字段中输入任何类型的字符，包括大写字母和空格。 名称将显示在概览表中。</dd>
<dt>标签 *</dt>
<dd><p class="first">这是在激活了该字段的屏幕上显示的名称。</p>
<div class="last admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last">可以为动态字段标签添加翻译。 必须手动将标签翻译添加到语言翻译文件中。</p>
</div>
</dd>
<dt>字段顺序 *</dt>
<dd>这是在激活了该字段的屏幕上显示的顺序。</dd>
<dt>有效性 *</dt>
<dd>设置此资源的有效性。 如果此字段设置为 <em>有效</em>，则每个资源即可仅在OTRS中使用。 将此字段设置为 <em>无效</em> 或 <em>临时无效</em> 将禁止此资源的使用。</dd>
<dt>字段类型</dt>
<dd>此类型已在上一页面中选择，不再在此处更改。 这是一个只读字段。</dd>
<dt>对象类型</dt>
<dd><p class="first">此类型已在上一页面中选择，不再在此处更改。 这是一个只读字段。</p>
<div class="last admonition note">
<p class="first admonition-title">注解</p>
<p class="last">对象类型确定可以使用动态字段的位置。 例如，对象类型为 <em>工单</em> 的动态字段只能在工单中使用，不能在信件中使用。</p>
</div>
</dd>
</dl>
<p>以下设置仅与特定类型的动态字段相关。</p>
</div>
<div class="section" id="checkbox-dynamic-field-settings">
<h3>复选框动态字段设置<a class="headerlink" href="#checkbox-dynamic-field-settings" title="永久链接至标题">¶</a></h3>
<p>复选框动态字段用于存储 true 或 false 值。</p>
<div class="figure" id="id6">
<img alt="Checkbox Dynamic Field Settings" src="../../_images/dynamic-field-checkbox.png" />
<p class="caption"><span class="caption-text">复选框动态字段设置</span></p>
</div>
<dl class="docutils">
<dt>默认值 *</dt>
<dd><p class="first">复选框的默认值。</p>
<dl class="last docutils">
<dt>已选中</dt>
<dd>默认情况下，复选框已选中。</dd>
<dt>未选中</dt>
<dd>默认情况下，复选框未选中。</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="contact-with-data-dynamic-field-settings">
<h3>联系人信息动态字段设置<a class="headerlink" href="#contact-with-data-dynamic-field-settings" title="永久链接至标题">¶</a></h3>
<p>此动态字段允许添加联系人信息到工单。</p>
<div class="figure" id="id7">
<img alt="Contact With Data Dynamic Field Settings" src="../../_images/dynamic-field-contact-with-data.png" />
<p class="caption"><span class="caption-text">联系人信息动态字段设置</span></p>
</div>
<dl class="docutils">
<dt>姓名字段 *</dt>
<dd><code class="docutils literal notranslate"><span class="pre">Name</span></code> 属性始终是必需的，并且不会自动添加，因此对于每个新数据源，必须手动添加此属性。 在数据源定义（或动态字段配置）中，它们必须由键 <code class="docutils literal notranslate"><span class="pre">Name</span></code> 表示，值可以是 <em>Name</em> 之类。</dd>
<dt>ValidID 字段 *</dt>
<dd><code class="docutils literal notranslate"><span class="pre">ValidID</span></code> 属性始终是必需的，并且不会自动添加，因此对于每个新数据源，必须手动添加此属性。 在数据源定义（或动态字段配置）中，它们必须由键 <code class="docutils literal notranslate"><span class="pre">ValidID</span></code> 表示，值可以是 <em>Validity</em> 之类。</dd>
<dt>其它字段</dt>
<dd><p class="first">这些是联系人可能的数据属性。 点击 <em>添加字段</em> 中的 <em>⊞</em> 按钮将添加两个新字段，其中可以设置 <em>键</em> （内部值）和 <em>值</em> （显示值）。 使用该按钮，您可以添加多个键值对。</p>
<div class="last admonition warning">
<p class="first admonition-title">警告</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">Name</span></code> 和 <code class="docutils literal notranslate"><span class="pre">ValidID</span></code> 键已被 <em>姓名字段</em> 和 <em>ValidID 字段</em> 使用。 不要再使用这两个键！</p>
</div>
</dd>
<dt>添加字段</dt>
<dd>使用此按钮可以向动态字段添加更多字段。</dd>
<dt>必须的字段</dt>
<dd><p class="first">以逗号分隔的必须的键列表。</p>
<div class="last admonition note">
<p class="first admonition-title">注解</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">Name</span></code> 和 <code class="docutils literal notranslate"><span class="pre">ValidID</span></code> 键始终是必须的，不必在此列出。</p>
</div>
</dd>
<dt>排序字段</dt>
<dd>以逗号分隔的排序顺序键列表。 此处列出的键首先出现，之后是所有剩余字段，并按字母顺序排序。</dd>
<dt>可搜索的字段</dt>
<dd><p class="first">以逗号分隔的可搜索的键列表。</p>
<div class="last admonition note">
<p class="first admonition-title">注解</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">Name</span></code> 键始终是可搜索的，不必在此处列出。</p>
</div>
</dd>
<dt>可翻译的值</dt>
<dd><p class="first">如果激活此选项，这些值将被转换为用户定义的语言。</p>
<div class="last admonition note">
<p class="first admonition-title">注解</p>
<p class="last">您需要将翻译手动添加到语言翻译文件中。</p>
</div>
</dd>
</dl>
<p>保存动态字段后，单击概览表中新创建的字段的名称。将打开 <em>编辑动态字段</em> 屏幕。 有一个 <em>添加或编辑联系人</em> 按钮，指向 <em>工单</em> → <em>编辑联系信息</em> 以添加一些数据。</p>
<div class="figure" id="id8">
<img alt="Contact With Data Management Screen" src="../../_images/dynamic-field-contact-with-data-management.png" />
<p class="caption"><span class="caption-text">联系信息管理屏幕</span></p>
</div>
<p>若要添加新的联系信息：</p>
<ol class="arabic simple">
<li>从左侧边栏的 <em>操作</em> 小部件的下拉列表中选择一个动态字段。</li>
<li>点击左侧边栏中的 <em>添加联系信息</em> 按钮。</li>
<li>填写必填字段。</li>
<li>点击 <em>保存</em> 按钮。</li>
</ol>
<div class="figure" id="id9">
<img alt="Add Contact With Data Screen" src="../../_images/dynamic-field-contact-with-data-add.png" />
<p class="caption"><span class="caption-text">添加联系信息屏幕</span></p>
</div>
<p>若要编辑一个联系信息：</p>
<ol class="arabic simple">
<li>点击联系信息列表中的一个联系信息。</li>
<li>修改字段。</li>
<li>点击 <em>保存</em> 或 <em>保存并完成</em> 按钮。</li>
</ol>
<div class="figure" id="id10">
<img alt="Edit Contact With Data Screen" src="../../_images/dynamic-field-contact-with-data-edit.png" />
<p class="caption"><span class="caption-text">编辑联系信息屏幕</span></p>
</div>
<p>这种动态字段的使用比其他字段更复杂。 联系人信息的示例性用法如下：</p>
<ol class="arabic simple">
<li>创建一个联系人信息类型的新动态字段。</li>
<li>设置可能的联系属性（可能值）。<ul>
<li>在 <em>姓名字段</em> 中输入 <em>Name</em>。</li>
<li>在 <em>ValidID 字段</em> 中输入 <em>Validity</em>。</li>
<li>使用 <em>添加字段</em> 添加任何其他属性，例如 <code class="docutils literal notranslate"><span class="pre">Telephone</span></code> 属性（键：<code class="docutils literal notranslate"><span class="pre">Telephone</span></code>，值：<em>Phone</em>）。</li>
</ul>
</li>
<li>添加以逗号分隔的必须的属性键列表（不需要 <code class="docutils literal notranslate"><span class="pre">Name</span></code> 和 <code class="docutils literal notranslate"><span class="pre">ValidID</span></code>）。</li>
<li>将属性键顺序列表逗号分隔为：<code class="docutils literal notranslate"><span class="pre">Name,Telephone,ValidID</span></code>。</li>
<li>添加可搜索的属性键列表（不需要 <code class="docutils literal notranslate"><span class="pre">Name</span></code>），以逗号分隔。</li>
<li>通过在主导航栏中使用 <em>工单</em> → <em>编辑联系人信息</em> 屏幕，在新创建的数据源中添加至少一个联系人来填充数据源。</li>
<li>将新的动态字段添加到应显示的屏幕配置中。 例如，通过更新系统配置设置 <code class="docutils literal notranslate"><span class="pre">Ticket::Frontend::AgentTicketPhone###DynamicField</span></code> 和 <code class="docutils literal notranslate"><span class="pre">Ticket::Frontend::AgentTicketZoom###DynamicField</span></code>，添加到 <em>创建电话工单</em> 屏幕中。</li>
<li>转到 <em>创建电话工单</em> 屏幕，注意新字段出现了。 将所有需要的信息添加到工单。</li>
<li>使用自动完成选择现有联系人，并选择一个联系人。</li>
<li>分配的联系人及其属性将会显示在 <em>工单详情</em> 屏幕。</li>
<li>可以通过单击联系人信息框标题右侧显示的 <em>编辑联系人信息</em> 按钮来更新联系人的属性（如果当前用户是系统配置设置 <code class="docutils literal notranslate"><span class="pre">Frontend::Module###AdminDynamicFieldContactWithData</span></code> 中定义的组的成员）。</li>
<li>如果需要更改此工单的联系人，则可以通过配置了显示此动态字段的任何其他工单操作来完成。</li>
</ol>
</div>
<div class="section" id="date-dynamic-field-settings">
<h3>日期动态字段设置<a class="headerlink" href="#date-dynamic-field-settings" title="永久链接至标题">¶</a></h3>
<p>日期动态字段用于存储一个日期值。</p>
<div class="figure" id="id11">
<img alt="Date Dynamic Field Settings" src="../../_images/dynamic-field-date.png" />
<p class="caption"><span class="caption-text">日期动态字段设置</span></p>
</div>
<dl class="docutils">
<dt>默认的时间差</dt>
<dd>用与 <em>当前</em> 的差值（以秒为单位）来计算本字段的默认值（例如3600或-60）。</dd>
<dt>定义年期</dt>
<dd><p class="first">激活此功能可定义要在字段的年份部分显示的固定年份范围（将来和过去）。 如果设置为 <em>是</em>，则可以使用以下选项：</p>
<dl class="last docutils">
<dt>过去的几年</dt>
<dd>在编辑屏幕选择这个动态字段的年份时，能选择从当天算过去的几年。</dd>
<dt>未来的几年</dt>
<dd>在编辑屏幕选择这个动态字段的年份时，能选择从当天算未来的几年。</dd>
</dl>
</dd>
<dt>显示链接</dt>
<dd><p class="first">您可以在此处为概览和详情屏幕中本字段值指定可选的HTTP链接。 例如：</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span>http://some.example.com/handle?query=[% Data.Field1 | uri %]
</pre></div>
</div>
</dd>
<dt>预览链接</dt>
<dd>如果填写了内容，在工单详情屏幕中当鼠标移动到这个URL上方时将显示URL的预览。请注意：要使这个功能生效，还需要上面的常规URL字段也填写好了内容。</dd>
<dt>限制输入日期</dt>
<dd><p class="first">在这里可以限制输入工单日期。</p>
<dl class="last docutils">
<dt>防止未来的日期条目</dt>
<dd>选择此选项将阻止输入当前日期之后的日期。</dd>
<dt>防止过去的日期条目</dt>
<dd>选择此选项将阻止输入当前日期之前的日期。</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="date-time-dynamic-field-settings">
<h3>日期/时间动态字段设置<a class="headerlink" href="#date-time-dynamic-field-settings" title="永久链接至标题">¶</a></h3>
<p>日期/时间动态字段用来存储一个日期时间值。</p>
<div class="figure" id="id12">
<img alt="Date / Time Dynamic Field Settings" src="../../_images/dynamic-field-date-time.png" />
<p class="caption"><span class="caption-text">日期/时间动态字段设置</span></p>
</div>
<p>此类动态字段的设置与日期动态字段的设置相同。</p>
</div>
<div class="section" id="dropdown-dynamic-field-settings">
<h3>下拉框动态字段设置<a class="headerlink" href="#dropdown-dynamic-field-settings" title="永久链接至标题">¶</a></h3>
<p>下拉框动态字段用于存储一个封闭列表中的单个值。</p>
<div class="figure" id="id13">
<img alt="Dropdown Dynamic Field Settings" src="../../_images/dynamic-field-dropdown.png" />
<p class="caption"><span class="caption-text">下拉框动态字段设置</span></p>
</div>
<dl class="docutils">
<dt>可能值</dt>
<dd>这些是联系人可能的数据属性。 单击 <em>⊞</em> 按钮将添加两个新字段，其中可以设置键（内部值）和值（显示值）。 使用该按钮，您可以添加多个键值对。</dd>
<dt>默认值</dt>
<dd>这是此字段的默认值，这将显示在编辑屏幕上。</dd>
<dt>添加空值</dt>
<dd>如果激活此选项，则会定义一个额外值，以在可能值列表中显示为 <em>-</em>。 此特殊值在内部为空。</dd>
<dt>树形视图</dt>
<dd>激活此选项，将以树状形式显示值。</dd>
<dt>可翻译的值</dt>
<dd><p class="first">如果激活此选项，这些值将被转换为用户定义的语言。</p>
<div class="last admonition note">
<p class="first admonition-title">注解</p>
<p class="last">您需要将翻译手动添加到语言翻译文件中。</p>
</div>
</dd>
<dt>显示链接</dt>
<dd><p class="first">您可以在此处为概览和详情屏幕中本字段值指定可选的HTTP链接。 例如：</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span>http://some.example.com/handle?query=[% Data.Field1 | uri %]
</pre></div>
</div>
</dd>
<dt>预览链接</dt>
<dd>如果填写了内容，在工单详情屏幕中当鼠标移动到这个URL上方时将显示URL的预览。请注意：要使这个功能生效，还需要上面的常规URL字段也填写好了内容。</dd>
</dl>
</div>
<div class="section" id="multiselect-dynamic-field-settings">
<h3>多选框动态字段设置<a class="headerlink" href="#multiselect-dynamic-field-settings" title="永久链接至标题">¶</a></h3>
<div class="figure" id="id14">
<img alt="Multiselect Dynamic Field Settings" src="../../_images/dynamic-field-multiselect.png" />
<p class="caption"><span class="caption-text">多选框动态字段设置</span></p>
</div>
<dl class="docutils">
<dt>可能值</dt>
<dd>这些是联系人可能的数据属性。 单击 <em>⊞</em> 按钮将添加两个新字段，其中可以设置键（内部值）和值（显示值）。 使用该按钮，您可以添加多个键值对。</dd>
<dt>默认值</dt>
<dd>这是此字段的默认值，这将显示在编辑屏幕上。</dd>
<dt>添加空值</dt>
<dd>如果激活此选项，则会定义一个额外值，以在可能值列表中显示为 <em>-</em>。 此特殊值在内部为空。</dd>
<dt>树形视图</dt>
<dd>激活此选项，将以树状形式显示值。</dd>
<dt>可翻译的值</dt>
<dd><p class="first">如果激活此选项，这些值将被转换为用户定义的语言。</p>
<div class="last admonition note">
<p class="first admonition-title">注解</p>
<p class="last">您需要将翻译手动添加到语言翻译文件中。</p>
</div>
</dd>
</dl>
</div>
<div class="section" id="text-dynamic-field-settings">
<h3>文本框动态字段设置<a class="headerlink" href="#text-dynamic-field-settings" title="永久链接至标题">¶</a></h3>
<p>文本框动态字段用于存储一个单行字符串。</p>
<div class="figure" id="id15">
<img alt="Text Dynamic Field Settings" src="../../_images/dynamic-field-text.png" />
<p class="caption"><span class="caption-text">文本框动态字段设置</span></p>
</div>
<dl class="docutils">
<dt>默认值</dt>
<dd>这是此字段的默认值，这将显示在编辑屏幕上。</dd>
<dt>显示链接</dt>
<dd><p class="first">您可以在此处为概览和详情屏幕中本字段值指定可选的HTTP链接。 例如：</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span>http://some.example.com/handle?query=[% Data.Field1 | uri %]
</pre></div>
</div>
</dd>
<dt>预览链接</dt>
<dd>如果填写了内容，在工单详情屏幕中当鼠标移动到这个URL上方时将显示URL的预览。请注意：要使这个功能生效，还需要上面的常规URL字段也填写好了内容。</dd>
<dt>正则表达式检查</dt>
<dd><p class="first">您可以在这里指定一个正则表达式来检查值，正则表达式将使用 <code class="docutils literal notranslate"><span class="pre">xms</span></code> 修饰符执行。例如：</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span>^[0-9]$
</pre></div>
</div>
</dd>
<dt>添加正则表达式</dt>
<dd>点击 <em>⊞</em> 按钮将添加两个新字段，可以添加一个正则表达式和一条错误消息。</dd>
</dl>
</div>
<div class="section" id="textarea-dynamic-field-settings">
<h3>多行文本框动态字段设置<a class="headerlink" href="#textarea-dynamic-field-settings" title="永久链接至标题">¶</a></h3>
<p>多行文本动态字段用于存储一个多行的字符串。</p>
<div class="figure" id="id16">
<img alt="Textarea Dynamic Field Settings" src="../../_images/dynamic-field-textarea.png" />
<p class="caption"><span class="caption-text">多行文本框动态字段设置</span></p>
</div>
<dl class="docutils">
<dt>行数</dt>
<dd>此字段在编辑模式中的高度（行）。</dd>
<dt>列宽</dt>
<dd>此字段在编辑模式中的宽度（单位：字符）。</dd>
<dt>默认值</dt>
<dd>这是此字段的默认值，这将显示在编辑屏幕上。</dd>
<dt>正则表达式检查</dt>
<dd><p class="first">您可以在这里指定一个正则表达式来检查值，正则表达式将使用 <code class="docutils literal notranslate"><span class="pre">xms</span></code> 修饰符执行。例如：</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span>^[0-9]$
</pre></div>
</div>
</dd>
<dt>添加正则表达式</dt>
<dd>点击 <em>⊞</em> 按钮将添加两个新字段，可以添加一个正则表达式和一条错误消息。</dd>
</dl>
</div>
<div class="section" id="database-dynamic-field">
<h3>数据库动态字段<a class="headerlink" href="#database-dynamic-field" title="永久链接至标题">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">要使用这种类型的动态字段，需要 <strong>OTRS</strong> 服务软件包。 请联系sales&#64;otrs.com进行升级。</p>
</div>
</div>
<div class="section" id="web-service-dynamic-field">
<h3>Web服务动态字段<a class="headerlink" href="#web-service-dynamic-field" title="永久链接至标题">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">要使用这种类型的动态字段，需要 <strong>OTRS</strong> 服务软件包。 请联系sales&#64;otrs.com进行升级。</p>
</div>
</div>
</div>
<div class="section" id="display-dynamic-fields-on-screens">
<h2>在屏幕中显示动态字段<a class="headerlink" href="#display-dynamic-fields-on-screens" title="永久链接至标题">¶</a></h2>
<p>若要在一个屏幕中显示一个动态字段：</p>
<ol class="arabic simple">
<li>确保该动态字段的 <em>有效性</em> 设置为 <em>有效</em>。</li>
<li>在系统管理界面中打开 <em>系统配置</em> 模块。</li>
<li>导航到 <em>前端</em> → <em>服务人员</em> → <em>视图</em>，并选择一个要添加动态字段的视图。</li>
<li>找到以 <code class="docutils literal notranslate"><span class="pre">###</span> <span class="pre">DynamicField</span></code> 结束的设置，然后单击 <em>编辑这个设置</em> 按钮。</li>
<li>点击 <em>+</em> 按钮添加动态字段。</li>
<li>在文本框中输入动态字段的名称，然后单击勾选按钮。</li>
<li>选择 <em>1 - 启用</em> 或 <em>2 - 启用且必填</em>。</li>
<li>点击右侧的勾选按钮以保存设置。</li>
<li>部署修改后的系统配置。</li>
</ol>
<div class="figure" id="id17">
<img alt="Display Dynamic Fields on Screen" src="../../_images/dynamic-field-system-configuration.png" />
<p class="caption"><span class="caption-text">在屏幕中显示动态字段</span></p>
</div>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">可以同时添加多个动态字段。 为此，请重复步骤5-7。</p>
</div>
</div>
<div class="section" id="set-default-value-via-ticket-event-module">
<h2>通过工单事件模块设置默认值<a class="headerlink" href="#set-default-value-via-ticket-event-module" title="永久链接至标题">¶</a></h2>
<p>如果该字段还没有值，则工事件（例如 <code class="docutils literal notranslate"><span class="pre">TicketCreate</span></code>）可以触发某个字段的值设置。</p>
<ol class="arabic simple">
<li>在系统管理界面中打开 <em>系统配置</em> 模块。</li>
<li>导航到 <em>核心</em> → <em>事件</em> → <em>工单</em> 并搜索设置 <code class="docutils literal notranslate"><span class="pre">Ticket::EventModulePost###9600-TicketDynamicFieldDefault</span></code>。</li>
<li>点击 <em>编辑这个设置</em> 按钮以激活设置。</li>
<li>点击右侧的勾选按钮以保存设置。</li>
<li>部署修改后的系统配置。</li>
</ol>
<div class="figure" id="id18">
<img alt="Activate Ticket Event Module" src="../../_images/dynamic-field-ticket-event-module.png" />
<p class="caption"><span class="caption-text">激活工单事件模块</span></p>
</div>
<p>范例：在 <code class="docutils literal notranslate"><span class="pre">TicketCreate</span></code> (创建工单)事件中激活 <em>Field1</em>：</p>
<ol class="arabic simple">
<li>在系统管理界面中打开 <em>系统配置</em> 模块。</li>
<li>导航到 <em>核心</em> → <em>工单</em> → <em>DynamicFieldDefault</em> 并搜索设置 <code class="docutils literal notranslate"><span class="pre">Ticket::TicketDynamicFieldDefault###Element1</span></code>。</li>
<li>点击 <em>编辑这个设置</em> 按钮以激活设置。</li>
<li>点击右侧的勾选按钮以保存设置。</li>
<li>部署修改后的系统配置。</li>
</ol>
<div class="figure" id="id19">
<img alt="Activate Dynamic Field in Ticket Create Event" src="../../_images/dynamic-field-ticket-dynamic-field-default.png" />
<p class="caption"><span class="caption-text">在创建工单事件中激活动态字段</span></p>
</div>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">这个配置可以在16个 <code class="docutils literal notranslate"><span class="pre">Ticket::TicketDynamicFieldDefault###Element</span></code> 设置的任何一个中设置。</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last">如果需要设置超过16个字段，则必须将自定义XML文件放在 <code class="docutils literal notranslate"><span class="pre">$OTRS_HOME/Kernel/Config/Files/XML</span></code> 目录中以扩展此功能。</p>
</div>
</div>
<div class="section" id="set-default-value-via-user-preferences">
<h2>通过用户偏好设置设置默认值<a class="headerlink" href="#set-default-value-via-user-preferences" title="永久链接至标题">¶</a></h2>
<p>可以使用存储在个人偏好设置中的用户定义值覆盖动态字段默认值。</p>
<ol class="arabic simple">
<li>在系统管理界面中打开 <em>系统配置</em> 模块。</li>
<li>导航到 <em>前端</em> → <em>服务人员</em> → <em>视图</em> → <em>偏好设置</em> 并搜索设置 <code class="docutils literal notranslate"><span class="pre">PreferencesGroups###DynamicField</span></code>。</li>
<li>点击 <em>编辑这个设置</em> 按钮以激活设置。</li>
<li>点击右侧的勾选按钮以保存设置。</li>
<li>部署修改后的系统配置。</li>
</ol>
<div class="figure" id="id20">
<img alt="Activate Dynamic Field in Personal Preferences" src="../../_images/dynamic-field-preferences-groups.png" />
<p class="caption"><span class="caption-text">在个从偏好设置中激活动态字段</span></p>
</div>
<p>单击左上角的头像，然后选择 <em>个人偏好设置</em> → <em>其他</em> 以添加动态字段的默认值。</p>
<div class="figure" id="id21">
<img alt="Dynamic Field in Personal Preferences" src="../../_images/dynamic-field-personal-preferences.png" />
<p class="caption"><span class="caption-text">个人偏好设置中的动态字段</span></p>
</div>
<p>此设置是如何在用户偏好设置屏幕中创建一个条目以便为所选用户设置独占动态字段 <code class="docutils literal notranslate"><span class="pre">Name_X</span></code> 的默认值的示例。 此设置的限制是它只允许使用一个动态字段。 如果两个或多个字段将使用此功能，则需要创建自定义XML配置文件以添加与此类似的更多设置。</p>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p>如果在新XML中添加了更多设置，则每个设置名称在系统中必须是唯一的，并不同于 <code class="docutils literal notranslate"><span class="pre">PreferencesGroups###DynamicField</span></code>。 例如：</p>
<ul class="last simple">
<li><code class="docutils literal notranslate"><span class="pre">PreferencesGroups###101-DynamicField-Field1</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">PreferencesGroups###102-DynamicField-Field2</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">PreferencesGroups###My-Field1</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">PreferencesGroups###My-Field2</span></code></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          

<script>
// Start Google Analytics Tracking
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-28118796-2', 'auto');
ga('send', 'pageview');
// End Google Analytics Tracking
</script>

<footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="generic-agent.html" class="btn btn-neutral float-right" title="自动任务" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="access-control-lists.html" class="btn btn-neutral" title="访问控制列表(ACL)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2001-2020 OTRS AG, https://otrs.com/

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/translations.js"></script>
    

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>