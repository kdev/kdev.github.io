

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="de" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="de" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Aktualisieren &mdash; OTRS Update and Installation Guide 8.0 Dokumentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/otrs.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Stichwortverzeichnis" href="../genindex.html" />
    <link rel="search" title="Suche" href="../search.html" />
    <link rel="next" title="Sichern und Wiederherstellen" href="backup-restore.html" />
    <link rel="prev" title="Installation" href="installation.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          
    
    
    <a href="https://doc.otrs.com/doc" class="icon fa-rocket DocumentationOverview"> OTRS Documentation</a>

    

          
            <a href="index.html" class="icon icon-home"> OTRS Update and Installation Guide
          

          
            
            <img src="../_static/otrs-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                8.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          


        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Inhalt</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Einführung</a></li>
<li class="toctree-l1"><a class="reference internal" href="requirements.html">Hardware- und Software-Anforderungen</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Aktualisieren</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#step-1-stop-all-relevant-services-and-the-otrs-daemon">Schritt 1: Alle relevanten Dienste und den OTRS Deamon beenden</a></li>
<li class="toctree-l2"><a class="reference internal" href="#step-2-backup-files-and-database">Schritt 2: Dateien und Datenbank sichern</a></li>
<li class="toctree-l2"><a class="reference internal" href="#step-3-install-the-new-release">Schritt 3: Das neue Release installieren</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#restore-old-configuration-files">Alte Konfigurationsdateien wiederherstellen</a></li>
<li class="toctree-l3"><a class="reference internal" href="#restore-article-data">Artikeldaten wiederherstellen</a></li>
<li class="toctree-l3"><a class="reference internal" href="#restore-already-installed-default-statistics">Bereits installierte Standardstatistik wiederherstellen</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-file-permissions">Dateiberechtigungen festlegen</a></li>
<li class="toctree-l3"><a class="reference internal" href="#install-required-programs-and-perl-modules">Erforderliche Programme und Perl-Module installieren</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#step-4-run-the-migration-script">Schritt 4: Migrationsskript ausführen</a></li>
<li class="toctree-l2"><a class="reference internal" href="#step-5-update-installed-packages">Schritt 5: Installierte Pakete aktualisieren</a></li>
<li class="toctree-l2"><a class="reference internal" href="#step-6-start-your-services">Schritt 6: Ihre Dienste starten</a></li>
<li class="toctree-l2"><a class="reference internal" href="#step-7-start-the-otrs-daemon-and-web-server">Schritt 7: OTRS-Daemon und Webserver starten</a></li>
<li class="toctree-l2"><a class="reference internal" href="#step-8-manual-migration-tasks-and-changes">Schritt 8: Manuelle Migrationsaufgaben und -änderungen</a></li>
<li class="toctree-l2"><a class="reference internal" href="#recommendation-convert-your-mysql-database">Empfehlung: Konvertieren Sie Ihre MySQL-Datenbank</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="backup-restore.html">Sichern und Wiederherstellen</a></li>
<li class="toctree-l1"><a class="reference internal" href="performance-tuning.html">Leistungsverbesserung</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">OTRS Update and Installation Guide</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Aktualisieren</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/OTRS/doc-installation/blob/rel-8_0/content/updating.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="updating">
<h1>Aktualisieren<a class="headerlink" href="#updating" title="Link zu dieser Überschrift">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Bemerkung</p>
<p class="last">Es wird empfohlen, zuerst ein Test-Update auf einem separaten Testsystem durchzuführen.</p>
</div>
<dl class="docutils">
<dt>Aktualisierung von einer früheren Version von OTRS 8</dt>
<dd>Sie können direkt von allen vorherigen Patch-Releases aktualisieren.</dd>
<dt>Aktualisierung von OTRS 7</dt>
<dd>Sie können von jeder OTRS 7 Patch-Level-Version auf die neueste verfügbare OTRS 8 Patch-Level-Version aktualisieren.</dd>
<dt>Aktualisierung von OTRS 6 oder früher</dt>
<dd><p class="first">Sie können nicht von OTRS 6 oder früher direkt auf OTRS 8 aktualisieren. Vollständige Updates auf alle verfügbaren Minor-Versionen müssen stattdessen sequentiell durchgeführt werden. Wenn Sie z. B. von OTRS 5 kommen, müssen Sie zunächst ein Full-Update auf OTRS 6, dann auf OTRS 7 und schließlich auf OTRS 8 durchführen.</p>
<div class="last admonition seealso">
<p class="first admonition-title">Siehe auch</p>
<p class="last">Informationen zum Update finden Sie im Administratorhandbuch der vorherigen Versionen von OTRS.</p>
</div>
</dd>
</dl>
<div class="section" id="step-1-stop-all-relevant-services-and-the-otrs-daemon">
<h2>Schritt 1: Alle relevanten Dienste und den OTRS Deamon beenden<a class="headerlink" href="#step-1-stop-all-relevant-services-and-the-otrs-daemon" title="Link zu dieser Überschrift">¶</a></h2>
<p>Stellen Sie sicher, dass keine weiteren Dienste oder Cron-Jobs mehr vorhanden sind, die versuchen, auf OTRS zuzugreifen. Dies hängt von Ihrer Dienstkonfiguration und der OTRS-Version ab.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root&gt; systemctl stop postfix
root&gt; systemctl stop apache2
root&gt; systemctl stop otrs-daemon
root&gt; systemctl stop otrs-webserver
</pre></div>
</div>
</div>
<div class="section" id="step-2-backup-files-and-database">
<h2>Schritt 2: Dateien und Datenbank sichern<a class="headerlink" href="#step-2-backup-files-and-database" title="Link zu dieser Überschrift">¶</a></h2>
<p>Erstellen Sie eine Sicherung der folgenden Dateien und Ordner:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Kernel/Config.pm</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Kernel/Config/Files/User/*.pm</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Kernel/WebApp.conf</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">var/*</span></code></li>
<li>ebenfalls die Datenbank</li>
</ul>
<div class="admonition warning">
<p class="first admonition-title">Warnung</p>
<p class="last">Fahren Sie nicht ohne eine vollständige Sicherung Ihres Systems fort. Verwenden Sie dazu das Skript <a class="reference internal" href="backup-restore.html#backup"><span class="std std-ref">Datensicherung</span></a>.</p>
</div>
</div>
<div class="section" id="step-3-install-the-new-release">
<h2>Schritt 3: Das neue Release installieren<a class="headerlink" href="#step-3-install-the-new-release" title="Link zu dieser Überschrift">¶</a></h2>
<p>Sie haben nach dem Download entweder <code class="docutils literal notranslate"><span class="pre">otrs-x.y.z.tar.gz</span></code> oder <code class="docutils literal notranslate"><span class="pre">otrs-x.y.z.tar.bz2</span></code> erhalten. Entpacken Sie das Quellarchiv (zum Beispiel mit <code class="docutils literal notranslate"><span class="pre">tar</span></code>) in das Verzeichnis <code class="docutils literal notranslate"><span class="pre">/opt</span></code> und erstellen Sie einen symbolischen Link <code class="docutils literal notranslate"><span class="pre">/opt/otrs</span></code>, der auf <code class="docutils literal notranslate"><span class="pre">/opt/otrs-xyzverweist</span></code>. <strong>Vergessen Sie nicht</strong>, die Versionsnummern zu ersetzen!</p>
<div class="admonition note">
<p class="first admonition-title">Bemerkung</p>
<p class="last">Das Paket <code class="docutils literal notranslate"><span class="pre">bzip2</span></code> ist in einigen Systemen standardmäßig nicht installiert. Stellen Sie sicher, dass <code class="docutils literal notranslate"><span class="pre">bzip2</span></code> installiert ist, bevor Sie <code class="docutils literal notranslate"><span class="pre">otrs-x.y.z.tar.bz2</span></code> entpacken.</p>
</div>
<p>Kommando zum Entpacken für <code class="docutils literal notranslate"><span class="pre">otrs-x.y.z.tar.gz</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root&gt; tar -xzf otrs-x.y.z.tar.gz -C /opt
</pre></div>
</div>
<p>Kommando zum Entpacken für <code class="docutils literal notranslate"><span class="pre">otrs-x.y.z.tar.bz2</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root&gt; tar -xjf otrs-x.y.z.tar.bz2 -C /opt
</pre></div>
</div>
<p>Es wird empfohlen, einen symbolischen Link mit dem Namen <code class="docutils literal notranslate"><span class="pre">/opt/otrs</span></code> zu erstellen, der immer auf die neueste OTRS-Version verweist. Die Verwendung eines symbolischen Links erleichtert die Verwaltung der OTRS-Updates, da Sie das Verzeichnis der vorherigen Version nicht ändern müssen. Lediglich der symbolische Link muss geändert werden. Wenn Sie das Update zurücksetzen müssen, können Sie das Ziel des symbolischen Links wieder ändern.</p>
<p>Führen Sie diesen Befehl aus, um einen symbolischen Link zu erstellen:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root&gt; ln -fns /opt/otrs-x.y.z /opt/otrs
</pre></div>
</div>
<div class="section" id="restore-old-configuration-files">
<h3>Alte Konfigurationsdateien wiederherstellen<a class="headerlink" href="#restore-old-configuration-files" title="Link zu dieser Überschrift">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Kernel/Config.pm</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Kernel/Config/Files/User/*.pm</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Kernel/WebApp.conf</span></code></li>
</ul>
</div>
<div class="section" id="restore-article-data">
<h3>Artikeldaten wiederherstellen<a class="headerlink" href="#restore-article-data" title="Link zu dieser Überschrift">¶</a></h3>
<p>Wenn Sie OTRS so konfiguriert haben, dass Artikeldaten im Dateisystem gespeichert werden, müssen Sie den Ordner <code class="docutils literal notranslate"><span class="pre">article</span></code> nach <code class="docutils literal notranslate"><span class="pre">/opt/otrs/var/</span></code> (oder in dem in der Systemkonfiguration angegebenen Ordner) wiederherstellen.</p>
</div>
<div class="section" id="restore-already-installed-default-statistics">
<h3>Bereits installierte Standardstatistik wiederherstellen<a class="headerlink" href="#restore-already-installed-default-statistics" title="Link zu dieser Überschrift">¶</a></h3>
<p>Wenn Sie zusätzliche Pakete mit Standardstatistiken haben, müssen Sie die XML-Statistikdateien mit dem Suffix <code class="docutils literal notranslate"><span class="pre">*.installed</span></code> in <code class="docutils literal notranslate"><span class="pre">/opt/otrs/var/stats</span></code> wiederherstellen.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root&gt; <span class="nb">cd</span> OTRS-BACKUP/var/stats
root&gt; cp *.installed /opt/otrs/var/stats
</pre></div>
</div>
</div>
<div class="section" id="set-file-permissions">
<h3>Dateiberechtigungen festlegen<a class="headerlink" href="#set-file-permissions" title="Link zu dieser Überschrift">¶</a></h3>
<p>Führen Sie den folgenden Befehl aus, um die Datei- und Verzeichnisberechtigungen für OTRS festzulegen. Es wird versucht, die richtigen Gruppen- und Benutzereinstellungen zu ihrem Setup zu ermitteln.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root&gt; /opt/otrs/bin/otrs.SetPermissions.pl
</pre></div>
</div>
</div>
<div class="section" id="install-required-programs-and-perl-modules">
<h3>Erforderliche Programme und Perl-Module installieren<a class="headerlink" href="#install-required-programs-and-perl-modules" title="Link zu dieser Überschrift">¶</a></h3>
<p>Bitte beachten Sie den Abschnitt <a class="reference internal" href="installation.html#step-2-install-additional-programs-and-perl-modules"><span class="std std-ref">Schritt 2: Zusätzliche Programme und Perl-Module installieren</span></a> im Installationshandbuch, in dem erläutert wird, wie externe Abhängigkeiten wie Perl-Module und Node.js überprüft werden.</p>
<p>Darüber hinaus benötigt OTRS 8 auch ein aktives Cluster von Elasticsearch (nur Versionen zwischen 6.5.x und 6.8.y werden unterstützt, neuere Versionen werden nicht unterstützt). Bitte beachten Sie den Abschnitt <a class="reference internal" href="installation.html#step-8-setup-elasticsearch-cluster"><span class="std std-ref">Schritt 8: Elasticsearch-Cluster einrichten</span></a> im Installationshandbuch.</p>
</div>
</div>
<div class="section" id="step-4-run-the-migration-script">
<h2>Schritt 4: Migrationsskript ausführen<a class="headerlink" href="#step-4-run-the-migration-script" title="Link zu dieser Überschrift">¶</a></h2>
<p>Das Migrationsskript führt viele Überprüfungen auf Ihrem System durch und gibt Ihnen Hinweise, wie Sie fehlende Perl-Module usw. installieren, falls dies erforderlich ist. Wenn alle Prüfungen erfolgreich waren, werden die erforderlichen Migrationsschritte ausgeführt. Bitte führen Sie dieses Skript auch für Updates auf Patch-Ebene aus.</p>
<p>Migrationsskript ausführen:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>otrs&gt; /opt/otrs/scripts/DBUpdate-to-8.pl
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warnung</p>
<p class="last">Setzen Sie den Aktualisierungsvorgang nicht fort, wenn dieses Skript nicht ordnungsgemäß für Sie funktioniert hat. Andernfalls können Fehlfunktionen oder Datenverlust auftreten.</p>
</div>
<p>Das Migrationsskript überprüft auch, ob ACLs und Systemkonfigurationseinstellungen korrekt sind. Im Falle einer ungültigen Systemkonfigurationseinstellung bietet das Skript eine Möglichkeit zur Korrektur, indem es aus einer Liste möglicher Werte ausgewählt wird. Wenn das Skript in einem nicht interaktiven Modus ausgeführt wird, werden ungültige Einstellungen automatisch korrigiert. Wenn dies fehlschlägt, werden Sie aufgefordert, die Einstellung nach der Migration manuell zu aktualisieren.</p>
<p>Wenn veraltete ACLs vorhanden sind, kann das System sie nicht automatisch korrigieren. Sie müssen vom Administrator korrigiert werden. Weitere Informationen finden Sie im letzten Schritt für manuelle Änderungen.</p>
</div>
<div class="section" id="step-5-update-installed-packages">
<h2>Schritt 5: Installierte Pakete aktualisieren<a class="headerlink" href="#step-5-update-installed-packages" title="Link zu dieser Überschrift">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Bemerkung</p>
<p class="last">Pakete für OTRS 7 sind nicht kompatibel mit OTRS 8 und müssen aktualisiert werden.</p>
</div>
<p>Sie können den folgenden Befehl verwenden, um alle installierten Pakete zu aktualisieren. Dies funktioniert für alle Pakete, die in Online-Repositorys verfügbar sind. Sie können andere Pakete später über den Paketmanager aktualisieren (dies erfordert einen laufenden OTRS-Daemon).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>otrs&gt; /opt/otrs/bin/otrs.Console.pl Admin::Package::UpgradeAll
</pre></div>
</div>
</div>
<div class="section" id="step-6-start-your-services">
<h2>Schritt 6: Ihre Dienste starten<a class="headerlink" href="#step-6-start-your-services" title="Link zu dieser Überschrift">¶</a></h2>
<p>Danach können die Services gestartet werden. Dies hängt von Konfiguration Ihrer Services ab. Hier ein Beispiel:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root&gt; systemctl start postfix
root&gt; systemctl start apache2
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Bemerkung</p>
<p class="last">Der OTRS Daemon ist für den korrekten Betrieb von OTRS erforderlich, beispielsweise für das Senden von E-Mails. Bitte aktivieren Sie den Daemon wie im nächsten Schritt beschrieben.</p>
</div>
</div>
<div class="section" id="step-7-start-the-otrs-daemon-and-web-server">
<h2>Schritt 7: OTRS-Daemon und Webserver starten<a class="headerlink" href="#step-7-start-the-otrs-daemon-and-web-server" title="Link zu dieser Überschrift">¶</a></h2>
<p>OTRS enthält Beispiel Systemd-Konfigurationsdateien, mit denen sichergestellt werden kann, dass der OTRS-Daemon und der Webserver nach dem Systemstart automatisch gestartet werden.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root&gt; <span class="nb">cd</span> /opt/otrs/scripts/systemd
root&gt; <span class="k">for</span> UNIT in *.service<span class="p">;</span> <span class="k">do</span> cp -vf <span class="nv">$UNIT</span> /usr/lib/systemd/system/<span class="p">;</span> systemctl <span class="nb">enable</span> <span class="nv">$UNIT</span><span class="p">;</span> <span class="k">done</span>
root&gt; systemctl start otrs-daemon
root&gt; systemctl start otrs-webserver
</pre></div>
</div>
<p>Jetzt können Sie sich in Ihrem System anmelden.</p>
</div>
<div class="section" id="step-8-manual-migration-tasks-and-changes">
<h2>Schritt 8: Manuelle Migrationsaufgaben und -änderungen<a class="headerlink" href="#step-8-manual-migration-tasks-and-changes" title="Link zu dieser Überschrift">¶</a></h2>
<div class="admonition warning">
<p class="first admonition-title">Warnung</p>
<p class="last">Dieser Schritt ist nur bei größeren Major-Updates von OTRS 7 erforderlich.</p>
</div>
<p>Mit OTRS 8 ist eine neue Standard-Passwortrichtlinie für Agenten und Kundenbenutzer in Kraft getreten. Die Regeln der Passwortrichtlinien können in der Systemkonfiguration geändert werden (<code class="docutils literal notranslate"><span class="pre">PreferencesGroups####Password</span></code> und <code class="docutils literal notranslate"><span class="pre">CustomerPersonalPreference####Password</span></code>).</p>
<table border="1" class="docutils">
<colgroup>
<col width="74%" />
<col width="26%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Regel zur Passwort-Richtlinie</th>
<th class="head">Standard</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">PasswordMinSize</span></code></td>
<td>8</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">PasswordMin2Lower2UpperCharacters</span></code></td>
<td>Ja</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">PasswordNeedDigit</span></code></td>
<td>Ja</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">PasswordHistory</span></code></td>
<td>10</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">PasswordTTL</span></code></td>
<td>30 Tage</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">PasswordWarnBeforeExpiry</span></code></td>
<td>5 Tage</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">PasswordChangeAfterFirstLogin</span></code></td>
<td>Ja</td>
</tr>
</tbody>
</table>
<p>Es ist auch möglich, einige Ausnahmen von der Passwortrichtlinie für Agenten oder Kundenbenutzer hinzuzufügen. Bitte überprüfen Sie die folgenden Konfigurationsoptionen für Details:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">PasswordPolicy::ExceptAgentPasswordComplexity</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">PasswordPolicy::ExceptAgentPasswordTTL</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">PasswordPolicy::ExceptAgentPasswordHistory</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">PasswordPolicy::ExceptAgentPasswordChangeAfterFirstLogin</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">PasswordPolicy::ExceptCustomerPasswordComplexity</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">PasswordPolicy::ExceptCustomerPasswordTTL</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">PasswordPolicy::ExceptCustomerPasswordHistory</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">PasswordPolicy::ExceptCustomerPasswordChangeAfterFirstLogin</span></code></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="recommendation-convert-your-mysql-database">
<h2>Empfehlung: Konvertieren Sie Ihre MySQL-Datenbank<a class="headerlink" href="#recommendation-convert-your-mysql-database" title="Link zu dieser Überschrift">¶</a></h2>
<p>OTRS 7 und frühere Versionen unterstützten nur den <code class="docutils literal notranslate"><span class="pre">utf8</span></code> MySQL-Datenbank-Zeichensatz, der nicht in der Lage ist, alle Unicode-Zeichen zu speichern. Seit OTRS 8 wird auch der Zeichensatz <code class="docutils literal notranslate"><span class="pre">utf8mb4</span></code> unterstützt, wodurch diese Einschränkung aufgehoben wird. Es wird empfohlen, Ihre Datenbank nach Belieben mit dem eingebauten Migrationsskript zu konvertieren.</p>
<p>Wenn Sie das Migrationsskript ohne Optionen ausführen, wird nur angezeigt, wenn etwas konvertiert werden muss.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>otrs&gt; /opt/otrs/bin/otrs.Console.pl Maint::Database::MySQL::UTF8MB4Migration
The following tasks need to be done:
  - 1 table(s) need to be converted to &#39;DYNAMIC&#39; row format
  - the database needs to be converted to &#39;utf8mb4&#39;
  - 411 column(s) need to be converted to &#39;utf8mb4&#39;
  - 156 table(s) need to be converted to &#39;utf8mb4&#39;
</pre></div>
</div>
<p>Verwenden Sie die Option <code class="docutils literal notranslate"><span class="pre">--force</span></code>, um die eigentliche Migration durchzuführen.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>otrs&gt; /opt/otrs/bin/otrs.Console.pl Maint::Database::MySQL::UTF8MB4Migration --force
...
</pre></div>
</div>
<p>Nachdem die Migration abgeschlossen ist, müssen Sie einen neuen Schalter zur Datei <code class="docutils literal notranslate"><span class="pre">Kernel/Config.pm</span></code> hinzufügen, um die <code class="docutils literal notranslate"><span class="pre">utf8mb4`</span></code> Unterstützung zu aktivieren.</p>
<div class="highlight-perl notranslate"><div class="highlight"><pre><span></span><span class="nv">$Self</span><span class="o">-&gt;</span><span class="p">{</span><span class="s">&#39;Database::mysql::utf8mb4&#39;</span><span class="p">}</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Bemerkung</p>
<p class="last">OTRS 8 kann auch ohne diese Migration im Zeichensatz <code class="docutils literal notranslate"><span class="pre">utf8</span></code> betrieben werden. OTRS 9 wird jedoch nur den Zeichensatz <code class="docutils literal notranslate"><span class="pre">utf8mb4</span></code> unterstützen. Daher muss diese Migration irgendwann während des Lebenszyklus von OTRS 8 durchgeführt werden.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          

<script>
// Start Google Analytics Tracking
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-28118796-2', 'auto');
ga('send', 'pageview');
// End Google Analytics Tracking
</script>

<footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="backup-restore.html" class="btn btn-neutral float-right" title="Sichern und Wiederherstellen" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="installation.html" class="btn btn-neutral" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2001-2020 OTRS AG, https://otrs.com/

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/translations.js"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>